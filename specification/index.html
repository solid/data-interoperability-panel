<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Solid Application Interoperability</title>
  <meta content="w3c/ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" rel="stylesheet">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="Bikeshed version 4f053d00e, updated Tue Aug 10 14:13:32 2021 -0700" name="generator">
  <link href="https://solid.github.io/data-interoperability-panel/specification/" rel="canonical">
  <meta content="b04c14c3d22cd9c4176619970e33cf76c3ca33ef" name="document-revision">
<style>
table.permissions thead tr {
  font-size: 12px;
  text-align: left;
}

table.permissions th {
  text-align: left;
}

table.permissions tbody tr:nth-child(even) {
  background-color: lightgray;
  font-size: 10px;
}

table.permissions tbody td {
  font-size: 10px;
  text-align: left;
}

table.classinfo thead tr th[colspan] {
  text-align: left;
  font-size: 15px;
}

table.classinfo thead tr th {
  text-align: left;
  font-size: 14px;
}

table.classinfo tbody tr:nth-child(odd) {
  background-color: lightgray;
  font-size: 12px;
}

table.classinfo tbody tr td {
  font-size: 12px;
}

table.tree thead tr {
  font-size: 14px;
}

table.tree tbody tr:nth-child(even) {
  background-color: lightgray;
  font-size: 14px;
}

table.tree tbody td {
  font-size: 12px;
}

table.intersecting thead tr {
  font-size: 14px ;
}

table.intersecting tbody tr:nth-child(odd) {
  background-color: lightgray;
  font-size: 14px;
}

table.intersecting tbody td {
  font-size: 13px;
  vertical-align: top ;
  text-align: left;
}

table.intersecting td[colspan] {
  text-align: left;
}

table.operation {
  border-collapse: separate;
  border: 3px solid #808080;
  margin-bottom: .5em;
}

table.operation thead tr {
  font-size: 14px;
}

table.operation thead th {
  background-color: #005A9C;
  color: #FFF;
}

table.operation th[colspan] {
  text-align: left;
}

table.operation td[colspan] {
  text-align: left;
}

table.operation tbody td {
  font-size: 13px;
  text-align: left;
}

table.operation code {
  background-color: #DCDCDC;
  color: #000;
  font-size: 13px;
  padding-left: .2em;
  padding-right: .2em;
  padding-top: .05em;
  padding-bottom: .05em;
}

.opdetails code {
  background-color: #DCDCDC;
  color: #000;
  font-weight: bold;
  font-size: 13px;
  padding-left: .2em;
  padding-right: .2em;
  padding-top: .05em;
  padding-bottom: .05em;
}

.opdetails ol {
  margin-left: 0;
  padding-left: 1em;
}

pre {
  font-size: .8em;
}

figcaption {
  text-align: left;
}

a[data-link-type=dfn] {
  color: #000000;
}

a[href*=".ttl"] {
  color: #339966;
  border-bottom: 1px solid #339966;
}

a[href^="#class"] {
  color: #339966;
  border-bottom: 1px solid #339966;
}

a.vocab {
  color: #339966;
  border-bottom: 1px solid #339966;
}

a[href*=".shex"] {
  color: #cc2900;
  border-bottom: 1px solid #cc2900;
}

a[href^="#shex"] {
  color: #cc2900;
  border-bottom: 1px solid #cc2900;
}

a[href*=".tree"] {
  color: #e68a00;
  border-bottom: 1px solid #e68a00;
}

a[href^="#tree"] {
  color: #e68a00;
  border-bottom: 1px solid #e68a00;
}

em.rfc2119 {
  text-transform: lowercase;
  font-variant: small-caps;
  font-style: normal;
  font-size: 18px;
  color: #900;
}

</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Solid Application Interoperability</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2021-08-17">17 August 2021</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://solid.github.io/data-interoperability-panel/specification/">https://solid.github.io/data-interoperability-panel/specification/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/solid/data-interoperability-panel/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Justin Bingham</span>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Eric Prud'hommeaux</span>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">elf Pavlik</span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"> MIT License Copyright 2019 - 2020 W3C Solid Community Group </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification details how Agents and Applications can safely

  share and interoperate over data in a Solid Pod.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#agents"><span class="secno">2</span> <span class="content">Agent</span></a>
     <ol class="toc">
      <li><a href="#agents-overview"><span class="secno">2.1</span> <span class="content">Overview</span></a>
      <li><a href="#agents-datamodel"><span class="secno">2.2</span> <span class="content">Data Model</span></a>
      <li><a href="#agents-hierarchy"><span class="secno">2.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#agents-permissions"><span class="secno">2.4</span> <span class="content">Permission Model</span></a>
     </ol>
    <li>
     <a href="#app"><span class="secno">3</span> <span class="content">Application</span></a>
     <ol class="toc">
      <li><a href="#app-overview"><span class="secno">3.1</span> <span class="content">Overview</span></a>
      <li><a href="#app-datamodel"><span class="secno">3.2</span> <span class="content">Data Model</span></a>
      <li><a href="#app-hierarchy"><span class="secno">3.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#app-permissions"><span class="secno">3.4</span> <span class="content">Permission Model</span></a>
      <li><a href="#app-services"><span class="secno">3.5</span> <span class="content">Application Services</span></a>
     </ol>
    <li>
     <a href="#appreg"><span class="secno">4</span> <span class="content">Application Registration</span></a>
     <ol class="toc">
      <li><a href="#appreg-overview"><span class="secno">4.1</span> <span class="content">Overview</span></a>
      <li><a href="#appreg-datamodel"><span class="secno">4.2</span> <span class="content">Data Model</span></a>
      <li><a href="#appreg-hierarchy"><span class="secno">4.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#appreg-permissions"><span class="secno">4.4</span> <span class="content">Permission Model</span></a>
      <li><a href="#appreg-operations"><span class="secno">4.5</span> <span class="content">Operations</span></a>
      <li><a href="#appreg-services"><span class="secno">4.6</span> <span class="content">Application Services</span></a>
     </ol>
    <li>
     <a href="#datareg"><span class="secno">5</span> <span class="content">Data Registration</span></a>
     <ol class="toc">
      <li><a href="#datareg-overview"><span class="secno">5.1</span> <span class="content">Overview</span></a>
      <li><a href="#datareg-datamodel"><span class="secno">5.2</span> <span class="content">Data Model</span></a>
      <li><a href="#datareg-hierarchy"><span class="secno">5.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#datareg-permissions"><span class="secno">5.4</span> <span class="content">Permission Model</span></a>
      <li><a href="#datareg-operations"><span class="secno">5.5</span> <span class="content">Operations</span></a>
     </ol>
    <li>
     <a href="#authz"><span class="secno">6</span> <span class="content">Data Authorization</span></a>
     <ol class="toc">
      <li><a href="#authz-overview"><span class="secno">6.1</span> <span class="content">Overview</span></a>
      <li><a href="#authz-workflows"><span class="secno">6.2</span> <span class="content">Workflows</span></a>
      <li><a href="#authz-services"><span class="secno">6.3</span> <span class="content">Application Services</span></a>
     </ol>
    <li>
     <a href="#needs"><span class="secno">7</span> <span class="content">Access Needs</span></a>
     <ol class="toc">
      <li><a href="#needs-overview"><span class="secno">7.1</span> <span class="content">Overview</span></a>
      <li><a href="#needs-datamodel"><span class="secno">7.2</span> <span class="content">Data Model</span></a>
      <li><a href="#needs-operations"><span class="secno">7.3</span> <span class="content">Operations</span></a>
     </ol>
    <li>
     <a href="#grants"><span class="secno">8</span> <span class="content">Access Grants</span></a>
     <ol class="toc">
      <li><a href="#grants-overview"><span class="secno">8.1</span> <span class="content">Overview</span></a>
      <li><a href="#grants-datamodel"><span class="secno">8.2</span> <span class="content">Data Model</span></a>
      <li><a href="#grants-hierarchy"><span class="secno">8.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#grants-operations"><span class="secno">8.4</span> <span class="content">Operations</span></a>
     </ol>
    <li>
     <a href="#receipts"><span class="secno">9</span> <span class="content">Access Receipts</span></a>
     <ol class="toc">
      <li><a href="#receipts-overview"><span class="secno">9.1</span> <span class="content">Overview</span></a>
      <li><a href="#receipts-datamodel"><span class="secno">9.2</span> <span class="content">Data Model</span></a>
      <li><a href="#receipts-hierarchy"><span class="secno">9.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#receipts-operations"><span class="secno">9.4</span> <span class="content">Operations</span></a>
     </ol>
    <li>
     <a href="#remote"><span class="secno">10</span> <span class="content">Remote Data Registration</span></a>
     <ol class="toc">
      <li><a href="#remote-overview"><span class="secno">10.1</span> <span class="content">Overview</span></a>
      <li><a href="#remote-datamodel"><span class="secno">10.2</span> <span class="content">Data Model</span></a>
      <li><a href="#remote-hierarchy"><span class="secno">10.3</span> <span class="content">Resource Hierarchy</span></a>
      <li><a href="#remote-operations"><span class="secno">10.4</span> <span class="content">Operations</span></a>
     </ol>
    <li>
     <a href="#security"><span class="secno">11</span> <span class="content">Security</span></a>
     <ol class="toc">
      <li><a href="#security-appauthz"><span class="secno">11.1</span> <span class="content">Application Authorization</span></a>
     </ol>
    <li><a href="#definitions"><span class="secno">12</span> <span class="content">Definitions</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>Solid affords us the opportunity to create a valuable and
powerful ecosystem where people and organizations retain control
of their data, but are also able to put it to work and use it
to its full potential. The fundamentals of Solid make this possible,
but further definition of standard methods and mechanisms must be established
to make it practical, intuitive, and secure.</p>
   <p class="note" role="note"><span>Note:</span> See <a data-link-type="biblio" href="#biblio-problems-and-goals">Problems and Goals for Interoperability in Solid</a> for a detailed explanation of the problem space.</p>
   <p>This specification details how <a data-link-type="dfn" href="#agent" id="ref-for-agent">Agents</a> in the Solid ecosystem
can read, write, and manage data stored in a Solid pod using
disparate <a data-link-type="dfn" href="#application" id="ref-for-application">Applications</a>, either individually or in collaboration with 
other <a data-link-type="dfn" href="#agent" id="ref-for-agent①">Agents</a>.</p>
   <p><a href="#appreg">§ 4 Application Registration</a> lets <a data-link-type="dfn" href="#agent" id="ref-for-agent②">Agents</a> register and track the <a data-link-type="dfn" href="#application" id="ref-for-application①">Applications</a> they’ve
decided to use.</p>
   <p><a href="#datareg">§ 5 Data Registration</a> lets <a data-link-type="dfn" href="#agent" id="ref-for-agent③">Agents</a> register, organize, and lookup their data.
Data is stored uniformly, avoiding complex physical hierarchies. <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree">Shape trees</a> and <a data-link-type="dfn" href="#shape" id="ref-for-shape">shapes</a> provide strong data validation and
intuitive data boundaries.</p>
   <p><a href="#authz">§ 6 Data Authorization</a> provides the means for an <a data-link-type="dfn" href="#agent" id="ref-for-agent④">Agent</a> to grant other <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤">Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application②">Applications</a> access to data in their control.</p>
   <ul>
    <li data-md>
     <p><a href="#needs">§ 7 Access Needs</a> let <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥">Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application③">Applications</a> express which data they
need access to, and patterns to request those needs.</p>
    <li data-md>
     <p><a href="#grants">§ 8 Access Grants</a> let <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦">Agents</a> manage and track access they’ve granted to
other <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧">Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application④">Applications</a>.</p>
    <li data-md>
     <p><a href="#receipts">§ 9 Access Receipts</a> are provided by <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨">Agents</a> to other <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪">Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application⑤">Applications</a> to let them know about the access they’ve been
granted.</p>
    <li data-md>
     <p><a href="#remote">§ 10 Remote Data Registration</a> lets <a data-link-type="dfn" href="#agent" id="ref-for-agent①①">Agents</a> maintain a local registry of remote data
that has been shared with them by other <a data-link-type="dfn" href="#agent" id="ref-for-agent①②">Agents</a>.</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="agents"><span class="secno">2. </span><span class="content">Agent</span><a class="self-link" href="#agents"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="agents-overview"><span class="secno">2.1. </span><span class="content">Overview</span><a class="self-link" href="#agents-overview"></a></h3>
   <p><a data-link-type="dfn" href="#agent" id="ref-for-agent①③">Agents</a> represent the primary actors in an interoperable Solid <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem">ecosystem</a>.</p>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①④">Agent</a> is denoted by an <a data-link-type="dfn" href="#identity" id="ref-for-identity">identity</a>. Dereferencing that <a data-link-type="dfn" href="#identity" id="ref-for-identity①">identity</a> leads to the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤">Agent</a>, and a graph of useful information about them. This
graph is used by the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥">Agent</a> to look up their own data, as well as data
that has been shared with them.</p>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦">Agent</a> is designed to be publicly accessible, but many of the
things the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧">Agent</a> links to are designed to be private, or accessible
only by other <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨">Agents</a> or <a data-link-type="dfn" href="#application" id="ref-for-application⑥">Applications</a> that the <a data-link-type="dfn" href="#agent" id="ref-for-agent②⓪">Agent</a> has authorized.</p>
   <p>Consequently, other <a data-link-type="dfn" href="#agent" id="ref-for-agent②①">Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application⑦">Applications</a> can dereference the <a data-link-type="dfn" href="#identity" id="ref-for-identity②">identity</a> of an <a data-link-type="dfn" href="#agent" id="ref-for-agent②②">Agent</a> to obtain 
the information they need to interact with them.</p>
   <p>Most of an <a data-link-type="dfn" href="#agent" id="ref-for-agent②③">Agent’s</a> information is stored in <a data-link-type="dfn" href="#registry" id="ref-for-registry">Registries</a>.
A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registry">Registry</dfn> is a place where an <a data-link-type="dfn" href="#agent" id="ref-for-agent②④">Agent</a> can store and find
different types of data, often for particular purposes. Each type
of <a data-link-type="dfn" href="#registry" id="ref-for-registry①">Registry</a> serves a specific purpose or function.</p>
   <table align="left" class="classinfo data" id="agentRegistries">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th>Registry
      <th>Description
    <tbody>
     <tr>
      <td>Application Registry
      <td>Records the <a data-link-type="dfn" href="#application" id="ref-for-application⑧">Applications</a> that a given <a data-link-type="dfn" href="#agent" id="ref-for-agent②⑤">Agent</a> uses
      or has given access to. <i>See <a href="#appreg">Application Registration</a></i>
     <tr>
      <td>Data Registry
      <td>Stores and organizes data types for interoperable use by different <a data-link-type="dfn" href="#application" id="ref-for-application⑨">Applications</a> and shared with other <a data-link-type="dfn" href="#agent" id="ref-for-agent②⑥">Agents</a> <i>See <a href="#datareg">Data Registration</a></i>
     <tr>
      <td>Access Grant Registry
      <td>Records access granted to other <a data-link-type="dfn" href="#agent" id="ref-for-agent②⑦">Agents</a> and/or <a data-link-type="dfn" href="#application" id="ref-for-application①⓪">Applications</a> <i>See <a href="#grants">Access Grants</a></i>
     <tr>
      <td>Access Receipt Registry
      <td>Tracks access that has been granted by other <a data-link-type="dfn" href="#agent" id="ref-for-agent②⑧">Agents</a> <i>See <a href="#receipts">Access Receipts</a></i>
     <tr>
      <td>Remote Data Registry
      <td>Local references to data that has been shared by other <a data-link-type="dfn" href="#agent" id="ref-for-agent②⑨">Agents</a> <i>See <a href="#remote">Remote Data Registration</a></i>
   </table>
   <h3 class="heading settled" data-level="2.2" id="agents-datamodel"><span class="secno">2.2. </span><span class="content">Data Model</span><a class="self-link" href="#agents-datamodel"></a></h3>
   <h4 class="heading settled" data-level="2.2.1" id="agents-datamodel-summary"><span class="secno">2.2.1. </span><span class="content">Summary</span><a class="self-link" href="#agents-datamodel-summary"></a></h4>
   <p>When an <a data-link-type="dfn" href="#agent" id="ref-for-agent③⓪">Agent</a> has more than one pod, or is managing
data on behalf of another <a data-link-type="dfn" href="#agent" id="ref-for-agent③①">Agent</a>, they will be linked to multiple <a data-link-type="dfn" href="#registry" id="ref-for-registry②">Registries</a> of the same type. A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registry-set">Registry Set</dfn> is used to
organize <a data-link-type="dfn" href="#registry" id="ref-for-registry③">Registries</a> of the same type together.</p>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent③②">Agent</a> links to each kind of <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set">Registry Set</a> through type-specific
subproperties of <a href="interop.ttl#hasRegistrySet">interop:hasRegistrySet</a>.</p>
   <p>This allows one <a data-link-type="dfn" href="#agent" id="ref-for-agent③③">Agent</a> to
link to many <a data-link-type="dfn" href="#registry" id="ref-for-registry④">Registries</a> across the Web, without exposing those <a data-link-type="dfn" href="#registry" id="ref-for-registry⑤">Registries</a> in a public document. Different permissions can be
assigned to each <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①">Registry Set</a>, depending on the sensitivity of the <a data-link-type="dfn" href="#registry" id="ref-for-registry⑥">Registries</a> they link to.</p>
   <p><a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set②">Registry Sets</a> link to <a data-link-type="dfn" href="#registry" id="ref-for-registry⑦">Registries</a> through the <a href="interop.ttl#hasRegistry">interop:hasRegistry</a> property.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#agent" id="ref-for-agent③④">Agent</a> at https://alice.pod.example/profile/id#me</figcaption>
<pre class="highlight"><c- g>&lt;#me></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-><c- p>;</c->
  <c- c>######## Registry Sets ########</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasApplicationRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/application#set></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/data#set></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/grant#set></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceiptRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/receipt#set></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/remote#set></c-> <c- p>;</c->
  <c- c>######## Inboxes ########</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasInbox</c-> <c- g>&lt;https://alice.pod.example/inbox/general></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessInbox</c-> <c- g>&lt;https://alice.pod.example/inbox/access></c-> <c- p>;</c->
  <c- c>######## Options ########</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>receivesAccessReceipt</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInMessage</c-> <c- p>.</c->
</pre>
   </figure>
   <h4 class="heading settled" data-level="2.2.2" id="datamodel-agent"><span class="secno">2.2.2. </span><span class="content">Agent</span><a class="self-link" href="#datamodel-agent"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="agent">Agent</dfn> is a distinct individual, group, organization, or piece
of software with an <a data-link-type="dfn" href="#identity" id="ref-for-identity③">identity</a> that can be strongly authenticated.</p>
   <table align="left" class="classinfo data" id="classAgent">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#Agent">Agent</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasApplicationRegistrySet
      <td><a href="#classApplicationRegistrySet">ApplicationRegistrySet</a>
      <td><a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set">Application Registry Set</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent③⑤">Agent</a>
     <tr>
      <td>hasDataRegistrySet
      <td><a href="#classDataRegistrySet">DataRegistrySet</a>
      <td><a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set">Data Registry Set</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent③⑥">Agent</a>
     <tr>
      <td>hasAccessGrantRegistrySet
      <td><a href="#classAccessGrantRegistrySet">AccessGrantRegistrySet</a>
      <td><a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set">Access Grant Registry Set</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent③⑦">Agent</a>
     <tr>
      <td>hasAccessReceiptRegistrySet
      <td><a href="#classAccessReceiptRegistrySet">AccessReceiptRegistrySet</a>
      <td><a data-link-type="dfn" href="#access-receipt-registry-set" id="ref-for-access-receipt-registry-set">Access Receipt Registry Set</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent③⑧">Agent</a>
     <tr>
      <td>hasRemoteDataRegistrySet
      <td><a href="#classRemoteDataRegistrySet">RemoteDataRegistrySet</a>
      <td><a data-link-type="dfn" href="#remote-data-registry-set" id="ref-for-remote-data-registry-set">Remote Data Registry Set</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent③⑨">Agent</a>
     <tr>
      <td>hasInbox
      <td>ldp:inbox
      <td>A general inbox for messages sent to the <a data-link-type="dfn" href="#agent" id="ref-for-agent④⓪">Agent</a>
     <tr>
      <td>hasAccessInbox
      <td>ldp:inbox
      <td>An inbox for access related messages sent to the <a data-link-type="dfn" href="#agent" id="ref-for-agent④①">Agent</a>
     <tr>
      <td>receivesAccessReceipt
      <td>interop:ReceiptInMessage,
      interop:ReceiptInRegistration
      <td>Identifies whether <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt">Access Receipts</a> should be sent directly
      to the <a data-link-type="dfn" href="#application" id="ref-for-application①①">Application</a> or provided in the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration">Application Registration</a> if the <a data-link-type="dfn" href="#agent" id="ref-for-agent④②">Agent</a> is also an <a data-link-type="dfn" href="#application" id="ref-for-application①②">Application</a>
   </table>
   <p>The <a href="#shexAgent">AgentShape</a> is used to validate an instance of the <a href="#classAgent">Agent</a> class.</p>
<pre class="highlight" id="shexAgent"><c- g>&lt;#AgentShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasApplicationRegistrySet</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistrySet</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantRegistrySet</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceiptRegistrySet</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistrySet</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasInbox</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessInbox</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>receivesAccessReceipt</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInMessage</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInRegistration</c-> <c- p>]</c->
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AgentTree">AgentTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexAgent">AgentShape</a>.</p>
<pre class="highlight" id="treeAgent"><c- g>&lt;#AgentTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AgentShape></c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="2.3" id="agents-hierarchy"><span class="secno">2.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#agents-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- id#me</code>
      <td><a href="#classAgent">Agent</a>
      <td><a href="#shexAgent">AgentShape</a>
      <td><a href="#treeAgent">AgentTree</a>
     <tr>
      <td><code>-- application#set</code>
      <td><a href="#classApplicationRegistrySet">ApplicationRegistrySet</a>
      <td><a href="#shexApplicationRegistrySet">ApplicationRegistrySetShape</a>
      <td><a href="#treeApplicationRegistrySet">ApplicationRegistrySetTree</a>
     <tr>
      <td><code>-- data#set</code>
      <td><a href="#classDataRegistrySet">DataRegistrySet</a>
      <td><a href="#shexDataRegistrySet">DataRegistrySetShape</a>
      <td><a href="#treeDataRegistrySet">DataRegistrySetTree</a>
     <tr>
      <td><code>-- grant#set</code>
      <td><a href="#classAccessGrantRegistrySet">AccessGrantRegistrySet</a>
      <td><a href="#shexAccessGrantRegistrySet">AccessGrantRegistrySetShape</a>
      <td><a href="#treeAccessGrantRegistrySet">AccessGrantRegistrySetTree</a>
     <tr>
      <td><code>-- receipt#set</code>
      <td><a href="#classAccessReceiptRegistrySet">AccessReceiptRegistrySet</a>
      <td><a href="#shexAccessReceiptRegistrySet">AccessReceiptRegistrySetShape</a>
      <td><a href="#treeAccessReceiptRegistrySet">AccessReceiptRegistrySetTree</a>
     <tr>
      <td><code>-- remote#set</code>
      <td><a href="#classRemoteDataRegistrySet">RemoteDataRegistrySet</a>
      <td><a href="#shexRemoteDataRegistrySet">RemoteDataRegistrySetShape</a>
      <td><a href="#treeRemoteDataRegistrySet">RemoteDataRegistrySetTree</a>
     <tr>
      <td><code>/inbox/access</code>
      <td><a class="vocab" href="https://www.w3.org/ns/ldp#inbox">ldp:inbox</a>
      <td>-
      <td><a href="interop.tree#treeAccessInbox">AccessInboxTree</a>
     <tr>
      <td><code>/inbox/general</code>
      <td><a class="vocab" href="https://www.w3.org/ns/ldp#inbox">ldp:inbox</a>
      <td>-
      <td>-
   </table>
   <p><a data-link-type="dfn" href="#agent" id="ref-for-agent④③">Agent</a> resources <em class="rfc2119">MAY</em> use any resource or
subject names. The names used herein have been selected for comprehension
and readability.</p>
   <h3 class="heading settled" data-level="2.4" id="agents-permissions"><span class="secno">2.4. </span><span class="content">Permission Model</span><a class="self-link" href="#agents-permissions"></a></h3>
   <p>The permission model for the resources detailed in <a href="#agents-hierarchy">§ 2.3 Resource Hierarchy</a> are illustrated in the table below.</p>
   <p><b>Notable items:</b></p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document">identity profile document</a> <code>id</code> which contains the <a data-link-type="dfn" href="#agent" id="ref-for-agent④④">Agent</a> instance
gives the public read-only access.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set③">Registry Sets</a> are not publicly exposed. Only the <a data-link-type="dfn" href="#agent" id="ref-for-agent④⑤">Agent</a> or their <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent">Trusted Agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-application①③">Applications</a> can see the <a data-link-type="dfn" href="#registry" id="ref-for-registry⑧">Registries</a> listed by them.</p>
   </ul>
   <figure>
    <figcaption>Permission model for <a data-link-type="dfn" href="#agent" id="ref-for-agent④⑥">Agent</a> resources</figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
     <colgroup>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th scope="colgroup">Agent
       <th scope="colgroup">Public
       <th scope="colgroup">Trusted Agents
       <th scope="colgroup">Other Agents Granted Access
      <tr>
       <th scope="col">Resource
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/profile/</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- id</code>
       <td>Control
       <td>Read
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- application</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- data</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- access</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- receipt</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- remote</code>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
    </table>
   </figure>
   <h2 class="heading settled" data-level="3" id="app"><span class="secno">3. </span><span class="content">Application</span><a class="self-link" href="#app"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="app-overview"><span class="secno">3.1. </span><span class="content">Overview</span><a class="self-link" href="#app-overview"></a></h3>
   <p><a data-link-type="dfn" href="#application" id="ref-for-application①④">Applications</a> are pieces of software that <a data-link-type="dfn" href="#agent" id="ref-for-agent④⑦">Agents</a> use to
access, manipulate, and manage the data in their control, and the data
they’ve been granted access to.</p>
   <p>An <a data-link-type="dfn" href="#application" id="ref-for-application①⑤">Application</a> is denoted by an <a data-link-type="dfn" href="#identity" id="ref-for-identity④">identity</a>. Dereferencing that <a data-link-type="dfn" href="#identity" id="ref-for-identity⑤">identity</a> leads to an <a data-link-type="dfn" href="#application" id="ref-for-application①⑥">Application</a> profile instance, and a graph of
useful information about them.</p>
   <p>The information in the <a data-link-type="dfn" href="#application" id="ref-for-application①⑦">Application</a> profile is used during <a href="#appreg">§ 4 Application Registration</a> and <a href="#authz">§ 6 Data Authorization</a> to help <a data-link-type="dfn" href="#agent" id="ref-for-agent④⑧">Agents</a> determine whether they want to use
the <a data-link-type="dfn" href="#application" id="ref-for-application①⑧">Application</a>, what kind of data it needs access to, and whether
they’ll willing to give it that access.</p>
   <p>The <a data-link-type="dfn" href="#application" id="ref-for-application①⑨">Application</a> profile is designed to be publicly accessible.</p>
   <h3 class="heading settled" data-level="3.2" id="app-datamodel"><span class="secno">3.2. </span><span class="content">Data Model</span><a class="self-link" href="#app-datamodel"></a></h3>
   <h4 class="heading settled" data-level="3.2.1" id="app-datamodel-summary"><span class="secno">3.2.1. </span><span class="content">Summary</span><a class="self-link" href="#app-datamodel-summary"></a></h4>
   <p>An <a data-link-type="dfn" href="#application" id="ref-for-application②⓪">Application</a> provides summary detail about itself, and its
author, via properties in the <a href="#classApplication">Application</a> class.</p>
   <p>An <a data-link-type="dfn" href="#application" id="ref-for-application②①">Application</a> identifies the types of data it requires access to
by linking to <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group">Access Need Groups</a> via the <a href="#classAccessNeedGroup">interop:hasAccessNeedGroup</a> property.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#application" id="ref-for-application②②">Application</a> at https://app.example/profile/id#app</figcaption>
<pre class="highlight"><c- g>&lt;#app></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Application</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationName</c-> <c- s>"Example Application"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationDescription</c-> <c- s>"This is a description of the Example Application"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationAuthor</c-> <c- g>&lt;https://app.example/org/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationAuthorName</c-> <c- s>"Example Organization"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationThumbnail</c-> <c- g>&lt;https://app.example/profile/thumb.svg></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> <c- g>&lt;#exampleAccessNeedGroup></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>receivesAccessReceipt</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInRegistration</c-> <c- p>.</c->
</pre>
   </figure>
   <h4 class="heading settled" data-level="3.2.2" id="datamodel-application"><span class="secno">3.2.2. </span><span class="content">Application</span><a class="self-link" href="#datamodel-application"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application">Application</dfn> is a piece of software that an <a data-link-type="dfn" href="#agent" id="ref-for-agent④⑨">Agent</a> uses to
access, manipulate, and manage the data in their control, as well as the data
they’ve been granted access to.</p>
   <table align="left" class="classinfo data" id="classApplication">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#Application">Application</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>applicationName
      <td>xsd:string
      <td>Name of the <a data-link-type="dfn" href="#application" id="ref-for-application②③">Application</a>
     <tr>
      <td>applicationDescription
      <td>xsd:string
      <td>Description of the <a data-link-type="dfn" href="#application" id="ref-for-application②④">Application</a>
     <tr>
      <td>applicationAuthor
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⓪">Agent</a> that authored the <a data-link-type="dfn" href="#application" id="ref-for-application②⑤">Application</a>
     <tr>
      <td>applicationAuthorName
      <td>xsd:string
      <td>Name of the Author
     <tr>
      <td>applicationThumbnail
      <td>binary image
      <td>Thumbnail for the <a data-link-type="dfn" href="#application" id="ref-for-application②⑥">Application</a>
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①">Access Need Group</a> representing types of data the <a data-link-type="dfn" href="#application" id="ref-for-application②⑦">Application</a> needs to operate
     <tr>
      <td>receivesAccessReceipt
      <td>interop:ReceiptInMessage,
      interop:ReceiptInRegistration
      <td>Identifies whether <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①">Access Receipts</a> should be sent directly
      to the <a data-link-type="dfn" href="#application" id="ref-for-application②⑧">Application</a> or provided in the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①">Application Registration</a>
   </table>
   <p>The <a href="#shexApplication">ApplicationShape</a> is used to validate an instance of the <a href="#classApplication">Application</a> class.</p>
<pre class="highlight" id="shexApplication"><c- g>&lt;#ApplicationShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Application</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationName</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationDescription</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationAuthor</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationAuthorName</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>applicationThumbanil</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>receivesAccessReceipt</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInMessage</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReceiptInRegistration</c-> <c- p>]</c->
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#ApplicationTree">ApplicationTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexApplication">ApplicationShape</a>.</p>
<pre class="highlight" id="treeApplication"><c- g>&lt;#ApplicationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#ApplicationShape></c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="3.3" id="app-hierarchy"><span class="secno">3.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#app-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="ecosystem.tree#ApplicationProfileTree">ApplicationProfileTree</a>
     <tr>
      <td><code>-- id#app</code>
      <td><a href="#classApplication">Application</a>
      <td><a href="#shexApplication">ApplicationShape</a>
      <td><a href="#treeApplication">ApplicationTree</a>
     <tr>
      <td><code>-- thumb.svg</code>
      <td>-
      <td>-
      <td>-
   </table>
   <p><a data-link-type="dfn" href="#application" id="ref-for-application②⑨">Application</a> resources <em class="rfc2119">MAY</em> use any resource or
subject names. The names used herein have been selected for comprehension
and readability.</p>
   <h3 class="heading settled" data-level="3.4" id="app-permissions"><span class="secno">3.4. </span><span class="content">Permission Model</span><a class="self-link" href="#app-permissions"></a></h3>
   <p>The permission model for the resources detailed in <a href="#agents-hierarchy">§ 2.3 Resource Hierarchy</a> are illustrated in the table below.</p>
   <p><b>Notable items:</b></p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①">identity profile document</a> <code>id</code> which contains the <a data-link-type="dfn" href="#application" id="ref-for-application③⓪">Application</a> instance gives the public read-only access.</p>
    <li data-md>
     <p>The thumbnail resource <code>thumb.svg</code> gives the public read-only access.</p>
   </ul>
   <figure>
    <figcaption>Permission model for <a data-link-type="dfn" href="#application" id="ref-for-application③①">Application</a> resources</figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
     <colgroup>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th scope="colgroup">Agent
       <th scope="colgroup">Public
       <th scope="colgroup">Trusted Agents
       <th scope="colgroup">Other Agents Granted Access
      <tr>
       <th scope="col">Resource
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/profile/</code>
       <td>Control
       <td>-
       <td>-
       <td>-
       <td>-
      <tr>
       <td><code>-- id</code>
       <td>Control
       <td>Read
       <td>-
       <td>-
       <td>-
      <tr>
       <td><code>-- thumb.svg</code>
       <td>Control
       <td>Read
       <td>-
       <td>-
       <td>-
    </table>
   </figure>
   <h3 class="heading settled" data-level="3.5" id="app-services"><span class="secno">3.5. </span><span class="content">Application Services</span><a class="self-link" href="#app-services"></a></h3>
   <h4 class="heading settled" data-level="3.5.1" id="load-application-service"><span class="secno">3.5.1. </span><span class="content">Load Application Service</span><a class="self-link" href="#load-application-service"></a></h4>
   <p class="issue" id="issue-a27898d4"><a class="self-link" href="#issue-a27898d4"></a> Detail how an application service is looked up in the <a data-link-type="dfn" href="#application" id="ref-for-application③②">Application</a> Profile.</p>
   <h4 class="heading settled" data-level="3.5.2" id="redirect-to-application-service"><span class="secno">3.5.2. </span><span class="content">Redirect to Application Service</span><a class="self-link" href="#redirect-to-application-service"></a></h4>
   <p class="issue" id="issue-ae276681"><a class="self-link" href="#issue-ae276681"></a> Detail how an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤①">Agent</a> can be redirected to an application service</p>
   <h4 class="heading settled" data-level="3.5.3" id="return-from-application-service"><span class="secno">3.5.3. </span><span class="content">Return from Application Service</span><a class="self-link" href="#return-from-application-service"></a></h4>
   <p class="issue" id="issue-f526c356"><a class="self-link" href="#issue-f526c356"></a> detail how an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤②">Agent</a> is returned back from an application service</p>
   <h2 class="heading settled" data-level="4" id="appreg"><span class="secno">4. </span><span class="content">Application Registration</span><a class="self-link" href="#appreg"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="appreg-overview"><span class="secno">4.1. </span><span class="content">Overview</span><a class="self-link" href="#appreg-overview"></a></h3>
   <p>Application Registration lets <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤③">Agents</a> register and track the <a data-link-type="dfn" href="#application" id="ref-for-application③③">Applications</a> they’ve decided to use. It provides a dedicated place to
store internal data specific to the function of a given <a data-link-type="dfn" href="#application" id="ref-for-application③④">Application</a>.</p>
   <div class="note" role="note">
     Giving <a data-link-type="dfn" href="#application" id="ref-for-application③⑤">Applications</a> their own private data space in Solid may seem
counterintuitive to Solid’s proposition to decouple data and <a data-link-type="dfn" href="#application" id="ref-for-application③⑥">Applications</a>. 
    <p>However, some data is extremely specific to the function of a particular <a data-link-type="dfn" href="#application" id="ref-for-application③⑦">Application</a>, and has absolutely no value to any others. Forcing that data
into standard types and structures can lead to mixing in with the
interoperable data, creating convoluted vocabularies, <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①">shape trees</a>, and <a data-link-type="dfn" href="#shape" id="ref-for-shape①">shapes</a> that inhibit adoption by others.</p>
    <p>Giving <a data-link-type="dfn" href="#application" id="ref-for-application③⑧">Applications</a> a private space where they can store internal data
is therefore a key factor in broad interoperability,
because it protects interoperable data from pollution by narrowly
focused elements.</p>
   </div>
   <h3 class="heading settled" data-level="4.2" id="appreg-datamodel"><span class="secno">4.2. </span><span class="content">Data Model</span><a class="self-link" href="#appreg-datamodel"></a></h3>
   <h4 class="heading settled" data-level="4.2.1" id="appreg-datamodel-summary"><span class="secno">4.2.1. </span><span class="content">Summary</span><a class="self-link" href="#appreg-datamodel-summary"></a></h4>
   <figure>
     <img src="diagrams/appreg-model.svg" width="100%/"> 
    <figcaption>Data model for application registration</figcaption>
   </figure>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤④">Agent</a> links to <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set①">Application Registry Sets</a> via the <a href="interop.ttl#hasApplicationRegistrySet">interop:hasApplicationRegistrySet</a> property.</p>
   <p>An <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set②">Application Registry Set</a> links to any number of <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry">Application Registries</a> via the <a href="interop.ttl#hasRegistry">interop:hasRegistry</a> property.</p>
   <p>Each <a data-link-type="dfn" href="#application" id="ref-for-application③⑨">Application</a> an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⑤">Agent</a> registers has an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②">Application Registration</a>.
An <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①">Application Registry</a> links to any number of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③">Application Registrations</a> via the <a href="interop.ttl#hasRegistration">interop:hasRegistration</a> property.</p>
   <figure id="fig-appreg-agent">
    <figcaption><a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⑥">Agent</a> at https://alice.pod.example/profile/id#me
  linking to an <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set③">Application Registry Set</a></figcaption>
<pre class="highlight"><c- g>&lt;#me></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasApplicationRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/application#set></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-appreg-registry-set">
    <figcaption>An <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set④">Application Registry Set</a> at
   https://alice.pod.example/profile/application#set linking to two different <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry②">Application Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistrySet</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> <c- g>&lt;https://alice.pod.example/applications/#registry></c-> <c- p>,</c->
                  <c- g>&lt;https://alice.otherpod.example/applications/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-appreg-registry">
    <figcaption>An <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry③">Application Registry</a> at https://alice.pod.example/applications/#registry
  linking to several <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration④">Application Registrations</a></figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistry</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> 
    <c- g>&lt;705563552198b6fb3efc40717872aa2ec35d669c1095cc5d665f499ec5d7e23a/#registration></c-> <c- p>,</c->
    <c- g>&lt;ede6aa50cb9e5fc564fdb4f0dc661685825ee3178355214086be27f9830e2a42/#registration></c-> <c- p>,</c->
    <c- g>&lt;150dca42b3d5661ba10a28e0aff36f212e27b0f7463fe1ef3bf1b5a45b640673/#registration></c-> <c- p>,</c->
    <c- g>&lt;b3564e72a3877c9cfa9e4bc4d9e47e9b7c536ae9927407c8dd00ec3b0069f536/#registration></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-appreg-registration">
    <figcaption>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration⑤">Application Registration</a> at
  https://alice.pod.example/applications/705563552198b6fb3efc40717872aa2ec35d669c1095cc5d665f499ec5d7e23a/#registration </figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistration</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-04-04T21:11:33.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredApplication</c-> <c- g>&lt;https://app.example/profile/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceipt</c-> <c- g>&lt;./04ca5ba7-0166-4312-ae96-09b9f3a25ba0#receipt></c-> <c- p>.</c->
</pre>
   </figure>
   <h4 class="heading settled" data-level="4.2.2" id="datamodel-application-registry-set"><span class="secno">4.2.2. </span><span class="content">Application Registry Set</span><a class="self-link" href="#datamodel-application-registry-set"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registry-set">Application Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set④">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry④">Application Registries</a>.</p>
   <table align="left" class="classinfo data" id="classApplicationRegistrySet">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#ApplicationRegistrySet">ApplicationRegistrySet</a> a rdfs:subClassOf <a href="interop.ttl#RegistrySet">RegistrySet</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistry
      <td><a href="interop.ttl#Registry">Registry</a>
      <td>Link to associated <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry⑤">Application Registries</a>
   </table>
   <p>The <a href="#shexApplicationRegistrySet">ApplicationRegistrySetShape</a> is used to validate
an instance of the <a href="#classApplicationRegistrySet">ApplicationRegistrySet</a> class.</p>
<pre class="highlight" id="shexApplicationRegistrySet"><c- g>&lt;#ApplicationRegistrySetShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistrySet</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> IRI+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#ApplicationRegistrySetTree">ApplicationRegistrySetTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexApplicationRegistrySet">ApplicationRegistrySetShape</a>.</p>
<pre class="highlight" id="treeApplicationRegistrySet"><c- g>&lt;#ApplicationRegistrySetTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#ApplicationRegistrySetShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="4.2.3" id="datamodel-application-registry"><span class="secno">4.2.3. </span><span class="content">Application Registry</span><a class="self-link" href="#datamodel-application-registry"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registry">Application Registry</dfn> is a collection of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration⑥">Application Registrations</a> stored in a specific location in a <a data-link-type="dfn" href="#pod" id="ref-for-pod">pod</a>.</p>
   <table align="left" class="classinfo data" id="classApplicationRegistry">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#ApplicationRegistry">ApplicationRegistry</a> a rdfs:subClassOf <a href="#datamodel-agent">Registry</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistration
      <td><a href="#classApplicationRegistration">ApplicationRegistration</a>
      <td>Link to an associated <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration⑦">Application Registration</a>
   </table>
   <p>The <a href="#shexApplicationRegistry">ApplicationRegistryShape</a> is used to validate an
instance of the <a href="#classApplicationRegistry">ApplicationRegistry</a> class.</p>
<pre class="highlight" id="shexApplicationRegistry"><c- g>&lt;#ApplicationRegistryShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistry</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> IRI*
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#ApplicationRegistryTree">ApplicationRegistryTree</a> is assigned
to a container resource to ensure that it will validate against the <a href="#shexApplicationRegistry">ApplicationRegistryShape</a>, and contain only
conformant instances of the <a href="#treeApplicationRegistration">ApplicationRegistrationTree</a>.</p>
<pre class="highlight" id="treeApplicationRegistry"><c- g>&lt;#ApplicationRegistryTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#ApplicationRegistryShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#ApplicationRegistrationTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="4.2.4" id="datamodel-application-registration"><span class="secno">4.2.4. </span><span class="content">Application Registration</span><a class="self-link" href="#datamodel-application-registration"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registration">Application Registration</dfn> provides the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⑦">Agent</a> with a place to maintain metadata, state, preferences, and
other application-specific data associated with a given <a data-link-type="dfn" href="#application" id="ref-for-application④⓪">Application</a> they
have elected to use.</p>
   <table align="left" class="classinfo data" id="classApplicationRegistration">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#ApplicationRegistration">ApplicationRegistration</a> a rdfs:subClassOf <a href="#datamodel-agent">Registration</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⑧">Agent</a> that registered the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration⑧">Application Registration</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application④①">Application</a> used to create the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration⑨">Application Registration</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⓪">Application Registration</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①①">Application Registration</a> was updated
     <tr>
      <td>registeredApplication
      <td><a href="#classApplication">Application</a>
      <td>The <a data-link-type="dfn" href="#application" id="ref-for-application④②">Application</a> that was registered
     <tr>
      <td>hasAccessReceipt
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td>An <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②">Access Receipt</a> that lets the <a data-link-type="dfn" href="#application" id="ref-for-application④③">Application</a> know what
      the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑤⑨">Agent</a> has granted them access to
   </table>
   <p>The <a href="#shexApplicationRegistration">ApplicationRegistrationShape</a> is used
to validate an instance of the <a href="#classApplicationRegistration">ApplicationRegistration</a> class.</p>
<pre class="highlight" id="shexApplicationRegistration"><c- g>&lt;#ApplicationRegistrationShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistration</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredApplication</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceipt</c-> IRI?
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#ApplicationRegistrationTree">ApplicationRegistrationTree</a> is assigned to a resource via the <a href="#treeApplicationRegistry">ApplicationRegistryTree</a>,
to ensure that the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①②">Application Registration</a> will validate against the <a href="#shexApplicationRegistration">ApplicationRegistrationShape</a>. It can
include any resources, but ensures that if an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③">Access Receipt</a> is
added, it is validated against <a href="#treeAccessReceipt">AccessReceiptTree</a>.</p>
<pre class="highlight" id="treeApplicationRegistration"><c- g>&lt;#ApplicationRegistrationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#ApplicationRegistrationShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#AccessReceiptTree></c-> <c- p>,</c->
                <c- nn>st</c-><c- p>:</c-><c- f>AllowAll</c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="4.3" id="appreg-hierarchy"><span class="secno">4.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#appreg-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- application#set</code>
      <td><a href="#classApplicationRegistrySet">ApplicationRegistrySet</a>
      <td><a href="#shexApplicationRegistrySet">ApplicationRegistrySetShape</a>
      <td><a href="#treeApplicationRegistrySet">ApplicationRegistrySetTree</a>
     <tr>
      <td><code>/applications/#registry</code>
      <td><a href="#classApplicationRegistry">ApplicationRegistry</a>
      <td><a href="#shexApplicationRegistry">ApplicationRegistryShape</a>
      <td><a href="#treeApplicationRegistry">ApplicationRegistryTree</a>
     <tr>
      <td><code>-- 70556355...c5d7e23a/#registration</code>
      <td><a href="#classApplicationRegistration">ApplicationRegistration</a>
      <td><a href="#shexApplicationRegistration">ApplicationRegistrationShape</a>
      <td><a href="#treeApplicationRegistration">ApplicationRegistrationTree</a>
     <tr>
      <td><code>---- 04ca5ba7...f3a25ba0#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
     <tr>
      <td><code>---- ex-cache-1122</code>
      <td>-
      <td>-
      <td>-
     <tr>
      <td><code>-- ede6aa50...830e2a42/#registration</code>
      <td><a href="#classApplicationRegistration">ApplicationRegistration</a>
      <td><a href="#shexApplicationRegistration">ApplicationRegistrationShape</a>
      <td><a href="#treeApplicationRegistration">ApplicationRegistrationTree</a>
     <tr>
      <td><code>---- 2af133d6...78e343ba#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
     <tr>
      <td><code>---- ex-internal-idx</code>
      <td>-
      <td>-
      <td>-
     <tr>
      <td><code>-- 150dca42...5b640673/#registration</code>
      <td><a href="#classApplicationRegistration">ApplicationRegistration</a>
      <td><a href="#shexApplicationRegistration">ApplicationRegistrationShape</a>
      <td><a href="#treeApplicationRegistration">ApplicationRegistrationTree</a>
     <tr>
      <td><code>---- 14f8bfb9...e42f7084#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
     <tr>
      <td><code>-- b3564e72...0069f536/#registration</code>
      <td><a href="#classApplicationRegistration">ApplicationRegistration</a>
      <td><a href="#shexApplicationRegistration">ApplicationRegistrationShape</a>
      <td><a href="#treeApplicationRegistration">ApplicationRegistrationTree</a>
   </table>
   <p>The <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set⑤">Application Registry Set</a> and the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry⑥">Application Registry</a> MAY or MAY NOT
be on the same <a data-link-type="dfn" href="#pod" id="ref-for-pod①">pod</a>.</p>
   <p><a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set⑥">Application Registry Set</a> and <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry⑦">Application Registry</a> resources MAY use any
resource or subject names.</p>
   <p>The resource name for an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①③">Application Registration</a> container
MUST be a SHA-256 hash encoding of the <a data-link-type="dfn" href="#identity" id="ref-for-identity⑥">identity</a> for the
registered <a data-link-type="dfn" href="#application" id="ref-for-application④④">Application</a>, which is linked via <a href="#classApplicationRegistration">interop:registeredApplication</a>.</p>
   <dl>
    <dd data-md>
     <p><b>Example Application Identity:</b> <code>https://app.example/profile/id#agent</code></p>
    <dd data-md>
     <p><b>SHA-256 Hash:</b> <code>705563552198b6fb3efc40717872aa2ec35d669c1095cc5d665f499ec5d7e23a</code></p>
   </dl>
   <p class="issue" id="issue-8c592df2"><a class="self-link" href="#issue-8c592df2"></a> Is it necessary to use a one-way hash for application registration
resource names. <a href="https://github.com/solid/data-interoperability-panel/issues/48">Github issue</a></p>
   <p><a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①④">Application Registrations</a> use containers so that registered <a data-link-type="dfn" href="#application" id="ref-for-application④⑤">Applications</a> have dedicated space to store internal, non-interoperable
data. In the figure above, we can see an application-specific cache
resource (<code>ex-cache-1122</code>) and an internal index (<code>ex-internal-idx</code>).</p>
   <h3 class="heading settled" data-level="4.4" id="appreg-permissions"><span class="secno">4.4. </span><span class="content">Permission Model</span><a class="self-link" href="#appreg-permissions"></a></h3>
   <p>The permission model for the resources detailed in <a href="#appreg-hierarchy">§ 4.3 Resource Hierarchy</a> are illustrated in the table below.</p>
   <p><b>Notable items:</b></p>
   <ul>
    <li data-md>
     <p>There is no public access to any data in an <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry⑧">Application Registry</a></p>
    <li data-md>
     <p>Only the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⓪">Agent</a> or <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent①">Trusted Agents</a> have the ability to manage
contents and permissions across <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry⑨">Application Registries</a>, including
the creation and modification of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⑤">Application Registrations</a>.</p>
    <li data-md>
     <p>A given registered <a data-link-type="dfn" href="#application" id="ref-for-application④⑥">Application</a> has Read,Append+ access to its <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⑥">Application Registration</a>, <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④">Access Receipt</a>, and read/write access to
the remaining data space inside of the container.
It does not get control privileges.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> Append+ indicates that Read/Write is granted
to the subsequently created resource.</p>
   <figure>
    <figcaption>Permission model for <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①⓪">Application Registry</a> resources.</figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
      <col>
     <colgroup>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th>
       <th scope="colgroup">Agent
       <th scope="colgroup">Public
       <th scope="colgroup">Trusted Agents
       <th scope="colgroup">Other Agents
      <tr>
       <th scope="col">Resource
       <th scope="col">
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/profile/</code>
       <td>-
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- application</code>
       <td><a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set⑦">Application Registry Set</a>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>/applications/</code>
       <td><a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①①">Application Registry</a>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- 70556355...c5d7e23a</code>
       <td><a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⑦">Application Registration</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application④⑦">Application</a>
       <td>Read/Append+
      <tr>
       <td><code>---- 04ca5ba7...f3a25ba0</code>
       <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤">Access Receipt</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application④⑧">Application</a>
       <td>Read
      <tr>
       <td><code>---- ex-cache-1122</code>
       <td>-
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application④⑨">Application</a>
       <td>Read/Write
      <tr>
       <td><code>-- ede6aa50...830e2a42</code>
       <td><a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⑧">Application Registration</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤⓪">Application</a>
       <td>Read/Append+
      <tr>
       <td><code>---- 2af133d6...78e343ba</code>
       <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥">Access Receipt</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤①">Application</a>
       <td>Read
      <tr>
       <td><code>---- ex-internal-idx</code>
       <td>-
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤②">Application</a>
       <td>Read/Write
      <tr>
       <td><code>-- 150dca42...5b640673</code>
       <td><a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration①⑨">Application Registration</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤③">Application</a>
       <td>Read/Append+
      <tr>
       <td><code>---- 14f8bfb9...e42f7084</code>
       <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦">Access Receipt</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤④">Application</a>
       <td>Read
      <tr>
       <td><code>-- b3564e72...0069f536</code>
       <td><a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⓪">Application Registration</a>
       <td>Control
       <td>-
       <td>Control
       <td>Registered <a data-link-type="dfn" href="#application" id="ref-for-application⑤⑤">Application</a>
       <td>Read/Append+
    </table>
   </figure>
   <h3 class="heading settled" data-level="4.5" id="appreg-operations"><span class="secno">4.5. </span><span class="content">Operations</span><a class="self-link" href="#appreg-operations"></a></h3>
   <h4 class="heading settled" data-level="4.5.1" id="appreg-loadappreg"><span class="secno">4.5.1. </span><span class="content">Load Application Registration</span><a class="self-link" href="#appreg-loadappreg"></a></h4>
   <p>This operation allows an <a data-link-type="dfn" href="#application" id="ref-for-application⑤⑥">Application</a> find and load a
corresponding <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②①">Application Registration</a> for a given <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥①">Agent</a>.</p>
   <p>Failure to discover an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②②">Application Registration</a> means that the <a data-link-type="dfn" href="#application" id="ref-for-application⑤⑦">Application</a> is not registered.</p>
   <p>Per the <a href="#appreg-permissions">§ 4.4 Permission Model</a>, a given <a data-link-type="dfn" href="#application" id="ref-for-application⑤⑧">Application</a> will only
have access to its own <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②③">Application Registration</a>. Since <a data-link-type="dfn" href="#application" id="ref-for-application⑤⑨">Applications</a> do not have access to the list of <a data-link-type="dfn" href="#application" id="ref-for-application⑥⓪">Applications</a> in an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥②">Agent’s</a> <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①②">Application Registries</a>, they must perform a direct lookup
in the addressable space of each <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①③">Application Registry</a> in the <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set⑧">Application Registry Set</a> to find a corresponding <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②④">Application Registration</a>.</p>
   <p class="note" role="note"><span>Note:</span> This specification is designed to support compartmentalization
of data between <a data-link-type="dfn" href="#application" id="ref-for-application⑥①">Applications</a>. Server-side support may vary.
See <a href="#security-appauthz">§ 11.1 Application Authorization</a>.</p>
   <h5 class="heading settled" data-level="4.5.1.1" id="loadappreg-inputs"><span class="secno">4.5.1.1. </span><span class="content">Inputs</span><a class="self-link" href="#loadappreg-inputs"></a></h5>
   <ul>
    <li data-md>
     <p>Let <code>AGENT</code> be the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥③">Agent</a></p>
    <li data-md>
     <p>Let <code>APP</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑥②">Application</a> in use by <code>AGENT</code></p>
   </ul>
   <h5 class="heading settled" data-level="4.5.1.2" id="loadappreg-outputs"><span class="secno">4.5.1.2. </span><span class="content">Outputs</span><a class="self-link" href="#loadappreg-outputs"></a></h5>
   <ul>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⑤">Application Registration</a></p>
   </ul>
   <h5 class="heading settled" data-level="4.5.1.3" id="loadappreg-details"><span class="secno">4.5.1.3. </span><span class="content">Operation Details</span><a class="self-link" href="#loadappreg-details"></a></h5>
   <ol>
    <li data-md>
     <p><code>AGENT</code> provides their <a data-link-type="dfn" href="#identity" id="ref-for-identity⑦">identity</a> to <code>APP</code></p>
    <li data-md>
     <p><code>APP</code> dereferences the <a data-link-type="dfn" href="#identity" id="ref-for-identity⑧">identity</a> of <code>AGENT</code> get <code>AGENT</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document②">identity profile document</a>.</p>
    <li data-md>
     <p>Let <code>ARSET</code> be the <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set⑨">Application Registry Set</a> linked via <code>AGENT hasApplicationRegistrySet</code>.</p>
     <ol>
      <li data-md>
       <p>Because <code>ARSET</code> is a non-public document, <code>AGENT</code> and <code>APP</code> will be required to furnish a DPoP proof and
access token to the Solid Server, obtained via the
Solid-OIDC protocol.</p>
     </ol>
    <li data-md>
     <p>For each <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①④">Application Registry</a> <code>AREGISTRY</code> in <code>ARSET</code></p>
     <ol>
      <li data-md>
       <p>Let <code>IDSHA256</code> be the SHA-256 hash of <code>APP</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity⑨">identity</a></p>
      <li data-md>
       <p>Let <code>STATUS</code> be the <code>HTTP</code> status code returned from a <code>GET</code> or <code>HEAD</code> of <code>https://AREGISTRY/IDSHA256</code></p>
      <li data-md>
       <p>Return <code>AREGISTRY</code> if <code>STATUS</code> is <code>200 OK</code></p>
     </ol>
    <li data-md>
     <p>Return FALSE</p>
   </ol>
   <h4 class="heading settled" data-level="4.5.2" id="appreg-registerapp"><span class="secno">4.5.2. </span><span class="content">Register Application</span><a class="self-link" href="#appreg-registerapp"></a></h4>
   <p>This operation creates a new <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⑥">Application Registration</a>, and <code>MUST</code> be called from an <a href="#authz-apprequest">§ 6.2.2 Application Requests Access</a> workfow.</p>
   <h5 class="heading settled" data-level="4.5.2.1" id="registerapp-inputs"><span class="secno">4.5.2.1. </span><span class="content">Inputs</span><a class="self-link" href="#registerapp-inputs"></a></h5>
   <ul>
    <li data-md>
     <p>Let <code>AGENT</code> be the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥④">Agent</a></p>
    <li data-md>
     <p>Let <code>APP</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑥③">Application</a> in use by <code>AGENT</code></p>
    <li data-md>
     <p>Let <code>REGISTRY</code> be the target <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①⑤">Application Registry</a></p>
   </ul>
   <h5 class="heading settled" data-level="4.5.2.2" id="registerapp-outputs"><span class="secno">4.5.2.2. </span><span class="content">Outputs</span><a class="self-link" href="#registerapp-outputs"></a></h5>
   <ul>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⑦">Application Registration</a></p>
   </ul>
   <h5 class="heading settled" data-level="4.5.2.3" id="registerapp-details"><span class="secno">4.5.2.3. </span><span class="content">Operation Details</span><a class="self-link" href="#registerapp-details"></a></h5>
   <ol>
    <li data-md>
     <p>Let <code>EXISTING</code> be an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⑧">Application Registration</a> returned from <a href="#appreg-loadappreg">§ 4.5.1 Load Application Registration</a> with inputs: <code>AGENT</code>, <code>APP</code></p>
    <li data-md>
     <p>Return <code>EXISTING</code> if <code>EXISTING</code> is not empty</p>
    <li data-md>
     <p>Let <code>REG</code> be a newly initialized <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration②⑨">Application Registration</a></p>
    <li data-md>
     <p>Let <code>REG registeredBy</code> be <code>AGENT</code></p>
    <li data-md>
     <p>Let <code>REG registeredWith</code> be the <a data-link-type="dfn" href="#identity" id="ref-for-identity①⓪">identity</a> of the <a data-link-type="dfn" href="#application" id="ref-for-application⑥④">Application</a> executing the operation</p>
    <li data-md>
     <p>Let <code>REG registeredAt</code> be the current date and time</p>
    <li data-md>
     <p>Let <code>REG updatedAt</code> be the current date and time</p>
    <li data-md>
     <p>Let <code>REG registeredApplication</code> be the <a data-link-type="dfn" href="#identity" id="ref-for-identity①①">identity</a> of <code>APP</code></p>
    <li data-md>
     <p>Let <code>IDSHA256</code> be the SHA-256 hash of <code>APP</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity①②">identity</a></p>
    <li data-md>
     <p>Add <code>REG</code> to the <code>REGISTRY</code> container, using <code>IDSHA256</code> as the resource name</p>
    <li data-md>
     <p>Assign permissions for <code>REG</code> per the <a href="#appreg-permissions">§ 4.4 Permission Model</a></p>
    <li data-md>
     <p>Link <code>REG</code> to <code>REGISTRY</code> via <code>REGISTRY hasRegistration</code></p>
    <li data-md>
     <p>Return <code>REG</code></p>
   </ol>
   <h3 class="heading settled" data-level="4.6" id="appreg-services"><span class="secno">4.6. </span><span class="content">Application Services</span><a class="self-link" href="#appreg-services"></a></h3>
   <h4 class="heading settled" data-level="4.6.1" id="appreg-service-registerapp"><span class="secno">4.6.1. </span><span class="content">Register Application</span><a class="self-link" href="#appreg-service-registerapp"></a></h4>
   <p class="issue" id="issue-50450d89"><a class="self-link" href="#issue-50450d89"></a> Define app registration service</p>
   <h2 class="heading settled" data-level="5" id="datareg"><span class="secno">5. </span><span class="content">Data Registration</span><a class="self-link" href="#datareg"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="datareg-overview"><span class="secno">5.1. </span><span class="content">Overview</span><a class="self-link" href="#datareg-overview"></a></h3>
   <p>Data Registration lets <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⑤">Agents</a> store and manage the data they control.
Data of various types is organized and stored in a uniform way to aid
validation, authorization, discovery, and more.</p>
   <p>Complex hierarchies that hinder interoperability are avoided
by storing data in a relatively flat hierarchy. This creates natural
data boundaries that make data storage and authorization more intuitive.</p>
   <h3 class="heading settled" data-level="5.2" id="datareg-datamodel"><span class="secno">5.2. </span><span class="content">Data Model</span><a class="self-link" href="#datareg-datamodel"></a></h3>
   <h4 class="heading settled" data-level="5.2.1" id="datareg-datamodel-summary"><span class="secno">5.2.1. </span><span class="content">Summary</span><a class="self-link" href="#datareg-datamodel-summary"></a></h4>
   <figure id="fig-datareg-model">
     <img src="diagrams/datareg-model.svg" width="100%/"> 
    <figcaption>Data model for data registration</figcaption>
   </figure>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⑥">Agent</a> links to a <a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set①">Data Registry Set</a> via the <a href="interop.ttl#hasDataRegistrySet">interop:hasDataRegistrySet</a> property.</p>
   <p>A <a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set②">Data Registry Set</a> links to any number of <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry">Data Registries</a> via the <a href="interop.ttl#hasRegistry">interop:hasRegistry</a> property.</p>
   <p>A <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①">Data Registry</a> links to any number of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration">Data Registrations</a> via the <a href="interop.ttl#hasRegistration">interop:hasRegistration</a> property.</p>
   <p>There is a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①">Data Registration</a> for each unique type of stored data. Each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②">Data Registration</a> contains and links to any number of <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance">Data Instances</a> via the <a class="vocab" href="https://www.w3.org/ns/ldp#contains">ldp:contains</a> property.</p>
   <figure id="fig-datareg-agent">
    <figcaption><a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⑦">Agent</a> at https://alice.pod.example/profile/id#me
  linking to a <a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set③">Data Registry Set</a></figcaption>
<pre class="highlight"><c- g>&lt;#me></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistrySet</c-> <c- g>&lt;https://alice.pod.example/profile/data#set></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-datareg-registry-set">
    <figcaption>A <a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set④">Data Registry Set</a> at
   https://alice.pod.example/profile/data#set linking to two different <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②">Data Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistrySet</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> <c- g>&lt;https://alice.pod.example/data/#registry></c-> <c- p>,</c->
                  <c- g>&lt;https://alice.otherpod.example/data/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-datareg-registry">
    <figcaption>A <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry③">Data Registry</a> at https://alice.pod.example/data/#registry
  linking to several <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③">Data Registrations</a></figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistry</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> <c- g>&lt;8501f084-deb9-4775-8a35-2040df435d21/#registration></c-> <c- p>,</c->
                      <c- g>&lt;df4ab227-2f15-455d-8ca2-fad10fb9f9bc/#registration></c-> <c- p>,</c->
                      <c- g>&lt;d0954df2-e7c3-40b4-9eeb-65df92d9167e/#registration></c-> <c- p>,</c->
                      <c- g>&lt;87da9aa5-3f6c-4bc2-a5d4-adb7efcaee5d/#registration></c-> <c- p>,</c->
                      <c- g>&lt;bc3d8522-7f00-4d90-a01b-54ec01591640/#registration></c-> <c- p>,</c->
                      <c- g>&lt;3a3ee852-ff49-46ea-b7a8-65cec55879a4/#registration></c-> <c- p>.</c->
</pre>
   </figure>
   <figure id="fig-datareg-registration">
    <figcaption>A <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④">Data Registration</a> at
  https://alice.pod.example/data/8501f084-deb9-4775-8a35-2040df435d21/#registration </figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistration</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://app.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-04-04T21:11:33.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>note</c-><c- p>:</c-><c- f>notebookTree</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredType</c-> <c- nn>note</c-><c- p>:</c-><c- f>notebook</c-> <c- p>.</c->
</pre>
   </figure>
   <h4 class="heading settled" data-level="5.2.2" id="datamodel-data-registry-set"><span class="secno">5.2.2. </span><span class="content">Data Registry Set</span><a class="self-link" href="#datamodel-data-registry-set"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="data-registry-set">Data Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set⑤">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry④">Data Registries</a>.</p>
   <table align="left" class="classinfo data" id="classDataRegistrySet">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#DataRegistrySet">DataRegistrySet</a> a rdfs:subClassOf <a class="vocab" href="interop.ttl#RegistrySet">RegistrySet</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistry
      <td><a href="interop.ttl#Registry">Registry</a>
      <td>Link to associated <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry⑤">Data Registries</a>
   </table>
   <p>The <a href="#shexDataRegistrySet">DataRegistrySetShape</a> is used to validate
an instance of the <a href="#classDataRegistrySet">DataRegistrySet</a> class.</p>
<pre class="highlight" id="shexDataRegistrySet"><c- g>&lt;#DataRegistrySetShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistrySet</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> IRI+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#DataRegistrySetTree">DataRegistrySetTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexDataRegistrySet">DataRegistrySetShape</a>.</p>
<pre class="highlight" id="treeDataRegistrySet"><c- g>&lt;#DataRegistrySetTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#DataRegistrySetShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="5.2.3" id="datamodel-data-registry"><span class="secno">5.2.3. </span><span class="content">Data Registry</span><a class="self-link" href="#datamodel-data-registry"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="data-registry">Data Registry</dfn> is a collection of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤">Data Registrations</a>, each
representing a unique type of data associated with a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②">shape tree</a>.</p>
   <p>A <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry⑥">Data Registry</a> can be used for basic discovery, but it is not
designed nor intended to be an efficient means to query or index data.
However, it is <em>intended</em> to be used as reliable source data for different
query engines or indexing schemes.</p>
   <table align="left" class="classinfo data" id="classDataRegistry">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#DataRegistry">DataRegistry</a> a rdfs:subClassOf <a class="vocab" href="interop.ttl#Registry">Registry</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistration
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td>Link to an associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥">Data Registration</a>
   </table>
   <p>The <a href="#shexDataRegistry">DataRegistryShape</a> is used to validate an
instance of the <a href="#classDataRegistry">DataRegistry</a> class.</p>
<pre class="highlight" id="shexDataRegistry"><c- g>&lt;#DataRegistryShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistry</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> IRI*
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#DataRegistryTree">DataRegistryTree</a> is assigned
to a container resource to ensure that it will validate against the <a href="#shexDataRegistry">DataRegistryShape</a>, and contain only
conformant instances of the <a href="#treeDataRegistration">DataRegistrationTree</a>.</p>
<pre class="highlight" id="treeDataRegistry"><c- g>&lt;#DataRegistryTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#DataRegistryShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#DataRegistrationTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="5.2.4" id="datamodel-data-registration"><span class="secno">5.2.4. </span><span class="content">Data Registration</span><a class="self-link" href="#datamodel-data-registration"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="data-registration">Data Registration</dfn> provides the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⑧">Agent</a> with a place to store <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①">Data Instances</a> of a particular type, conforming to a
given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③">shape tree</a>, indicated by the <a href="#classDataRegistration">interop:registeredShapeTree</a> property.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="data-instance">Data Instance</dfn> is a unique, stored instance of a
particular type of data, conforming to the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④">shape tree</a> for
the instance’s <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦">Data Registration</a>.</p>
   <table align="left" class="classinfo data" id="classDataRegistration">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#DataRegistration">DataRegistration</a> a rdfs:subClassOf <a class="vocab" href="interop.ttl#Registration">Registration</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent⑥⑨">Agent</a> that registered the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧">Data Registration</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application⑥⑤">Application</a> used to create the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨">Data Registration</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⓪">Data Registration</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①①">Data Registration</a> was updated
     <tr>
      <td>registeredShapeTree
      <td><a class="vocab" href="https://w3.org/ns/st/terms">st:ShapeTree</a>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤">Shape Tree</a> that was registered
     <tr>
      <td>registeredType
      <td><a class="vocab" href="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">rdf:type</a>
      <td>Type of data registered
   </table>
   <p>The <a href="#shexDataRegistration">DataRegistrationShape</a> is used
to validate an instance of the <a href="#classDataRegistration">DataRegistration</a> class.</p>
<pre class="highlight" id="shexDataRegistration"><c- g>&lt;#DataRegistrationShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistration</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredType</c-> IRI*
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#DataRegistrationTree">DataRegistrationTree</a> is assigned to a resource via the <a href="#treeDataRegistry">DataRegistryTree</a>,
to ensure that the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①②">Data Registration</a> will validate against the <a href="#shexDataRegistration">DataRegistrationShape</a>.</p>
<pre class="highlight" id="treeDataRegistration"><c- g>&lt;#DataRegistrationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#DataRegistrationShape></c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="5.3" id="datareg-hierarchy"><span class="secno">5.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#datareg-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- data#set</code>
      <td><a href="#classDataRegistrySet">DataRegistrySet</a>
      <td><a href="#shexDataRegistrySet">DataRegistrySetShape</a>
      <td><a href="#treeDataRegistrySet">DataRegistrySetTree</a>
     <tr>
      <td><code>/data/#registry</code>
      <td><a href="#classDataRegistry">DataRegistry</a>
      <td><a href="#shexDataRegistry">DataRegistryShape</a>
      <td><a href="#treeDataRegistry">DataRegistryTree</a>
     <tr>
      <td><code>-- 8501f084...2040df43/#registration</code>
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td><a href="#shexDataRegistration">DataRegistrationShape</a>
      <td><a href="#treeDataRegistration">DataRegistrationTree</a>, <a href="#treeFooContaining">FooContainingTree</a>
     <tr>
      <td><code>---- 16e1eae9...ca3805c4/#foo</code>
      <td><a href="#classFoo">FooInstance</a>
      <td><a href="#shexFoo">FooShape</a>
      <td><a href="#treeFoo">FooTree</a>
     <tr>
      <td><code>---- 886785d2...5ac36b7b/#foo</code>
      <td><a href="#classFoo">FooInstance</a>
      <td><a href="#shexFoo">FooShape</a>
      <td><a href="#treeFoo">FooTree</a>
     <tr>
      <td><code>---- dae5015c...7ca7a198/#foo</code>
      <td><a href="#classFoo">FooInstance</a>
      <td><a href="#shexFoo">FooShape</a>
      <td><a href="#treeFoo">FooTree</a>
     <tr>
      <td><code>-- df4ab227...fad10fb9/#registration</code>
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td><a href="#shexDataRegistration">DataRegistrationShape</a>
      <td><a href="#treeDataRegistration">DataRegistrationTree</a>, <a href="#treeFooContaining">BarContainingTree</a>
     <tr>
      <td><code>---- 9b60a354...cb9da85c/#bar</code>
      <td><a href="#classFoo">BarInstance</a>
      <td><a href="#shexFoo">BarShape</a>
      <td><a href="#treeFoo">BarTree</a>
     <tr>
      <td><code>---- 6e545b74...b15cbdce/#bar</code>
      <td><a href="#classFoo">BarInstance</a>
      <td><a href="#shexFoo">BarShape</a>
      <td><a href="#treeFoo">BarTree</a>
     <tr>
      <td><code>---- d33e01c8...ac9e3cc6/#bar</code>
      <td><a href="#classFoo">BarInstance</a>
      <td><a href="#shexFoo">BarShape</a>
      <td><a href="#treeFoo">BarTree</a>
     <tr>
      <td><code>---- 927108fa...14985cb9/#bar</code>
      <td><a href="#classFoo">BarInstance</a>
      <td><a href="#shexFoo">BarShape</a>
      <td><a href="#treeFoo">BarTree</a>
     <tr>
      <td><code>---- 180dda0b...c4f8c4dc/#bar</code>
      <td><a href="#classFoo">BarInstance</a>
      <td><a href="#shexFoo">BarShape</a>
      <td><a href="#treeFoo">BarTree</a>
     <tr>
      <td><code>-- 3c9c9cff...fc7f916b/#registration</code>
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td><a href="#shexDataRegistration">DataRegistrationShape</a>
      <td><a href="#treeDataRegistration">DataRegistrationTree</a>, <a href="#treeFooContaining">BazContainingTree</a>
     <tr>
      <td><code>---- 4376595a...f8d2547c/#baz</code>
      <td><a href="#classFoo">BazInstance</a>
      <td><a href="#shexFoo">BazShape</a>
      <td><a href="#treeFoo">BazTree</a>
     <tr>
      <td><code>---- 14c9fc6a...7f6de3ca/#baz</code>
      <td><a href="#classFoo">BazInstance</a>
      <td><a href="#shexFoo">BazShape</a>
      <td><a href="#treeFoo">BazTree</a>
   </table>
   <p>The <a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set⑤">Data Registry Set</a> and the <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry⑦">Data Registry</a> <em class="rfc2119">MAY</em> or <em class="rfc2119">MAY NOT</em> be on the same <a data-link-type="dfn" href="#pod" id="ref-for-pod②">pod</a>.</p>
   <p><a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set⑥">Data Registry Set</a> and <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry⑧">Data Registry</a> resources <em class="rfc2119">MAY</em> use any
resource or subject names.</p>
   <p><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①③">Data Registrations</a> and <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②">Data Instances</a> <em class="rfc2119">MUST</em> use <a href="https://www.ietf.org/rfc/rfc4122.txt">UUIDs</a> for resource names.</p>
   <p>A <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①④">Data Registration</a> container <em class="rfc2119">MUST</em> contain conformant instances of the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥">shape tree</a> associated with the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⑤">Data Registration</a> via <a href="#classDataRegistration">interop:registeredShapeTree</a>.</p>
   <p>Two complementary <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑦">shape trees</a> <em class="rfc2119">MUST</em> be assigned
to the same <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⑥">Data Registration</a> container to ensure that it conforms
to general validation requirements, and to ensure
that it only contains <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③">Data Instances</a> of the registered <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑧">shape tree</a> identified by <a href="#classDataRegistration">interop:registeredShapeTree</a>.</p>
   <p>In the <a href="#fig-datareg-intersecting">figure below</a>, the
combination of a <a href="#treeDataRegistration">DataRegistrationTree</a> and <a href="#treeFooContaining">FooContainingTree</a> on the
same <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⑦">Data Registration</a> can be observed. Furthermore, an example of
a contained <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④">Data Instance</a> is provided, which conforms
to <a href="#treeFoo">FooTree</a> per the directive in <a href="#treeFooContaining">FooContainingTree</a>.</p>
   <div id="treeFooContaining"></div>
   <div id="treeFoo"></div>
   <div id="shexFoo"></div>
   <div id="classFoo"></div>
   <figure id="fig-datareg-intersecting">
    <figcaption>Intersecting <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑨">shape trees</a> for a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⑧">Data Registration</a> and the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⓪">shape tree</a> registered with it </figcaption>
    <table align="left" class="data intersecting">
     <colgroup>
      <col>
      <col>
     <tbody>
      <tr>
       <td colspan="2"> <code>-- 8501f084-deb9-4775-8a35-2040df435d21/#registration</code> 
      <tr>
       <td>
         Contents of the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⑨">Data Registration</a> 
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistration</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://app.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-04-04T21:11:33.000Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>foo</c-><c- p>:</c-><c- f>fooTree</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredType</c-> <c- nn>foo</c-><c- p>:</c-><c- f>fooThing</c-> <c- p>.</c->
</pre>
       <td>
         Ensure the container resource for the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⓪">Data Registration</a> conforms to <code>interops#DataRegistrationShape</code>. 
<pre class="highlight"><c- g>&lt;#DataRegistrationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#DataRegistrationShape></c-> <c- p>.</c->
</pre>
        <p>And also ensure the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②①">Data Registration</a> only
          contains resources that conform to <code>&lt;#FooTree></code>.</p>
<pre class="highlight"><c- g>&lt;#FooContainingTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#FooTree></c-> <c- p>.</c->
</pre>
      <tr>
       <td colspan="2"> <code>------ 16e1eae9-20a5-489d-8380-8c07ca3805c4#foo</code> 
      <tr>
       <td>
         Contents of the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤">Data Instance</a> 
<pre class="highlight"><c- g>&lt;#foo></c->
  <c- b>a</c-> <c- nn>foo</c-><c- p>:</c-><c- f>fooThing</c-> <c- p>;</c->
  <c- nn>foo</c-><c- p>:</c-><c- f>isExample</c-> <c- s>"of an instance"</c-> <c- p>.</c->
</pre>
       <td>
         Ensure the resource for the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥">Data Instance</a> conforms to <code>&lt;#FooTree></code>. 
<pre class="highlight"><c- g>&lt;#FooTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;foo#FooShape></c-> <c- p>.</c->
</pre>
    </table>
   </figure>
   <h3 class="heading settled" data-level="5.4" id="datareg-permissions"><span class="secno">5.4. </span><span class="content">Permission Model</span><a class="self-link" href="#datareg-permissions"></a></h3>
   <p>Almost all of the collaborative use cases between <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⓪">Agents</a> in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem①">ecosystem</a> are based on data furnished through the <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry⑨">Data Registry</a>.</p>
   <p>Only the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦①">Agent</a> or <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent②">Trusted Agents</a> have the ability to manage
contents and permissions across <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⓪">Data Registries</a>, including
the creation and modification of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②②">Data Registrations</a>. The <a href="#permDataRegistry">table below</a> illustrates this using the <a href="#datareg-hierarchy">resource hierarchy</a> from the previous section. <em>Other Agents</em> are granted varying levels of access by the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦②">Agent</a> or their <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent③">Trusted Agents</a>.</p>
   <p class="note" role="note"><span>Note:</span> <a href="#authz">§ 6 Data Authorization</a> provides patterns for managing <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant">Access Grants</a> and
sending <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧">Access Receipts</a> to the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦③">Agents</a> who were granted access.</p>
   <figure id="permDataRegistry">
    <figcaption>Permission model for <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①①">Data Registry</a> resources. </figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
      <col>
     <colgroup>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th>
       <th scope="colgroup">Agent
       <th scope="colgroup">Public
       <th scope="colgroup">Trusted Agents
       <th scope="colgroup">Other Agents
      <tr>
       <th scope="col">Resource
       <th scope="col">
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/profile/</code>
       <td>-
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- data</code>
       <td><a data-link-type="dfn" href="#data-registry-set" id="ref-for-data-registry-set⑦">Data Registry Set</a>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>/data/</code>
       <td><a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①②">Data Registry</a>
       <td>Control
       <td>-
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- 8501f084...2040df43</code>
       <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②③">Data Registration</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 16e1eae9...ca3805c4</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 886785d2...5ac36b7b</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- dae5015c...7ca7a198</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>-- df4ab227...fad10fb9</code>
       <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②④">Data Registration</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 9b60a354...cb9da85c</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⓪">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 6e545b74...b15cbdce</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①①">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- d33e01c8...ac9e3cc6</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①②">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 927108fa...14985cb9</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①③">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 180dda0b...c4f8c4dc</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①④">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>-- 3c9c9cff...fc7f916b</code>
       <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⑤">Data Registration</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 4376595a...f8d2547c</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⑤">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>---- 14c9fc6a...7f6de3ca</code>
       <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⑥">Data Instance</a>
       <td>Control
       <td>Varies
       <td>Control
       <td>Grantee
       <td>Varies
    </table>
   </figure>
   <p>A signficant amount
of flexibility is needed in granting other Agents access to 
data in the registry. It is also important to avoid 
the creation of permission swamps that are unwieldy for <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦④">Agents</a> to manage.</p>
   <p>Organizing data by <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①①">shape tree</a> creates natural permission boundaries,
making authorization more intuitive and manageable.</p>
   <p>Access is granted to a certain type of data by granting access
to the <a href="#datareg-all">entire Data Registration</a>, or to <a href="#datareg-specific">specific Data Instances</a> within it.</p>
   <p class="note" role="note"><span>Note:</span> <a data-link-type="biblio" href="#biblio-wac">[WAC]</a> doesn’t have any mechanism to extend or modify
inherited permissions. Access Control Policies (ACP) is recommended
for optimal results.</p>
   <h4 class="heading settled" data-level="5.4.1" id="datareg-all"><span class="secno">5.4.1. </span><span class="content">Access to a Data Registration</span><a class="self-link" href="#datareg-all"></a></h4>
   <p>Access granted at the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⑥">Data Registration</a> level
applies to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⑦">Data Instances</a> within it.</p>
   <p>The <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode">access modes</a> listed in the table below can be combined as needed.</p>
   <figure>
    <figcaption>Modes of access for a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⑦">Data Registration</a></figcaption>
    <table align="left" class="data">
     <colgroup>
      <col>
      <col>
     <thead>
      <tr>
       <th scope="col">Mode
       <th scope="col">Resultant Access
     <tbody>
      <tr>
       <th scope="row">Read
       <td>Can read all existing and yet to be created <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⑧">Data Instances</a>. Includes being able to see the full
            list of <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance①⑨">Data Instances</a> in the registration.
      <tr>
       <th scope="row">Write
       <td>Can modify the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⑧">Data Registration</a>, and all existing <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⓪">Data Instances</a> within it.
            Can create new <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②①">Data Instances</a>,
            and can delete them.
      <tr>
       <th scope="row">Append
       <td>Can only create new <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②②">Data Instances</a> within the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration②⑨">Data Registration</a>.
      <tr>
       <th scope="row">Read Permissions
       <td>Can read permissions on the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⓪">Data Registration</a>, as well
            as any <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②③">Data Instances</a> within it.
      <tr>
       <th scope="row">Write Permissions
       <td>Can change permissions on the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③①">Data Registration</a>, as well
            as any <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②④">Data Instances</a> within it.
    </table>
   </figure>
   <h4 class="heading settled" data-level="5.4.2" id="datareg-specific"><span class="secno">5.4.2. </span><span class="content">Access to Specific Data Instances</span><a class="self-link" href="#datareg-specific"></a></h4>
   <p>Access granted at the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⑤">Data Instance</a> level apply only to
that instance, and the resources within it.</p>
   <p>The <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode①">access modes</a> listed in the table below can be combined as needed.</p>
   <figure>
    <figcaption>Modes of access for a Specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⑥">Data Instance</a></figcaption>
    <table align="left" class="data">
     <colgroup>
      <col>
      <col>
     <thead>
      <tr>
       <th scope="col">Mode
       <th scope="col">Resultant Access
     <tbody>
      <tr>
       <th scope="row">Read
       <td>Can list and read all resources within the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⑦">Data Instance</a>.
      <tr>
       <th scope="row">Write
       <td>Can modify the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⑧">Data Instance</a> and any resources
            within it, including creating and deleting resources.
      <tr>
       <th scope="row">Append
       <td>Can create resources within the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance②⑨">Data Instance</a>.
            Can add to a resource in the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⓪">Data Instance</a> but cannot
            remove anything from it, or delete it.
      <tr>
       <th scope="row">Read Permissions
       <td>Can read permissions on the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③①">Data Instance</a> and any resources within it.
      <tr>
       <th scope="row">Write Permissions
       <td>Can change permissions on the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③②">Data Instance</a> and any resources within it.
    </table>
   </figure>
   <h3 class="heading settled" data-level="5.5" id="datareg-operations"><span class="secno">5.5. </span><span class="content">Operations</span><a class="self-link" href="#datareg-operations"></a></h3>
   <p>Registering data in a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①③">Data Registry</a> is primarily concerned with the
following two operations:</p>
   <ul>
    <li data-md>
     <p>Registering new <em>data types</em> as <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③②">Data Registrations</a></p>
    <li data-md>
     <p>Storing and registering new <em>instances of those data types</em> as <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③③">Data Instances</a></p>
   </ul>
   <p>The following operations allow for the lookup, creation, and deletion
of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③③">Data Registrations</a> and <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③④">Data Instances</a> in a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①④">Data Registry</a>.</p>
   <ul>
    <li data-md>
     <p><a href="#datareg-load">§ 5.5.1 Load Data Registration</a> - Load an existing <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③④">Data Registration</a></p>
    <li data-md>
     <p><a href="#datareg-create">§ 5.5.2 Create Data Registration</a> - Create a new <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⑤">Data Registration</a></p>
    <li data-md>
     <p><a href="#datareg-create-instance">§ 5.5.3 Create Data Instance</a> - Create a new <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⑤">Data Instance</a> for
a given <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⑥">Data Registration</a></p>
    <li data-md>
     <p><a href="#datareg-delete">§ 5.5.4 Delete Data Registration</a> - Delete a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⑦">Data Registration</a></p>
    <li data-md>
     <p><a href="#datareg-delete-instance">§ 5.5.5 Delete Data Instance</a> - Delete a <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⑥">Data Instance</a> for
a given <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⑧">Data Registration</a></p>
   </ul>
   <p class="note" role="note"><span>Note:</span> Managing <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration③⑨">Data Registrations</a> and the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⑦">Data Instances</a> contained within them is inextricably linked to permissioning the data
for effective use and secure collaboration. This is covered at length
in <a href="#authz">§ 6 Data Authorization</a>.</p>
   <h4 class="heading settled" data-level="5.5.1" id="datareg-load"><span class="secno">5.5.1. </span><span class="content">Load Data Registration</span><a class="self-link" href="#datareg-load"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation returns a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⓪">Data Registration</a> the corresponds
        to a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①②">shape tree</a> in a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⑤">Data Registry</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TREE</code>
      <td><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①③">Shape tree</a> to match against
     <tr>
      <td><code>REGISTRY</code>
      <td><a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⑥">Data Registry</a> to look for a match within
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④①">Data Registration</a>
      <td>Loaded by matching against <code>TREE</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>404</code> if <code>TREE</code> or <code>REGISTRY</code> cannot be successfully dereferenced.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④②">Data Registration</a> <code>REGISTRATION</code> included
in <code>REGISTRY hasRegistration</code></p>
      <ol>
       <li data-md>
        <p>return <code>REGISTRATION</code> if <code>REGISTRATION registeredShapeTree</code> == <code>TREE</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="5.5.2" id="datareg-create"><span class="secno">5.5.2. </span><span class="content">Create Data Registration</span><a class="self-link" href="#datareg-create"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation creates a new <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④③">Data Registration</a> in a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⑦">Data Registry</a> for a specific <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①④">shape tree</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TREE</code>
      <td><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⑤">Shape tree</a> to register
     <tr>
      <td><code>TYPE</code>
      <td>Optional <a href="https://www.w3.org/TR/rdf-schema/#ch_type">rdf:type</a> to associate with the registration
     <tr>
      <td><code>REGISTRY</code>
      <td><a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⑧">Data Registry</a> where the registration will be created
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④④">Data Registration</a>
      <td>Created for <code>TREE</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>404</code> if <code>TREE</code> or <code>REGISTRY</code> cannot be successfully dereferenced.</p>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>400</code> if an existing <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⑤">Data Registration</a> is returned from <a href="#datareg-load">§ 5.5.1 Load Data Registration</a> with 
inputs: <code>TREE</code>, <code>REGISTRY</code></p>
     <li data-md>
      <p>Let <code>REG</code> be a newly initialized <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⑥">Data Registration</a></p>
     <li data-md>
      <p>Let <code>REG registeredBy</code> be the current <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⑤">Agent</a></p>
     <li data-md>
      <p>Let <code>REG registeredWith</code> be the <a data-link-type="dfn" href="#identity" id="ref-for-identity①③">identity</a> of the <a data-link-type="dfn" href="#application" id="ref-for-application⑥⑥">Application</a> executing the operation</p>
     <li data-md>
      <p>Let <code>REG registeredAt</code> be the current date and time</p>
     <li data-md>
      <p>Let <code>REG updatedAt</code> be the current date and time</p>
     <li data-md>
      <p>Let <code>REG registeredShapeTree</code> be <code>TREE</code></p>
     <li data-md>
      <p>Let <code>REG registeredType</code> be <code>TYPE</code> if <code>TYPE</code> is not empty</p>
     <li data-md>
      <p>PUT <code>REG</code> into the <code>REGISTRY</code> container</p>
      <ol>
       <li data-md>
        <p>A <a href="https://www.ietf.org/rfc/rfc4122.txt">UUID</a> <em class="rfc2119">MUST</em> be assigned as the resource name.</p>
       <li data-md>
        <p><a href="https://shapetrees.github.io/specification/spec#plant-shapetree">Plant</a> <code>TREE</code> with <code>REG</code> as the Target Container.</p>
      </ol>
     <li data-md>
      <p>Assign permissions for <code>REG</code> per the <a href="#datareg-permissions">§ 5.4 Permission Model</a></p>
     <li data-md>
      <p>Link <code>REG</code> to <code>REGISTRY</code> via <code>REGISTRY hasRegistration</code></p>
     <li data-md>
      <p>Return <code>REG</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="5.5.3" id="datareg-create-instance"><span class="secno">5.5.3. </span><span class="content">Create Data Instance</span><a class="self-link" href="#datareg-create-instance"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This operation will create a new <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⑧">Data Instance</a> for
        a given <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⑦">Data Registration</a>. It must be a conformant instance of
        the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⑥">shape tree</a> registered with the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⑧">Data Registration</a>, per
        the validation structure detailed in <a href="#datareg-hierarchy">§ 5.3 Resource Hierarchy</a>. 
       <p>Assumes that a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration④⑨">Data Registration</a> has already been loaded
        by <a href="#datareg-load">§ 5.5.1 Load Data Registration</a> and provided as input.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REGISTRATION</code>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⓪">Data Registration</a> to associated the new <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance③⑨">Data Instance</a> with
     <tr>
      <td><code>INSTANCE</code>
      <td>Instance corresponding with <code>REGISTRATION registeredShapeTree</code>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⓪">Data Instance</a>
      <td>Created for <code>REGISTRATION</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>PUT <code>INSTANCE</code> into the <code>REGISTRATION</code> container</p>
      <ol>
       <li data-md>
        <p>A <a href="https://www.ietf.org/rfc/rfc4122.txt">UUID</a> <em class="rfc2119">MUST</em> be assigned as the resource name.</p>
       <li data-md>
        <p>A <a href="https://shapetrees.github.io/specification/spec#create-data-instance">target shape tree</a> <em class="rfc2119">MUST</em> be assigned via the <code>rel=http://shapetrees.org/#targetShapeTree</code> HTTP Link relation</p>
       <li data-md>
        <p>A <a href="https://shapetrees.github.io/specification/spec#create-data-instance">focus node</a> for shape tree validation <em class="rfc2119">MUST</em> be assigned
via the <code>rel=http://shapetrees.org/#FocusNode</code> HTTP Link relation</p>
      </ol>
     <li data-md>
      <p>Return <code>INSTANCE</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="5.5.4" id="datareg-delete"><span class="secno">5.5.4. </span><span class="content">Delete Data Registration</span><a class="self-link" href="#datareg-delete"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation deletes a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤①">Data Registration</a> from a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry①⑨">Data Registry</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REGISTRATION</code>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤②">Data Registration</a> to delete
     <tr>
      <td><code>REGISTRY</code>
      <td><a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②⓪">Data Registry</a> of <code>REGISTRATION</code>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td>HTTP Status Code
      <td>As returned from server
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>404</code> if <code>REGISTRATION</code> cannot be successfully dereferenced.</p>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>400</code> if <code>REGISTRATION</code> contains one or more <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④①">Data Instances</a>.</p>
     <li data-md>
      <p>Remove <code>REGISTRATION</code> from the graph of <code>REGISTRY</code> via <code>REGISTRY hasRegistration</code></p>
     <li data-md>
      <p>DELETE <code>REGISTRATION</code></p>
    </ol>
   </div>
   <p class="issue" id="issue-1c6aa834"><a class="self-link" href="#issue-1c6aa834"></a> Cleanup of related data may need to be specified</p>
   <h4 class="heading settled" data-level="5.5.5" id="datareg-delete-instance"><span class="secno">5.5.5. </span><span class="content">Delete Data Instance</span><a class="self-link" href="#datareg-delete-instance"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation deletes a <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④②">Data Instance</a> from a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤③">Data Registration</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>INSTANCE</code>
      <td><a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④③">Data Instance</a> to delete
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td>HTTP Status Code
      <td>As returned from server
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return <code>404</code> if <code>INSTANCE</code> cannot be successfully dereferenced.</p>
     <li data-md>
      <p>If <code>INSTANCE</code> is a container</p>
      <ol>
       <li data-md>
        <p>Let <code>RESOURCES</code> be a hierarchy of all resources contained by <code>INSTANCE</code>,
including any child containers and resources.</p>
       <li data-md>
        <p>DELETE each <code>RESOURCE</code> in <code>RESOURCES</code>, iterating up from the bottom
of the <code>RESOURCES</code> hierarchy</p>
      </ol>
     <li data-md>
      <p>DELETE <code>INSTANCE</code></p>
    </ol>
   </div>
   <p class="issue" id="issue-1c6aa834①"><a class="self-link" href="#issue-1c6aa834①"></a> Cleanup of related data may need to be specified</p>
   <h2 class="heading settled" data-level="6" id="authz"><span class="secno">6. </span><span class="content">Data Authorization</span><a class="self-link" href="#authz"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="authz-overview"><span class="secno">6.1. </span><span class="content">Overview</span><a class="self-link" href="#authz-overview"></a></h3>
   <p>The ability for one <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⑥">Agent</a> to grant others access to data in their control
is a fundamental element of a collaborative interoperable ecosystem.</p>
   <p>Data Authorization represents several key elements that
work together to grant, adjust, and rescind access to data controlled
by an ecosystem participant.</p>
   <ul>
    <li data-md>
     <p>A common way to express <a href="#needs">§ 7 Access Needs</a> allows <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem②">ecosystem</a> participants to
convey the types or specific instances of data they require.</p>
    <li data-md>
     <p><a href="#grants">§ 8 Access Grants</a> record access decisions made by an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⑦">Agent</a> on the data in their
control.</p>
    <li data-md>
     <p><a href="#receipts">§ 9 Access Receipts</a> reflect <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①">Access Grants</a> that one <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⑧">Agent</a> has provided
to another <a data-link-type="dfn" href="#agent" id="ref-for-agent⑦⑨">Agent</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.2" id="authz-workflows"><span class="secno">6.2. </span><span class="content">Workflows</span><a class="self-link" href="#authz-workflows"></a></h3>
   <p>The following workflows represent the authorization patterns
enabled by this specification.</p>
   <h4 class="heading settled" data-level="6.2.1" id="present-grant"><span class="secno">6.2.1. </span><span class="content">Presenting an Access Grant</span><a class="self-link" href="#present-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This workflow details how an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②">Access Grant</a> is 
      presented to a given <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⓪">Agent</a> for data in their control, 
      based on the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②">Access Need Groups</a> associated. 
       <p>Each <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③">Access Grant</a> is associated with a specific <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject">Access Grant Subject</a>, and one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③">Access Need Groups</a>. 
      The <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①">Access Grant Subject</a> may be another <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧①">Agent</a>, an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧②">Agent</a> using an <a data-link-type="dfn" href="#application" id="ref-for-application⑥⑦">Application</a>, or an <a data-link-type="dfn" href="#application" id="ref-for-application⑥⑧">Application</a> operating as an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧③">Agent</a>.</p>
       <p>Access Grant presentation may be invoked from a number of
      workflows and contexts, including but not limited to <a href="#authz-apprequest">§ 6.2.2 Application Requests Access</a>, <a href="#authz-agentrequest">§ 6.2.3 Another Agent Requests Access</a>, <a href="#authz-controllershare">§ 6.2.4 Controller Shares Access</a>, and <a href="#authz-controllerinvite">§ 6.2.5 Controller Shares Access with Invited Agent</a>.</p>
       <p>This workflow is composed of several operations:</p>
       <ol>
        <li data-md>
         <p><a href="#present-grant">§ 6.2.1 Presenting an Access Grant</a></p>
         <ol>
          <li data-md>
           <p><a href="#present-needgroup">§ 6.2.1.1 Presenting an Access Need Group</a> - Called for each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④">Access Need Group</a></p>
           <ol>
            <li data-md>
             <p><a href="#present-need">§ 6.2.1.2 Presenting a Data Access Need</a> - Called for each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need">Access Need</a> in the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤">Access Need Group</a></p>
            <li data-md>
             <p><a href="#present-trustedneed">§ 6.2.1.3 Presenting a Trusted Need</a> - Called for each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need">Trusted Need</a> in
  the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥">Access Need Group</a></p>
           </ol>
         </ol>
       </ol>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>SUBJECT</code>
      <td>This may be a tuple of <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧④">Agent</a> and <a data-link-type="dfn" href="#application" id="ref-for-application⑥⑨">Application</a> in the 
      case of a <a data-link-type="dfn" href="#weakly-identifiable-applications" id="ref-for-weakly-identifiable-applications">weakly identifiable application</a>, or <a data-link-type="dfn" href="#application" id="ref-for-application⑦⓪">Application</a> and <a data-link-type="dfn" href="#application" id="ref-for-application⑦①">Application</a> in the case
      of a <a data-link-type="dfn" href="#strongly-identifiable-applications" id="ref-for-strongly-identifiable-applications">strongly identifiable application</a>
     <tr>
      <td><code>NEEDGROUPS</code>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦">Access Need Groups</a> to use when a new <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④">Access Grant</a> is being initialized
   </table>
   <p class="note" role="note"><span>Note:</span> All user experience herein is meant to inform how the
data model and operations work. The design and style should be 
considered non-normative. Example data has been incorporated into 
the provided designs to further comprehension of the proposed 
workflow.</p>
   <figure id="fig-present-grant">
    <figcaption>An example <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤">Access Grant</a> for an Application.</figcaption>
     <img src="diagrams/present-grant.svg" width="100%/"> 
   </figure>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>GRANT</code> be an existing <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥">Access Grant</a> for <code>SUBJECT</code> returned by <a href="#grants-loadgrant">§ 8.4.6 Load Grant</a></p>
      <ol>
       <li data-md>
        <p>If <code>GRANT</code> is missing, create one via <a href="#grants-initializegrant">§ 8.4.1 Initialize Grant</a></p>
      </ol>
     <li data-md>
      <p>Present information about the <a data-link-type="dfn" href="#application" id="ref-for-application⑦②">Application</a> <code>APP</code> if the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②">Access Grant Subject</a> is for an <a data-link-type="dfn" href="#application" id="ref-for-application⑦③">Application</a>:</p>
      <ol>
       <li data-md>
        <p>Application Name - <code>APP applicationName</code></p>
       <li data-md>
        <p>Application Identity - <code>APP</code> URI</p>
       <li data-md>
        <p>Application Author Name - <code>APP applicationAuthorName</code></p>
       <li data-md>
        <p>Application Author Identity - <code>APP applicationAuthor</code></p>
       <li data-md>
        <p>Application Thumbnail - <code>APP applicationThumbnail</code></p>
       <li data-md>
        <p>Application Summary - <code>APP applicationDescription</code></p>
      </ol>
     <li data-md>
      <p>Present information about the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⑤">Agent</a> <code>AGENT</code> if the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③">Access Grant Subject</a> is not an <a data-link-type="dfn" href="#application" id="ref-for-application⑦④">Application</a></p>
      <ol>
       <li data-md>
        <p>Agent Name <code>AGENT fullName</code></p>
       <li data-md>
        <p>Agent Identity - <code>AGENT</code> URI</p>
      </ol>
     <li data-md>
      <p>Call <a href="#present-needgroup">§ 6.2.1.1 Presenting an Access Need Group</a> for each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑧">Access Need Group</a> linked
via <code>GRANT hasAccessNeedGroup</code>.</p>
     <li data-md>
      <p>Present an option to authorize the grant by calling <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a>,
or cancel.</p>
    </ol>
   </div>
   <h5 class="heading settled" data-level="6.2.1.1" id="present-needgroup"><span class="secno">6.2.1.1. </span><span class="content">Presenting an Access Need Group</span><a class="self-link" href="#present-needgroup"></a></h5>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This sub-operation of <a href="#present-grant">§ 6.2.1 Presenting an Access Grant</a> presents an 
      input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑨">Access Need Group</a> associated with a specific <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦">Access Grant</a>. 
       <p>Each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⓪">Access Need Group</a> represents a set of <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①">Access Needs</a> and/or <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①">Trusted Needs</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GROUP</code>
      <td>The <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①①">Access Need Group</a> to present
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧">Access Grant</a> that <code>GROUP</code> is linked to
   </table>
   <figure id="fig-present-needgroup">
    <figcaption> Depicting an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②">Access Need</a> associated with a given <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①②">Access Need Group</a>, and several <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need">Referenced Access Needs</a> linked to it. The controller
  chose to grant access to all instances now and in the future. </figcaption>
     <img src="diagrams/present-needgroup.svg" width="100%/"> 
   </figure>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>GDEC</code> be the <a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator">Access Need Group Decorator</a> linked via <code>GROUP hasAccessNeedGroupDecorator</code></p>
     <li data-md>
      <p>Present information about the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①③">Access Need Group</a> <code>GROUP</code></p>
      <ol>
       <li data-md>
        <p>Group Name - <code>GDEC skos:prefLabel</code></p>
       <li data-md>
        <p>Group Description - <code>GDEC skos:definition</code></p>
       <li data-md>
        <p>Grantee Type - <code>GROUP authenticatesAs</code></p>
       <li data-md>
        <p>Necessity - <code>GROUP accessNecessity</code></p>
      </ol>
     <li data-md>
      <p>Allow <code>GROUP</code> to be disabled via <a href="#deny-access-need-group">§ 8.4.22 Deny Access Need Group</a> if group
necessity is optional</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③">Access Need</a> <code>NEED</code> linked via <code>GROUP hasAccessNeed</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#present-need">§ 6.2.1.2 Presenting a Data Access Need</a></p>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②">Trusted Need</a> <code>TNEED</code> linked via <code>GROUP hasTrustedNeed</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#present-trustedneed">§ 6.2.1.3 Presenting a Trusted Need</a></p>
      </ol>
    </ol>
   </div>
   <h5 class="heading settled" data-level="6.2.1.2" id="present-need"><span class="secno">6.2.1.2. </span><span class="content">Presenting a Data Access Need</span><a class="self-link" href="#present-need"></a></h5>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This sub-operation of <a href="#present-needgroup">§ 6.2.1.1 Presenting an Access Need Group</a> presents an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④">Access Need</a> for an input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①④">Access Need Group</a>. 
       <p>Each discrete <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤">Access Need</a> is related to a specific type of
      data, identified by a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⑦">shape tree</a>.</p>
       <p>Each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥">Access Need</a> directly linked to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⑤">Access Need Group</a> may have zero or more <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①">Referenced Access Needs</a> associated with it.
      Each <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②">Referenced Access Need</a> is presented under the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦">Access Need</a> it is linked to.</p>
       <p>The controller can grant access to all data for the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑧">Access Need</a> and the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③">Referenced Access Needs</a>, select 
      specific instances of the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑨">Access Need</a> and narrow the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need④">Referenced Access Need</a> instances to only those related.
      Manual selection with no inheritance can also be done 
      instead.</p>
       <p>Access to which data has been shared with the controller in their <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry">Remote Data Registry</a> is also requested through <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⓪">Access Needs</a>.
      In most cases, controllers won’t need to do fine-grained instance
      selection of remote data, but should be allowed the ability if
      they desire.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>NEED</code>
      <td>The <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①①">Access Need</a> to present 
     <tr>
      <td><code>GROUP</code>
      <td>The <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⑥">Access Need Group</a> that <code>NEED</code> is linked to
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨">Access Grant</a> that <code>GROUP</code> is linked to
   </table>
   <figure id="fig-present-inherited">
    <figcaption> Depicting an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①②">Access Need</a> with two selected <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④④">Data Instances</a>,
  with access to the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need⑤">Referenced Access Needs</a> set based on
  whether there is a link to the selected instances. </figcaption>
     <img src="diagrams/present-needgroup-inherited.svg" width="100%/"> 
   </figure>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Call <a href="#present-need-details">§ 6.2.1.2.1 Presenting Data Access Need Details</a> to explain the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①③">Access Need</a></p>
     <li data-md>
      <p>Let <code>DG</code> be the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant">Data Grant</a> linked via <code>NEED hasDataGrant</code></p>
     <li data-md>
      <p>Manage the scope of data to be granted <code>DG scopeOfGrant</code>:</p>
      <ol>
       <li data-md>
        <p><strong>No Access</strong> - <code>interop:NoAccess</code> (if necessity is optional)</p>
        <ol>
         <li data-md>
          <p>Enable via <a href="#deny-data-grant">§ 8.4.23 Deny Data Grant</a></p>
        </ol>
       <li data-md>
        <p><strong>All Current and Future</strong> - <code>interop:AllInstances</code></p>
        <ol>
         <li data-md>
          <p>Enable via <a href="#select-all-data-instances">§ 8.4.25 Select All Data Instances</a></p>
        </ol>
       <li data-md>
        <p><strong>Only Selected Instances</strong> - <code>interop:SelectedInstances</code></p>
        <ol>
         <li data-md>
          <p>Present existing <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⑤">Data Instances</a> corresponding to <code>DG registeredShapeTree</code>, identifying any existing selections
linked via <code>DG hasDataInstance</code></p>
         <li data-md>
          <p>Allow one or more to be chosen</p>
         <li data-md>
          <p>Enable via <a href="#select-data-instance">§ 8.4.27 Select Specific Data Instance</a>, providing each selected <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⑥">Data Instance</a></p>
        </ol>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need⑥">Referenced Access Need</a> <code>REFNEED</code> linked via <code>NEED hasReferencedAccessNeed</code></p>
      <ol>
       <li data-md>
        <p>Let <code>REFDG</code> be the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant">Referenced Data Grant</a> linked via <code>NEED hasReferencedDataGrant</code></p>
       <li data-md>
        <p>Call <a href="#present-need-details">§ 6.2.1.2.1 Presenting Data Access Need Details</a> to explain the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need⑦">Referenced Access Need</a></p>
        <ol>
         <li data-md>
          <p>Manage the scope of data to be granted <code>REFDG scopeOfGrant</code>:</p>
          <ol>
           <li data-md>
            <p><strong>No Access</strong> - <code>interop:NoAccess</code> (if necessity is optional)</p>
            <ol>
             <li data-md>
              <p>Enable via <a href="#deny-referenced-data-grant">§ 8.4.24 Deny Referenced Data Grant</a></p>
            </ol>
           <li data-md>
            <p><strong>All Current and Future</strong> - <code>interop:AllInstances</code></p>
            <ol>
             <li data-md>
              <p>Enable via <a href="#select-all-referenced-data-instances">§ 8.4.26 Select All Referenced Data Instances</a></p>
            </ol>
           <li data-md>
            <p><strong>Only Inherited Instances</strong> - <code>interop:InheritInstances</code> (if <code>DG scopeOfGrant</code> is <code>interop:SelectedInstances</code>)</p>
            <ol>
             <li data-md>
              <p>Present <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⑦">Data Instances</a> of <code>REFNEED registeredShapeTree</code> linked to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⑧">Data Instances</a> for <code>DG</code> via <code>st:traverseViaShapePath</code> of <code>DG registeredShapeTree</code></p>
            </ol>
           <li data-md>
            <p><strong>Only Selected Instances</strong> - <code>interop:SelectedInstances</code></p>
            <ol>
             <li data-md>
              <p>Present existing <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance④⑨">Data Instances</a> corresponding to <code>REFDG registeredShapeTree</code>, identifying any existing 
selections linked via <code>REFDG hasDataInstance</code></p>
             <li data-md>
              <p>Allow one or more to be chosen</p>
             <li data-md>
              <p>Enable via <a href="#select-referenced-data-instance">§ 8.4.29 Select Specific Referenced Data Instance</a>, providing
each selected <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⓪">Data Instance</a>.</p>
            </ol>
          </ol>
        </ol>
      </ol>
    </ol>
    <p class="note" role="note"><span>Note:</span> Access to data in the <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①">Remote Data Registry</a> is similarly managed per <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①④">Access Need</a>. User interfaces may opt to present
simpler options, and mix the selection in with local data,
like in the <a href="#fig-present-inherited">figure</a> above. However, for the
comprehension and completeness, options for remote data access are 
presented as follows:</p>
    <ol>
     <li data-md>
      <p>Let <code>RDG</code> be the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant">Remote Data Grant</a> linked via <code>NEED hasRemoteDataGrant</code></p>
     <li data-md>
      <p>Manage the scope of data to be granted <code>RDG scopeOfGrant</code>:</p>
      <ol>
       <li data-md>
        <p><strong>No Access</strong> - <code>interop:NoAccess</code> (if necessity is optional)</p>
        <ol>
         <li data-md>
          <p>Enable via <a href="#deny-remote-data-grant">§ 8.4.36 Deny Remote Data Grant</a></p>
        </ol>
       <li data-md>
        <p><strong>All Remote Data</strong> - <code>interop:AllRemote</code></p>
        <ol>
         <li data-md>
          <p>Enable via <a href="#select-all-remote">§ 8.4.30 Select All Remote Instances</a></p>
        </ol>
       <li data-md>
        <p><strong>All Remote From Agent</strong> - <code>interop:AllRemoteFromAgent</code></p>
        <ol>
         <li data-md>
          <p>Present existing <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration">Remote Agent Data Registrations</a> corresponding
to <code>NEED registeredShapeTree</code>, identifying any existing selections
linked via <code>RDG hasRemoteDataFromAgent</code></p>
         <li data-md>
          <p>Allow one or more to be chosen</p>
         <li data-md>
          <p>Enable via <a href="#select-all-remote-fromagent">§ 8.4.32 Select All Remote From Agent</a></p>
        </ol>
       <li data-md>
        <p><strong>Only Selected Remote Data</strong> - <code>interop:SelectedRemote</code></p>
        <ol>
         <li data-md>
          <p>Present existing <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①">Referenced Data Grants</a>,
corresponding to <code>NEED registeredShapeTree</code> and optionally organized by <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①">Remote Agent Data Registrations</a>, identifying any existing selections
linked via <code>RDG hasDataGrant</code> and/or <code>RDG:hasReferencedDataGrant</code></p>
         <li data-md>
          <p>Allow one or more to be chosen</p>
         <li data-md>
          <p>Enable via <a href="#select-remote-agent-data-grants">§ 8.4.34 Select Specific Remote Agent Data Grants</a>, providing the selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②">Referenced Data Grants</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need⑧">Referenced Access Need</a> <code>REFNEED</code> linked via <code>NEED hasReferencedAccessNeed</code></p>
      <ol>
       <li data-md>
        <p>Let <code>REFRDG</code> be the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant">Referenced Remote Data Grant</a> linked via <code>NEED hasReferencedRemoteDataGrant</code></p>
       <li data-md>
        <p>Manage the scope of data to be granted <code>REFRDG scopeOfGrant</code>:</p>
        <ol>
         <li data-md>
          <p><strong>No Access</strong> - <code>interop:NoAccess</code> (if necessity is optional)</p>
          <ol>
           <li data-md>
            <p>Enable via <a href="#deny-referenced-remote-data-grant">§ 8.4.37 Deny Referenced Remote Data Grant</a></p>
          </ol>
         <li data-md>
          <p><strong>All Remote Data</strong> - <code>interop:AllRemote</code></p>
          <ol>
           <li data-md>
            <p>Enable via <a href="#select-all-referenced-remote">§ 8.4.31 Select All Referenced Remote Instances</a></p>
          </ol>
         <li data-md>
          <p><strong>All Remote From Agent</strong> - <code>interop:AllRemoteFromAgent</code></p>
          <ol>
           <li data-md>
            <p>Present existing <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②">Remote Agent Data Registrations</a> corresponding
to <code>NEED registeredShapeTree</code>, identifying any existing selections
linked via <code>REFRDG hasRemoteDataFromAgent</code></p>
           <li data-md>
            <p>Allow one or more to be chosen</p>
           <li data-md>
            <p>Enable via <a href="#select-referenced-remote-fromagent">§ 8.4.33 Select All Referenced Remote From Agent</a></p>
          </ol>
         <li data-md>
          <p><strong>Only Selected Remote Data</strong> - <code>interop:SelectedRemote</code></p>
          <ol>
           <li data-md>
            <p>Present existing <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③">Referenced Data Grants</a>,
corresponding to <code>NEED registeredShapeTree</code> and optionally organized by <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③">Remote Agent Data Registrations</a>, identifying any existing selections
linked via <code>REFRDG hasDataGrant</code> and/or <code>REFRDG hasReferencedDataGrant</code></p>
           <li data-md>
            <p>Allow one or more to be chosen</p>
           <li data-md>
            <p>Enable via <a href="#select-referenced-remote-agent-data-grants">§ 8.4.35 Select Specific Referenced Remote Agent Data Instances</a>, providing the selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④">Referenced Data Grants</a>.</p>
          </ol>
        </ol>
      </ol>
    </ol>
   </div>
   <h6 class="heading settled" data-level="6.2.1.2.1" id="present-need-details"><span class="secno">6.2.1.2.1. </span><span class="content">Presenting Data Access Need Details</span><a class="self-link" href="#present-need-details"></a></h6>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This sub-operation of <a href="#present-need">§ 6.2.1.2 Presenting a Data Access Need</a> is used to present specific
      details of an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⑤">Access Need</a> or <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need⑨">Referenced Access Need</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>NEED</code>
      <td>The <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⑥">Access Need</a> or <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⓪">Referenced Access Need</a> to present
   </table>
   <ol>
    <li data-md>
     <p>Let <code>STDEC</code> be the <a data-link-type="dfn" href="#shape-tree-decorator" id="ref-for-shape-tree-decorator">Shape Tree Decorator</a> linked via <code>NEED hasShapeTreeDecorator</code></p>
    <li data-md>
     <p>Let <code>ANDEC</code> be the <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator">Access Need Decorator</a> linked via <code>NEED hasAccessNeedDecorator</code></p>
    <li data-md>
     <p>Present information about the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⑦">Access Need</a>:</p>
     <ol>
      <li data-md>
       <p>Shape Tree Name - <code>STDEC skos:prefLabel</code></p>
      <li data-md>
       <p>Shape Tree Description - <code>STDEC skos:definition</code></p>
      <li data-md>
       <p>Access Modes - <code>NEED accessMode</code>s</p>
      <li data-md>
       <p>Necessity - <code>NEED accessNecessity</code></p>
     </ol>
   </ol>
   <h5 class="heading settled" data-level="6.2.1.3" id="present-trustedneed"><span class="secno">6.2.1.3. </span><span class="content">Presenting a Trusted Need</span><a class="self-link" href="#present-trustedneed"></a></h5>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This workflow explains how to present a <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need③">Trusted Need</a> for
      an input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⑦">Access Need Group</a> associated with a given <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪">Access Grant</a>. 
       <p>Each discrete <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need④">Trusted Need</a> is related to a specific type of
      trusted resource.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TNEED</code>
      <td>The <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need⑤">Trusted Need</a> to present 
     <tr>
      <td><code>GROUP</code>
      <td>The <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⑧">Access Need Group</a> that <code>TNEED</code> is linked to
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①">Access Grant</a> that <code>GROUP</code> is linked to
   </table>
   <figure id="fig-present-trustedneed">
    <figcaption> Depicting <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need⑥">Trusted Needs</a> for an <a data-link-type="dfn" href="#application" id="ref-for-application⑦⑤">Application</a> that will be
  used as an authorization agent, requiring elevated access across
  the board. </figcaption>
     <img src="diagrams/present-needgroup-trustedneed.svg" width="100%/"> 
   </figure>
   <ol>
    <li data-md>
     <p>Let <code>TNEED</code> be the <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator①">Access Need Decorator</a> linked via <code>TNEED hasAccessNeedDecorator</code></p>
    <li data-md>
     <p>Let <code>TG</code> be the <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant">Trusted Grant</a> linked via <code>TNEED hasTrustedGrant</code></p>
    <li data-md>
     <p>Present information about the <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need⑦">Trusted Need</a>:</p>
     <ol>
      <li data-md>
       <p>Trusted Need Type - <code>STDEC skos:prefLabel</code></p>
      <li data-md>
       <p>Trusted Need Description - <code>STDEC skos:definition</code></p>
      <li data-md>
       <p>Access Modes - <code>TNEED accessMode</code>s</p>
      <li data-md>
       <p>Necessity - <code>TNEED accessNecessity</code></p>
     </ol>
    <li data-md>
     <p>Manage the scope of the trusted grant <code>TG scopeOfGrant</code>:</p>
     <ol>
      <li data-md>
       <p>Next if <code>TNEED trustedWithType</code> is <code>interop:Agent</code></p>
      <li data-md>
       <p><strong>All Registries</strong> - where <code>rdf:type</code> of <a data-link-type="dfn" href="#registry" id="ref-for-registry⑨">Registry</a> is <code>TNEED trustedWithType</code></p>
       <ol>
        <li data-md>
         <p>Enable via <a href="#select-trusted-registry-set">§ 8.4.38 Select Trusted Registry Set</a></p>
       </ol>
      <li data-md>
       <p><strong>Specific TYPE Registries</strong></p>
       <ol>
        <li data-md>
         <p>Present existing <a data-link-type="dfn" href="#registry" id="ref-for-registry①⓪">Registries</a> where <code>rdf:type</code> is <code>TNEED trustedWithType</code></p>
        <li data-md>
         <p>Allow one or more <a data-link-type="dfn" href="#registry" id="ref-for-registry①①">Registries</a> to be chosen</p>
        <li data-md>
         <p>Enable via <a href="#select-trusted-registry">§ 8.4.39 Select Specific Trusted Registry</a>, providing each selected <a data-link-type="dfn" href="#registry" id="ref-for-registry①②">Registrys</a></p>
       </ol>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="6.2.2" id="authz-apprequest"><span class="secno">6.2.2. </span><span class="content">Application Requests Access</span><a class="self-link" href="#authz-apprequest"></a></h4>
   <p>Let <code>CONTROLLER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⑥">Agent</a> that wants to give an <a data-link-type="dfn" href="#application" id="ref-for-application⑦⑥">Application</a> <code>APP</code> access to data in their control.</p>
   <p>Let <code>APP</code> be the <a data-link-type="dfn" href="#application" id="ref-for-application⑦⑦">Application</a> that <code>CONTROLLER</code> wishes to use, and must
    grant access to. <code>APP</code> may be an <a data-link-type="dfn" href="#application" id="ref-for-application⑦⑧">Application</a> that is piloted by the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⑦">Agent</a>, or it may be an autonomous service that operates independently.
    The following workflow applies to both cases.</p>
   <p>Let <code>AUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑦⑨">Application</a> trusted by the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⑧">Agent</a> for
    authorization and access control.</p>
   <ol>
    <li data-md>
     <p><code>CONTROLLER</code> decides they’d like to use <code>APP</code></p>
    <li data-md>
     <p><code>CONTROLLER</code> provides their <a data-link-type="dfn" href="#identity" id="ref-for-identity①④">identity</a> to <code>APP</code></p>
    <li data-md>
     <p><code>APP</code> dereferences the <a data-link-type="dfn" href="#identity" id="ref-for-identity①⑤">identity</a> to
get <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document③">identity profile document</a>.</p>
    <li data-md>
     <p><code>APP</code> discovers that <code>AUTHZ</code> is an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⓪">Application</a> that is a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent④">Trusted Agent</a> of <code>CONTROLLER</code> for data authorization
via the <a href="#load-application-service">§ 3.5.1 Load Application Service</a> operation.</p>
    <li data-md>
     <p><code>APP</code> redirects <code>CONTROLLER</code> to <code>AUTHZ</code> via the <a href="#redirect-to-application-service">§ 3.5.2 Redirect to Application Service</a> operation.</p>
     <ol>
      <li data-md>
       <p>Let <code>APPREG</code> be an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③⓪">Application Registration</a> returned by <a href="#appreg-loadappreg">§ 4.5.1 Load Application Registration</a> with inputs: <code>CONTROLLER</code>, <code>APP</code></p>
      <li data-md>
       <p>If <code>APPREG</code> is empty let <code>APPREG</code> be the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③①">Application Registration</a> returned by <a href="#appreg-registerapp">§ 4.5.2 Register Application</a> with inputs: <code>AGENT</code>, <code>APP</code>, <code>REGISTRY</code>.</p>
      <li data-md>
       <p><code>AUTHZ</code> looks in <code>APP</code>'s <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document">application profile document</a> for <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group①⑨">Access Need Groups</a> with an <code>interop:accessScenario</code> of <code>interop:PersonalAccess</code></p>
      <li data-md>
       <p>Any <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⓪">Access Need Groups</a> found are passed to the <a href="#present-grant">§ 6.2.1 Presenting an Access Grant</a> workflow, which presents them to <code>CONTROLLER</code>.</p>
      <li data-md>
       <p><code>CONTROLLER</code> decides whether to grant <code>APP</code> the access requested.</p>
      <li data-md>
       <p><code>CONTROLLER</code> authorizes the requested <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②①">Access Need Groups</a> and <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⑧">Access Needs</a>:</p>
       <ol>
        <li data-md>
         <p>The <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> operation is invoked</p>
         <ol>
          <li data-md>
           <p>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①②">Access Grant</a> is stored in <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry">Access Grant Registry</a>.</p>
          <li data-md>
           <p><a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> is called to apply permissions based
on the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①③">Access Grant</a>.</p>
          <li data-md>
           <p><a href="#provide-access-receipt">§ 9.4.1 Provide Access Receipt</a> is called to store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑨">Access Receipt</a>. The Application has set <code>interop:receivesAccessReceipt</code> to <code>ReceiptInRegistration</code>, so the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⓪">Access Receipt</a> is
stored in the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③②">Application Registration</a> for <code>APP</code>.</p>
         </ol>
       </ol>
      <li data-md>
       <p><code>AUTHZ</code> redirects <code>CONTROLLER</code> back to <code>APP</code> via the <a href="#return-from-application-service">§ 3.5.3 Return from Application Service</a> operation.</p>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="6.2.3" id="authz-agentrequest"><span class="secno">6.2.3. </span><span class="content">Another Agent Requests Access</span><a class="self-link" href="#authz-agentrequest"></a></h4>
   <p>Let <code>REQUESTER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑧⑨">Agent</a> requesting data from another <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⓪">Agent</a> <code>CONTROLLER</code> with a known <a data-link-type="dfn" href="#identity" id="ref-for-identity①⑥">identity</a>.</p>
   <p>Let <code>REQAPP</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧①">Application</a> piloted by <code>REQUESTER</code></p>
   <p>Let <code>RAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧②">Application</a> trusted by <code>REQUESTER</code> for
    authorization and access control.</p>
   <p>Let <code>CONTROLLER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨①">Agent</a> in control of data that <code>REQUESTER</code> would like to access.</p>
   <p>Let <code>CAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧③">Application</a> trusted by <code>CONTROLLER</code> for
    authorization and access control.</p>
   <ol>
    <li data-md>
     <p><code>REQUESTER</code> would like access to <code>CONTROLLER</code>'s data.</p>
    <li data-md>
     <p><code>REQUESTER</code> provides <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity①⑦">identity</a> to <code>REQAPP</code>.</p>
    <li data-md>
     <p><code>REQAPP</code> dereferences <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity①⑧">identity</a> to get <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document④">identity profile document</a>.</p>
    <li data-md>
     <p><code>REQAPP</code> uses <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②②">Access Need Groups</a> from its <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document①">application profile document</a> with an <code>interop:accessScenario</code> of <code>interop:SharedAccess</code> to identify <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②③">Access Need Groups</a> to request
from <code>CONTROLLER</code>.</p>
    <li data-md>
     <p><code>CONTROLLER</code> has an <code>interop:receivesAccessReceipt</code> value of <code>ReceiptInMessage</code> in their <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document⑤">identity profile document</a>.</p>
    <li data-md>
     <p><code>REQAPP</code> puts the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②④">Access Need Groups</a> into an <a data-link-type="dfn" href="#access-request" id="ref-for-access-request">Access Request</a> and posts it to the access inbox identified by <code>interop:hasAccessInbox</code> in the <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document⑥">identity profile document</a>.</p>
    <li data-md>
     <p><code>CAUTHZ</code> monitors <code>CONTROLLER</code>'s access inbox autonomously. It notifies <code>CONTROLLER</code> when a new <a data-link-type="dfn" href="#access-request" id="ref-for-access-request①">Access Request</a> is received.</p>
     <ol>
      <li data-md>
       <p><code>CONTROLLER</code> clicks a link in the notification from <code>CAUTHZ</code>,
opening the <code>CAUTHZ</code> user interface and invoking the
[[##present-grant]] workflow using the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⑤">Access Need Groups</a> from
the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request②">Access Request</a>.</p>
      <li data-md>
       <p><code>CONTROLLER</code> determines whether they wish to grant the access requested.</p>
      <li data-md>
       <p>Assuming <code>CONTROLLER</code> authorizes a minimum of the
required <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⑥">Access Need Groups</a> and <a data-link-type="dfn" href="#access-need" id="ref-for-access-need①⑨">Access Needs</a>,
the <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> operation is invoked.</p>
      <li data-md>
       <p><a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> stores an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①④">Access Grant</a> in <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①">Access Grant Registry</a>.</p>
       <ol>
        <li data-md>
         <p><a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> is called to apply permissions based on the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⑤">Access Grant</a>.</p>
        <li data-md>
         <p><a href="#provide-access-receipt">§ 9.4.1 Provide Access Receipt</a> is called to deliver the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①①">Access Receipt</a>.</p>
         <ol>
          <li data-md>
           <p><code>CAUTHZ</code> dereferences <code>REQUESTER</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity①⑨">identity</a> to get <code>REQUESTER</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document⑦">identity profile document</a>.</p>
          <li data-md>
           <p><code>REQUESTER</code> has set <code>interop:receivesAccessReceipt</code> to <code>ReceiptInMessage</code>, so the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①②">Access Receipt</a> is posted
to the access inbox identified via <code>hasAccessInbox</code> in <code>REQUESTER</code>'s '<a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document⑧">identity profile document</a>.</p>
         </ol>
       </ol>
     </ol>
    <li data-md>
     <p><code>RAUTHZ</code> monitors <code>REQUESTER</code>'s access inbox autonomously. It notifies <code>REQUESTER</code> when a new <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①③">Access Receipt</a> is received.</p>
     <ol>
      <li data-md>
       <p><code>REQUESTER</code> clicks the link in the notification, opening the <code>RAUTHZ</code> user interface, and presenting the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①④">Access Receipt</a> to <code>REQUESTER</code>.</p>
      <li data-md>
       <p><code>REQUESTER</code> accepts the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⑤">Access Receipt</a>, and <code>RAUTHZ</code> invokes the <a href="#record-access-receipt">§ 9.4.4 Record Access Receipt</a> operation.</p>
       <ol>
        <li data-md>
         <p><a href="#record-access-receipt">§ 9.4.4 Record Access Receipt</a> is called to store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⑥">Access Receipt</a> in <code>REQUESTER</code>'s <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry">Access Receipt Registry</a>.</p>
        <li data-md>
         <p><a href="#update-remote-data">§ 10.4.3 Update Remote Data</a> is called to update <code>REQUESTER</code>'s <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②">Remote Data Registry</a> to reflect what is in the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⑦">Access Receipt</a>.</p>
       </ol>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="6.2.4" id="authz-controllershare"><span class="secno">6.2.4. </span><span class="content">Controller Shares Access</span><a class="self-link" href="#authz-controllershare"></a></h4>
   <p>Let <code>CONTROLLER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨②">Agent</a> in control of data that
    they would like to authorize <code>RECEIVER</code> to access.</p>
   <p>Let <code>CAPP</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧④">Application</a> piloted by <code>CONTROLLER</code></p>
   <p>Let <code>CAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⑤">Application</a> trusted by <code>CONTROLLER</code> for
    authorization and access control.</p>
   <p>Let <code>RECEIVER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨③">Agent</a> receiving access to data from another <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨④">Agent</a> <code>CONTROLLER</code>.</p>
   <p>Let <code>RAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⑥">Application</a> trusted by <code>RECEIVER</code> for
    authorization and access control.</p>
   <ol>
    <li data-md>
     <p><code>CONTROLLER</code> would like to give <code>RECEIVER</code> access to their data.</p>
    <li data-md>
     <p><code>CONTROLLER</code> provides <code>RECEIVER</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity②⓪">identity</a> to <code>CAPP</code>.</p>
    <li data-md>
     <p><code>CAPP</code> dereferences <code>RECEIVER</code>'s <a data-link-type="dfn" href="#identity" id="ref-for-identity②①">identity</a> to get <code>RECEIVER</code>'s <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document⑨">identity profile document</a>.</p>
    <li data-md>
     <p><code>CAPP</code> discovers that <code>CAUTHZ</code> is an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⑦">Application</a> that is a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent⑤">Trusted Agent</a> of <code>CONTROLLER</code> for data authorization
via the <a href="#load-application-service">§ 3.5.1 Load Application Service</a> operation.</p>
    <li data-md>
     <p><code>CAPP</code> redirects <code>CONTROLLER</code> to <code>CAUTHZ</code> via the <a href="#redirect-to-application-service">§ 3.5.2 Redirect to Application Service</a> operation.</p>
     <ol>
      <li data-md>
       <p><code>CAUTHZ</code> looks in <code>CAPP</code>'s <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document②">application profile document</a> for <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⑦">Access Need Groups</a> with an <code>interop:accessScenario</code> of <code>interop:SharedAccess</code></p>
      <li data-md>
       <p>Any <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⑧">Access Need Groups</a> found are passed to the [[##present-grant]]
workflow, which presents them to <code>CONTROLLER</code>.</p>
      <li data-md>
       <p><code>CONTROLLER</code> authorizes the data to share with <code>RECEIVER</code> based on
the provided <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group②⑨">Access Need Groups</a>.</p>
       <ol>
        <li data-md>
         <p>The <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> operation is invoked</p>
         <ol>
          <li data-md>
           <p>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⑥">Access Grant</a> is stored in <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②">Access Grant Registry</a>.</p>
          <li data-md>
           <p><a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> is called to apply permissions based
on the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⑦">Access Grant</a>.</p>
          <li data-md>
           <p><a href="#provide-access-receipt">§ 9.4.1 Provide Access Receipt</a> is called to store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⑧">Access Receipt</a>. <code>RECEIVER</code> has set <code>interop:receivesAccessReceipt</code> to <code>ReceiptInMessage</code>, so the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt①⑨">Access Receipt</a> is posted
to the access inbox identified via <code>hasAccessInbox</code> in <code>RECEIVER</code>'s '<a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①⓪">identity profile document</a>.</p>
         </ol>
       </ol>
      <li data-md>
       <p><code>CAUTHZ</code> redirects <code>CONTROLLER</code> back to <code>CAPP</code> via the <a href="#return-from-application-service">§ 3.5.3 Return from Application Service</a> operation.</p>
     </ol>
    <li data-md>
     <p><code>RAUTHZ</code> monitors <code>RECEIVER</code>'s access inbox autonomously. It notifies <code>RECEIVER</code> when a new <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⓪">Access Receipt</a> is received.</p>
     <ol>
      <li data-md>
       <p><code>RECEIVER</code> clicks the link in the notification, opening the <code>RAUTHZ</code> user interface to review the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②①">Access Receipt</a>.</p>
      <li data-md>
       <p><code>RECEIVER</code> accepts the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②②">Access Receipt</a>, and <code>RAUTHZ</code> invokes the <a href="#record-access-receipt">§ 9.4.4 Record Access Receipt</a> operation.</p>
       <ol>
        <li data-md>
         <p><a href="#record-access-receipt">§ 9.4.4 Record Access Receipt</a> is called to store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②③">Access Receipt</a> in <code>RECEIVER</code>'s <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry①">Access Receipt Registry</a>.</p>
        <li data-md>
         <p><a href="#update-remote-data">§ 10.4.3 Update Remote Data</a> is called to update <code>RECEIVER</code>'s <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry③">Remote Data Registry</a> to reflect what is in the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②④">Access Receipt</a>.</p>
       </ol>
     </ol>
   </ol>
   <h4 class="heading settled" data-level="6.2.5" id="authz-controllerinvite"><span class="secno">6.2.5. </span><span class="content">Controller Shares Access with Invited Agent</span><a class="self-link" href="#authz-controllerinvite"></a></h4>
   <p>Controlling Agent initiates sharing their data with an Agent that doesn’t
have an identity or a pod.</p>
   <p>Let <code>CONTROLLER</code> be an <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⑤">Agent</a> in control of data that
    they would like to authorize <code>INVITEE</code> to access.</p>
   <p>Let <code>CAPP</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⑧">Application</a> piloted by <code>CONTROLLER</code></p>
   <p>Let <code>CAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑧⑨">Application</a> trusted by <code>CONTROLLER</code> for
    authorization and access control.</p>
   <p>Let <code>CISERVICE</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑨⓪">Application</a> trusted by <code>CONTROLLER</code> to validate
    invitations made to <code>INVITEE</code>s.</p>
   <p>Let <code>INVITEE</code> be a person without an <a data-link-type="dfn" href="#identity" id="ref-for-identity②②">identity</a> or <a data-link-type="dfn" href="#pod" id="ref-for-pod③">pod</a> that <code>CONTROLLER</code> would like to authorize to access their data. <code>CONTROLLER</code> knows their
    e-mail address and mobile phone number.</p>
   <p>LET <code>PROVIDER</code> be a service that hosts <a data-link-type="dfn" href="#identity" id="ref-for-identity②③">identities</a> and <a data-link-type="dfn" href="#pod" id="ref-for-pod④">pods</a> who
    provisions the same for <code>INVITEE</code></p>
   <p>Let <code>PAUTHZ</code> be an <a data-link-type="dfn" href="#application" id="ref-for-application⑨①">Application</a> offered by <code>PROVIDER</code> and trusted by <code>INVITEE</code> for authorization and access control.</p>
   <ol>
    <li data-md>
     <p><code>CONTROLLER</code> would like to give <code>INVITEE</code> access to their data.</p>
    <li data-md>
     <p><code>CONTROLLER</code> provides <code>INVITEE</code>'s e-mail address and mobile number to <code>CAPP</code>.</p>
    <li data-md>
     <p><code>CAPP</code> discovers that <code>CAUTHZ</code> is an <a data-link-type="dfn" href="#application" id="ref-for-application⑨②">Application</a> that is a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent⑥">Trusted Agent</a> of <code>CONTROLLER</code> for data authorization
via the <a href="#load-application-service">§ 3.5.1 Load Application Service</a> operation.</p>
    <li data-md>
     <p><code>CAPP</code> redirects <code>CONTROLLER</code> to <code>CAUTHZ</code> via the <a href="#redirect-to-application-service">§ 3.5.2 Redirect to Application Service</a> operation.</p>
     <ol>
      <li data-md>
       <p><code>CAUTHZ</code> looks in <code>CAPP</code>'s <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document③">application profile document</a> for <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⓪">Access Need Groups</a> with an <code>interop:accessScenario</code> of <code>interop:SharedAccess</code></p>
      <li data-md>
       <p>Any <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③①">Access Need Groups</a> found are passed to
the [[##present-grant]]
workflow, which presents them to <code>CONTROLLER</code>.</p>
      <li data-md>
       <p><code>CONTROLLER</code> authorizes the data to share with <code>INVITEE</code> based on
the provided <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③②">Access Need Groups</a>.</p>
       <ol>
        <li data-md>
         <p>The <a href="#grants-recordinvitation">§ 8.4.9 Record Invitation</a> operation is invoked</p>
         <ol>
          <li data-md>
           <p>An <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation">Access Invitation</a> is stored in <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry③">Access Grant Registry</a>.</p>
          <li data-md>
           <p><a href="#grants-deliverinvitation">§ 8.4.10 Deliver Invitation</a> is called to create an
invitation entry for each <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel">Access Invitation Channel</a> in
the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①">Access Invitation</a> with <code>CISERVICE</code></p>
          <li data-md>
           <p>For each <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel①">Access Invitation Channel</a> in the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②">Access Invitation</a></p>
           <ol>
            <li data-md>
             <p><code>CISERVICE</code> sends a notification to <code>INIVITEE</code> using the
medium associated with the <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel②">Access Invitation Channel</a> type</p>
           </ol>
         </ol>
       </ol>
      <li data-md>
       <p><code>CAUTHZ</code> redirects <code>CONTROLLER</code> back to <code>CAPP</code> via the <a href="#return-from-application-service">§ 3.5.3 Return from Application Service</a> operation.</p>
     </ol>
    <li data-md>
     <p><code>INVITEE</code> receives a notification associated with one of the <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel③">Access Invitation Channels</a>.</p>
     <ol>
      <li data-md>
       <p><code>INVITEE</code> clicks a link in the notification to register an
identity and pod with <code>PROVIDER</code>.</p>
      <li data-md>
       <p><code>INVITEE</code> clicks a link in the notification bringing them to the <code>CISERVICE</code> user interface to validate the invitation by
invoking <a href="#grants-validateinvitation">§ 8.4.11 Validate Invitation</a>.</p>
       <ol>
        <li data-md>
         <p>If validation is successful, but there are other <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel④">Access Invitation Channels</a> left to validate, the <code>INVITEE</code> will
be prompted to validate them. Continue until failure or
validation of all <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel⑤">Access Invitation Channels</a> are succesful.</p>
        <li data-md>
         <p><code>CISERVICE</code> initializes a new <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⑧">Access Grant</a> via <a href="#grants-initializegrant">§ 8.4.1 Initialize Grant</a>, using the contents of
the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③">Access Invitation</a>, and the new registered <a data-link-type="dfn" href="#identity" id="ref-for-identity②④">identity</a> for <code>INVITEE</code>.</p>
        <li data-md>
         <p><code>CISERVICE</code> calls <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> using the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⑨">Access Grant</a> initialized from the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation④">Access Invitation</a></p>
         <ol>
          <li data-md>
           <p>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⓪">Access Grant</a> is stored in <code>CONTROLLER</code>'s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry④">Access Grant Registry</a>.</p>
          <li data-md>
           <p><a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> is called to apply permissions
based on the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②①">Access Grant</a>.</p>
          <li data-md>
           <p><a href="#provide-access-receipt">§ 9.4.1 Provide Access Receipt</a> is called to store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⑤">Access Receipt</a>. <code>INVITEE</code> has set <code>interop:receivesAccessReceipt</code> to <code>ReceiptInMessage</code>, so the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⑥">Access Receipt</a> is posted
to the access inbox identified via <code>hasAccessInbox</code> in <code>INVITEE</code>'s '<a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①①">identity profile document</a>.</p>
         </ol>
       </ol>
     </ol>
   </ol>
   <p class="issue" id="issue-d5f0eb31"><a class="self-link" href="#issue-d5f0eb31"></a> Should we assume that CISERVICE is able to manage grants, or should
it need to redirect through the authorization agent? Perhaps the recommendation
should be that they are combined? Bad separation of concerns?</p>
   <p class="issue" id="issue-d1e70f49"><a class="self-link" href="#issue-d1e70f49"></a> This doesn’t take account a sequencing of validation steps from
one channel to another.</p>
   <h3 class="heading settled" data-level="6.3" id="authz-services"><span class="secno">6.3. </span><span class="content">Application Services</span><a class="self-link" href="#authz-services"></a></h3>
   <h4 class="heading settled" data-level="6.3.1" id="authz-service-authorize"><span class="secno">6.3.1. </span><span class="content">Authorize Data Service</span><a class="self-link" href="#authz-service-authorize"></a></h4>
   <p class="issue" id="issue-abd7def3"><a class="self-link" href="#issue-abd7def3"></a> Define data authorization service</p>
   <h2 class="heading settled" data-level="7" id="needs"><span class="secno">7. </span><span class="content">Access Needs</span><a class="self-link" href="#needs"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="needs-overview"><span class="secno">7.1. </span><span class="content">Overview</span><a class="self-link" href="#needs-overview"></a></h3>
   <p><a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⑥">Agents</a> or <a data-link-type="dfn" href="#application" id="ref-for-application⑨③">Applications</a> in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem③">ecosystem</a> often require access to
data controlled by some other <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⑦">Agent</a>. Consequently, a common way to explain
and communicate data needs between these parties is required.</p>
   <p>A given <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⑧">Agent</a> or <a data-link-type="dfn" href="#application" id="ref-for-application⑨④">Application</a> expresses their access needs by
providing one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③③">Access Need Groups</a> to the <a data-link-type="dfn" href="#agent" id="ref-for-agent⑨⑨">Agent</a> controlling
the data they require access to. The channels through which these may be
communicated are detailed in <a href="#authz-workflows">§ 6.2 Workflows</a>.</p>
   <p>Each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③④">Access Need Group</a> is associated with up to three types of needs:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⓪">Access Needs</a> represent a need to access a particular type of data in
a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②①">Data Registry</a> or <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry④">Remote Data Registry</a>, 
identified by the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⑧">shape tree</a> type.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need⑧">Trusted Needs</a> represent a need for elevated access to entire <a data-link-type="dfn" href="#registry" id="ref-for-registry①③">Registries</a>, <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set⑥">Registry Sets</a>, or the <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①②">Identity Profile Document</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⓪">Agent</a></p>
   </ul>
   <p><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⑤">Access Need Groups</a> are essential to an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪①">Agent’s</a> decision-making
when determining whether to grant access, as illustrated in the <a href="#present-grant">§ 6.2.1 Presenting an Access Grant</a> workflow. They are stored as part of the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②②">Access Grant</a> in the <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry⑤">Access Grant Registry</a>.</p>
   <h3 class="heading settled" data-level="7.2" id="needs-datamodel"><span class="secno">7.2. </span><span class="content">Data Model</span><a class="self-link" href="#needs-datamodel"></a></h3>
   <h4 class="heading settled" data-level="7.2.1" id="needs-access-need-group"><span class="secno">7.2.1. </span><span class="content">Access Need Group</span><a class="self-link" href="#needs-access-need-group"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-need-group">Access Need Group</dfn> is a collection of <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②①">Access Needs</a> and/or <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need⑨">Trusted Needs</a> that a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪②">Agent</a> and/or <a data-link-type="dfn" href="#application" id="ref-for-application⑨⑤">Application</a> uses to communicate an access request to other <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪③">Agents</a>.</p>
   <p>An <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⑥">Access Need Group</a> links to an <a data-link-type="dfn" href="#access-decorator-index" id="ref-for-access-decorator-index">Access Decorator Index</a> of
different <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series">Access Decorator Series</a> that explain the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⑦">Access Need Group</a> and <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②②">Access Needs</a> in different languages. Each <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series①">Access Decorator Series</a> points to an <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource">Access Decorator Resource</a>, which contains the actual 
language-specific content mappings.</p>
   <figure id="ttl-access-need-group">
    <figcaption>An example <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⑧">Access Need Group</a></figcaption>
<pre class="highlight"><c- g>&lt;#ng-project-management></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeedGroup</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessScenario</c-> <c- nn>interop</c-><c- p>:</c-><c- f>PersonalAccess</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>authenticatesAs</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Pilot</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorIndex</c-> <c- nn>nn</c-><c- p>:</c-><c- f>index</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeed</c-> <c- g>&lt;#need-project></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessNeedGroup">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessNeedGroup">AccessNeedGroup</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessNeedDecoratorIndex
      <td>-
      <td>Index of <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource①">Access Decorator Resources</a> to describe <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group③⑨">Access Need Groups</a>, <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②③">Access Needs</a>, and <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⓪">Trusted Needs</a>
     <tr>
      <td>hasAccessNeedGroupDecorator
      <td><a href="#classAccessNeedGroupDecorator">AccessNeedGroupDecorator</a>
      <td><a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator①">Access Need Group Decorator</a> that describes the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⓪">Access Need Group</a>
     <tr>
      <td>accessNecessity
      <td><code>interop:AccessRequired</code>, <code>interop:AccessOptional</code>
      <td>Necessity of the access to the requesting party
     <tr>
      <td>accessScenario
      <td><code>interop:PersonalAccess</code>, <code>interop:SharedAccess</code>
      <td>Context in which the access group should be presented
     <tr>
      <td>authenticatesAs
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪④">Agent</a> or <code>interop:Pilot</code>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⑤">Agent</a> or <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⑥">Agent</a> piloting an <a data-link-type="dfn" href="#application" id="ref-for-application⑨⑥">Application</a>
     <tr>
      <td>hasAccessNeed
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>Link to an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②④">Access Need</a>
     <tr>
      <td>hasTrustedNeed
      <td><a href="#classTrustedNeed">TrustedNeed</a>
      <td>Link to a <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①①">Trusted Need</a>
   </table>
   <p>The <a href="#shexAccessNeedGroup">AccessNeedGroupShape</a> is used to validate an
instance of the <a href="#classAccessNeedGroup">AccessNeedGroup</a> class.</p>
<pre class="highlight" id="shexAccessNeedGroup"><c- g>&lt;#AccessNeedGroupShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeedGroup</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessRequired</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessOptional</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessScenario</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>PersonalAccess</c-> <c- nn>interop</c-><c- p>:</c-><c- f>SharedAccess</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>authenticatesAs</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeed</c-> IRI+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedOverride</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorIndex</c-> IRI
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="7.2.2" id="needs-access-need"><span class="secno">7.2.2. </span><span class="content">Access Need</span><a class="self-link" href="#needs-access-need"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-need">Access Need</dfn> represents the requirement of one specific type
of data represented by a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree①⑨">shape tree</a>, as part of an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④①">Access Need Group</a>.</p>
   <p>Each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⑤">Access Need</a> represents a request to access, create, or manage
all or a subset of data in <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②②">Data Registries</a> and/or <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry⑤">Remote Data Registries</a>.</p>
   <p>In a <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②③">Data Registry</a>, they can also request access to specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤①">Data Instances</a> associated with a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤④">Data Registration</a> for a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⓪">shape tree</a> if they have advance knowledge of their existence.</p>
   <p><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②①">Shape trees</a> provide both physical and virtual hierarchies.
It is often the case that a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②②">shape tree</a> which virtually references 
other <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②③">shape trees</a> will be assigned to an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⑥">Access Need</a>. The 
referenced <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②④">shape trees</a> can then be assigned to <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①①">Referenced Access Needs</a> that the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⑦">Access Need</a> links to.</p>
   <p>Specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤②">Data Instances</a> may be requested by explicitly
associating them with the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⑧">Access Need</a> via <a href="#classAccessNeed">hasDataInstance</a>.</p>
   <p>Each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need②⑨">Access Need</a> has one or more <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode②">access modes</a>, and a property that
indicates the necessity of the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⓪">Access Need</a>; <em>required</em> or <em>optional</em>. For example, an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③①">Access Need</a> for read access to <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⑤">shape tree</a> <code>N</code> can be identified as a required item in the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④②">Access Need Group</a>.</p>
   <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need③②">Access Needs</a> are described using language-specific <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator②">Access Need Decorators</a>.</p>
   <figure id="ttl-access-need">
    <figcaption>An example <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③③">Access Need</a></figcaption>
<pre class="highlight"><c- g>&lt;#need-project></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeed</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>inAccessNeedGroup</c-> <c- g>&lt;#need-group-pm></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>pm</c-><c- p>:</c-><c- f>ProjectTree</c-> <c- p>;</c->        
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedDecorator</c-> <c- nn>nn-index</c-><c- p>:</c-><c- f>projectDecorator</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>write</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>Control</c-> <c- p>;</c->        
    <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedAccessNeed</c-> 
        <c- g>&lt;#need-issue></c-><c- p>,</c-> <c- g>&lt;#need-task></c-><c- p>,</c-> <c- g>&lt;#need-release></c-><c- p>,</c-> <c- g>&lt;#need-document></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> <c- g>&lt;#data-grant-project></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> <c- g>&lt;#remote-data-grant-project></c-> <c- p>.</c->  
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessNeed">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessNeed">AccessNeed</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>inAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④③">Access Need Group</a> that the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③④">Access Need</a> is part of
     <tr>
      <td>hasAccessNeedDecorator
      <td><a href="#classAccessNeedDecorator">AccessNeedDecorator</a>
      <td>Decorator that explains the reason for the access need in the
      preferred language of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⑦">Agent</a>
     <tr>
      <td>registeredShapeTree
      <td><code>st:ShapeTree</code>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⑥">shape tree</a> requested by the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⑤">Access Need</a>
     <tr>
      <td>hasShapeTreeDecorator
      <td><code>st:ShapeTreeDecorator</code>
      <td>Decorator associated with the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⑦">shape tree</a> that describes the
      name of the shape-tree and what data it represents in the preferred
      language of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⑧">Agent</a>
     <tr>
      <td>hasDataInstance
      <td>-
      <td>Request specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤③">Data Instance</a> of the registered <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⑧">shape tree</a>. Requires advance knowledge of the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤④">Data Instance</a>
     <tr>
      <td>accessMode
      <td><code>acl:Read, acl:Write, acl:Control, acl:Append</code>
      <td>Requested modes of access for the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⑥">Access Need</a>
     <tr>
      <td>accessNecessity
      <td><code>interop:AccessRequired</code>, <code>interop:AccessOptional</code>
      <td>Necessity of the access to the requesting party
     <tr>
      <td>supportedBy
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⑦">Access Need</a> whose <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree②⑨">shape tree</a> <code>st:supports</code> the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⓪">shape tree</a> of this <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⑧">Access Need</a>
     <tr>
      <td>supports
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need③⑨">Access Need</a> that the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③①">shape tree</a> of this <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⓪">Access Need</a> <code>st:supports</code>
     <tr>
      <td>hasReferencedAccessNeed
      <td><a href="#classReferencedAccessNeed">ReferencedAccessNeed</a>
      <td><a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①②">Referenced Access Need</a> linked to <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④①">Access Need</a>, whose <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③②">shape tree</a> <code>st:references</code> the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③③">shape tree</a> associated
      with the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①③">Referenced Access Need</a>. 
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤">Data Grant</a> associated with the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④②">Access Need</a>,
      established when the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②③">Access Grant</a> is created
     <tr>
      <td>hasRemoteDataGrant
      <td><a href="#classRemoteDataGrant">RemoteDataGrant</a>
      <td><a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①">Remote Data Grant</a> associated with the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④③">Access Need</a>,
      established when the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②④">Access Grant</a> is created
   </table>
   <p>The <a href="#shexAccessNeed">AccessNeedShape</a> is used to validate an
instance of the <a href="#classAccessNeed">AccessNeed</a> class.</p>
<pre class="highlight" id="shexAccessNeed"><c- g>&lt;#AccessNeedShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeed</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>inAccessNeedGroup</c-> @<c- g>&lt;#:AccessNeedGroupShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasShapeTreeDecorator</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedDecorator</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataInstance</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessRequired</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessOptional</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>supportedBy</c-> IRI* <c- p>;</c->  
  <c- nn>interop</c-><c- p>:</c-><c- f>supports</c-> IRI? <c- p>;</c->       
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedAccessNeed</c-> @<c- g>&lt;#:ReferencedAccessNeedShape></c->* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c->? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteGrant</c-> @<c- g>&lt;#:RemoteGrantShape></c->? 
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="7.2.3" id="needs-referenced-access-need"><span class="secno">7.2.3. </span><span class="content">Referenced Access Need</span><a class="self-link" href="#needs-referenced-access-need"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="referenced-access-need">Referenced Access Need</dfn> is linked directly to an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④④">Access Need</a>,
and represents an access request for data represented by a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③④">shape tree</a> that
is <code>st:referenced</code> by the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⑤">shape tree</a> of the linked <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⑤">Access Need</a>.</p>
   <figure id="ttl-referenced-access-need">
    <figcaption>An example <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①④">Referenced Access Need</a> linked from the <a href="#ttl-access-need">prior example</a> of an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⑥">Access Need</a></figcaption>
<pre class="highlight"><c- g>&lt;#need-issue></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedAccessNeed</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeed</c-> <c- g>&lt;#need-project></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedDecorator</c-> <c- nn>nn-index</c-><c- p>:</c-><c- f>issueDecorator</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>pm</c-><c- p>:</c-><c- f>IssueTree</c-> <c- p>;</c->        
    <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->    
    <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>write</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>Control</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c-> <c- g>&lt;#data-grant-issue></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedRemoteDataGrant</c-> <c- g>&lt;#remote-data-grant-issue></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classReferencedAccessNeed">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#ReferencedAccessNeed">ReferencedAccessNeed</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessNeed
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td><a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⑦">Access Need</a> that the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⑤">Referenced Access Need</a> is linked to
     <tr>
      <td>hasAccessNeedDecorator
      <td><a href="#classAccessNeedDecorator">AccessNeedDecorator</a>
      <td>Decorator that explains the reason for the access need in the
      preferred language of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⓪⑨">Agent</a>
     <tr>
      <td>registeredShapeTree
      <td><code>st:ShapeTree</code>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⑥">shape tree</a> requested by the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⑥">Referenced Access Need</a>
     <tr>
      <td>hasShapeTreeDecorator
      <td><code>st:ShapeTreeDecorator</code>
      <td>Decorator associated with the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⑦">shape tree</a> that describes the
      name of the shape-tree and what data it represents in the preferred
      language of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⓪">Agent</a>
     <tr>
      <td>hasDataInstance
      <td>-
      <td>Request specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⑤">Data Instance</a> of the registered <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⑧">shape tree</a>. Requires advance knowledge of the <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⑥">Data Instance</a>
     <tr>
      <td>accessMode
      <td><code>acl:Read, acl:Write, acl:Control, acl:Append</code>
      <td>Requested modes of access for the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⑦">Referenced Access Need</a>
     <tr>
      <td>accessNecessity
      <td><code>interop:AccessRequired</code>, <code>interop:AccessOptional</code>
      <td>Necessity of the access to the requesting party
     <tr>
      <td>supportedBy
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⑧">Access Need</a> whose <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree③⑨">shape tree</a> <code>st:supports</code> the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⓪">shape tree</a> of this <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⑧">Referenced Access Need</a>
     <tr>
      <td>supports
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need④⑨">Access Need</a> that the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④①">shape tree</a> of this <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need①⑨">Referenced Access Need</a> <code>st:supports</code>
     <tr>
      <td>hasReferencedDataGrant
      <td><a href="#">ReferencedDataGrant</a>
      <td><a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤">Referenced Data Grant</a> associated with the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⓪">Referenced Access Need</a>, established when the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⑤">Access Grant</a> is created
     <tr>
      <td>hasReferencedRemoteDataGrant
      <td><a href="#">ReferencedRemoteDataGrant</a>
      <td><a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①">Referenced Remote Data Grant</a> associated with the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②①">Referenced Access Need</a>, established when the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⑥">Access Grant</a> is created
   </table>
   <p>The <a href="#shexReferencedAccessNeed">ReferencedAccessNeedShape</a> is used to validate an
instance of the <a href="#classReferencedAccessNeed">ReferencedAccessNeed</a> class.</p>
<pre class="highlight" id="shexReferencedAccessNeed"><c- g>&lt;#ReferencedAccessNeedShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedAccessNeed</c-> <c- p>]</c-> <c- p>;</c->  
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeed</c-> @<c- g>&lt;#:AccessNeedShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasShapeTreeDecorator</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedDecorator</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataInstance</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessRequired</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessOptional</c-> <c- p>]</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>supportedBy</c-> IRI* <c- p>;</c->  <c- c># ?</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>supports</c-> IRI? <c- p>;</c->     <c- c># ?</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c->? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedRemoteGrant</c-> @<c- g>&lt;#:RemoteGrantShape></c->? 
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="7.2.4" id="needs-trusted"><span class="secno">7.2.4. </span><span class="content">Trusted Need</span><a class="self-link" href="#needs-trusted"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-need">Trusted Need</dfn> represents the request for elevated access
to various types of top-level resources, including 
the <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①③">Identity Profile Document</a>, <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set⑦">Registry Sets</a>, or specific <a data-link-type="dfn" href="#registry" id="ref-for-registry①④">Registries</a>.</p>
   <p>Each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①②">Trusted Need</a> has a single <code>interop:trustedWithType</code>, which identifies
the type of trusted resource that is being requested.</p>
   <p>Each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①③">Trusted Need</a> has one or more <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode③">access modes</a>, and a property that
indicates the necessity of the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⓪">Access Need</a>; <em>required</em> or <em>optional</em>. For example, an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤①">Access Need</a> for read access to <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④②">shape tree</a> <code>N</code> can be identified as a required item in the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④④">Access Need Group</a>.</p>
   <p><a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①④">Trusted Needs</a> are described using language-specific <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator③">Access Need Decorators</a>.</p>
   <table align="left" class="classinfo data" id="classTrustedNeed">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#TrustedNeed">TrustedNeed</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>inAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⑤">Access Need Group</a> that the <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⑤">Trusted Need</a> is part of
     <tr>
      <td>trustedWithType
      <td> <code>interop:Agent</code>, <code>interop:ApplicationRegistry</code> <code>interop:DataRegistry</code>, <code>interop:AccessGrantRegistry</code>, <code>interop:AccessReceiptRegistry</code>, <code>interop:RemoteDataRegistry</code> 
      <td>Resource types that can be requested through a <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⑥">Trusted Need</a>
     <tr>
      <td>accessMode
      <td><code>acl:Read, acl:Write, acl:Control, acl:Append</code>
      <td>Requested modes of access for the <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⑦">Trusted Need</a>
     <tr>
      <td>accessNecessity
      <td><code>interop:AccessRequired</code>, <code>interop:AccessOptional</code>
      <td>Necessity of the access to the requesting party
     <tr>
      <td>hasTrustedGrant
      <td><a href="#classTrustedGrant">TrustedGrant</a>
      <td><a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①">Trusted Grant</a> associated with the <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⑧">Trusted Need</a>, established when the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⑦">Access Grant</a> is created
   </table>
   <p>The <a href="#shexTrustedNeed">TrustedNeedShape</a> is used to validate an
instance of the <a href="#classTrustedNeed">TrustedNeed</a> class.</p>
<pre class="highlight" id="shexTrustedNeed"><c- g>&lt;#TrustedNeedShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>TrustedNeed</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>inAccessNeedGroup</c-> IRI+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedDecorator</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>trustedWith</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>trustedWithType</c-> @<c- g>&lt;#:TrustedWithNeedTypes></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessRequired</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessOptional</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasTrustedGrant</c-> @<c- g>&lt;#:TrustedGrantShape></c->? 
<c- p>}</c->

<c- g>&lt;#TrustedWithNeedTypes></c-> <c- p>[</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-> 
  <c- nn>interop</c-><c- p>:</c-><c- f>ApplicationRegistry</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>DataRegistry</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantRegistry</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceiptRegistry</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistry</c->
<c- p>]</c->
</pre>
   <h4 class="heading settled" data-level="7.2.5" id="needs-access-request"><span class="secno">7.2.5. </span><span class="content">Access Request</span><a class="self-link" href="#needs-access-request"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-request">Access Request</dfn> is used to send <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⑥">Access Need Groups</a> from
one <a data-link-type="dfn" href="#agent" id="ref-for-agent①①①">Agent</a> to another.</p>
   <table align="left" class="classinfo data" id="classAccessRequest">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessRequest">AccessRequest</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>fromAgent
      <td><a href="#classAgent">Agent</a>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①①②">Agent</a> who sent the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request③">Access Request</a>
     <tr>
      <td>toAgent
      <td><a href="#classAgent">Agent</a>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①①③">Agent</a> the <a data-link-type="dfn" href="#access-request" id="ref-for-access-request④">Access Request</a> is meant for
    <tbody>
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td>One or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⑦">Access Need Groups</a> detailing the access requested
   </table>
   <p>The <a href="#shexAccessRequest">AccessRequestShape</a> is used to
validate an instance of the <a href="#classAccessRequest">AccessRequest</a> class.</p>
<pre class="highlight" id="shexAccessRequest"><c- g>&lt;#AccessRequestShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-><c- nn>interop</c-><c- p>:</c-><c- f>AccessRequest</c-><c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c-> IRI <c- p>;</c->             <c- c># Agent who sent the receipt</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>toAgent</c-> IRI <c- p>;</c->               <c- c># Recipient of the receipt</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> @<c- g>&lt;#:AccessNeedGroupShape></c->+
<c- p>}</c->
</pre>
   <figure id="fig-access-request">
    <figcaption>An <a data-link-type="dfn" href="#access-request" id="ref-for-access-request⑤">Access Request</a> sent from one agent to another</figcaption>
<pre class="highlight"><c- k>PREFIX</c-> <c- nn>interop:</c-> <c- g>&lt;http://www.w3.org/ns/solid/interop#></c->
<c- k>PREFIX</c-> <c- nn>note:</c-> <c- g>&lt;http://shapetrees.pub/ns/note#></c->

<c- g>&lt;></c-> <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessRequest</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c-> <c- nn>https</c-><c- p>:</c->//alice<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>toAgent</c-> <c- nn>https</c-><c- p>:</c->//bob<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> <c- g>&lt;#notebook-collaboration-group></c-> <c- p>.</c->

<c- g>&lt;#need-group-photos></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeedGroup</c-> <c- p>;</c->    
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorIndex</c-> photoapp-index <c- p>;</c->    
  <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessScenario</c-> <c- nn>interop</c-><c- p>:</c-><c- f>SharedAccess</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>authenticatesAs</c-> <c- nn>interop</c-><c- p>:</c-><c- f>Agent</c-> <c- p>;</c->    
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeed</c-> <c- g>&lt;#need-photo-album></c-> <c- p>.</c->

<c- g>&lt;#need-photo-album></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeed</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>inAccessNeedGroup</c-> <c- g>&lt;#need-group-photos></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>photo</c-><c- p>:</c-><c- f>PhotoAlbumTree</c-> <c- p>;</c->        
    <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-> <c- p>;</c->    
    <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedAccessNeed</c-> <c- g>&lt;#need-photo></c-> <c- p>.</c->

<c- g>&lt;#need-photo></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedAccessNeed</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>inAccessNeedGroup</c-> <c- g>&lt;#need-group-photos></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>photo</c-><c- p>:</c-><c- f>PhotoTree</c-> <c- p>;</c->        
    <c- nn>interop</c-><c- p>:</c-><c- f>accessNecessity</c-> <c- nn>interop</c-><c- p>:</c-><c- f>accessRequired</c-> <c- p>;</c->    
    <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-> <c- p>.</c->
</pre>
   </figure>
   <h4 class="heading settled" data-level="7.2.6" id="needs-access-decorator-index"><span class="secno">7.2.6. </span><span class="content">Access Decorator Index</span><a class="self-link" href="#needs-access-decorator-index"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-decorator-index">Access Decorator Index</dfn> is a listing of one or more <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series②">Access Decorator Series</a>.</p>
   <table align="left" class="classinfo data" id="classAccessDecoratorIndex">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessDecoratorIndex">AccessDecoratorIndex</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>defaultLanguage
      <td><code>xsd:language</code>
      <td>Default language to select if not provided as input
     <tr>
      <td>hasSeries
      <td><a href="#classAccessDecoratorSeries">AccessDecoratorSeries</a>
      <td>Link to an <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series③">Access Decorator Series</a>
   </table>
   <p>The <a href="#shexAccessDecoratorIndex">AccessDecoratorIndexShape</a> is used to
validate an instance of the <a href="#classAccessDecoratorIndex">AccessDecoratorIndex</a> class.</p>
<pre class="highlight" id="shexAccessDecoratorIndex"><c- g>&lt;#AccessDecoratorIndexShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorIndex</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>defaultLanguage</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>language</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasSeries</c-> @AccessDecoratorSeries+ <c- p>;</c->
<c- p>}</c->
</pre>
   <figure id="fig-access-need-decorator-index">
    <figcaption><a data-link-type="dfn" href="#access-decorator-index" id="ref-for-access-decorator-index①">Access Decorator Index</a> document linked by the <a href="#ttl-access-need-group">#notebook-collaboration-group</a></figcaption>
<pre class="highlight"><c- k>PREFIX</c-> <c- nn>interop:</c-> <c- g>&lt;http://www.w3.org/ns/solid/interop#></c->
<c- k>PREFIX</c-> <c- nn>xsd:</c-> <c- g>&lt;http://www.w3.org/2001/XMLSchema#></c->

<c- g>&lt;></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorIndex</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>defaultLanguage</c-> <c- s>"en"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>language</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasSeries</c-> <c- g>&lt;#series-en></c-> <c- p>.</c->

<c- g>&lt;#series-en></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorSeries</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>usesLanguage</c-> <c- s>"en"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>language</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasVersion</c-> <c- g>&lt;#en-v10></c-><c- p>,</c-> <c- g>&lt;#en-v11></c-> <c- p>.</c->

<c- g>&lt;#en-v10></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorVersion</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>isVersion</c-> <c- s>"1.0.0"</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasSHA256</c-> <c- s>"98198123981273981273918273912738"</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorResource</c-> <c- g>&lt;notebook-decorator-en-1.0></c-> <c- p>.</c->

<c- g>&lt;#en-v11></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorVersion</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>isVersion</c-> <c- s>"1.1.0"</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasSHA256</c-> <c- s>"12312312371273712731872371273712"</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorResource</c-> <c- g>&lt;notebook-decorator-en-1.1></c-> <c- p>.</c->
</pre>
   </figure>
   <h5 class="heading settled" data-level="7.2.6.1" id="needs-access-decorator-series"><span class="secno">7.2.6.1. </span><span class="content">Access Decorator Series</span><a class="self-link" href="#needs-access-decorator-series"></a></h5>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-decorator-series">Access Decorator Series</dfn> has one or
more <a data-link-type="dfn" href="#access-decorator-version" id="ref-for-access-decorator-version">Access Decorator Versions</a> in a given language.</p>
   <table align="left" class="classinfo data" id="classAccessDecoratorSeries">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessDecoratorSeries">AccessDecoratorSeries</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>usesLanguage
      <td>xsd:language
      <td>Language code associated with the <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series④">Access Decorator Series</a>
     <tr>
      <td>hasVersion
      <td><a href="#classAccessDecoratorVersion">AccessDecoratorVersion</a>
      <td>Links to an <a data-link-type="dfn" href="#access-decorator-version" id="ref-for-access-decorator-version①">Access Decorator Version</a> in the series
   </table>
   <p>The <a href="#shexAccessDecoratorSeries">AccessDecoratorSeriesShape</a> is used to
validate an instance of the <a href="#classAccessDecoratorSeries">AccessDecoratorSeries</a> class.</p>
<pre class="highlight" id="shexAccessDecoratorSeries"><c- g>&lt;#AccessDecoratorSeriesShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorSeries</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>usesLanguage</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>language</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasVersion</c-> @AccessDecoratorVersion+ <c- p>;</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="7.2.6.2" id="needs-access-decorator-version"><span class="secno">7.2.6.2. </span><span class="content">Access Decorator Version</span><a class="self-link" href="#needs-access-decorator-version"></a></h5>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-decorator-version">Access Decorator Version</dfn> is a versioned instance of
a given <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource②">Access Decorator Resource</a>.</p>
   <table align="left" class="classinfo data" id="classAccessDecoratorVersion">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessDecoratorVersion">AccessDecoratorVersion</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>isVersion
      <td>xsd:string
      <td>Semantic version of the <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource③">Access Decorator Resource</a> (e.g. "1.1.0")
     <tr>
      <td>hasSHA256
      <td>xsd:string
      <td>SHA-256 hash of the linked <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource④">Access Decorator Resource</a>
     <tr>
      <td>hasAccessDecoratorResource
      <td><a href="#classAccessDecoratorResource">AccessDecoratorResource</a>
      <td>Links to the actual <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource⑤">Access Decorator Resource</a> document
   </table>
   <p>The <a href="#shexAccessDecoratorVersion">AccessDecoratorVersionShape</a> is used to
validate an instance of the <a href="#classAccessDecoratorVersion">AccessDecoratorVersion</a> class.</p>
<pre class="highlight" id="shexAccessDecoratorVersion"><c- g>&lt;#AccessDecoratorVersionShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessDecoratorVersion</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>isVersion</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasSHA256</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessDecoratorResource</c-> IRI <c- p>;</c->
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="7.2.7" id="needs-access-decorator-resource"><span class="secno">7.2.7. </span><span class="content">Access Decorator Resource</span><a class="self-link" href="#needs-access-decorator-resource"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-decorator-resource">Access Decorator Resource</dfn> is a document that contains <a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator②">Access Need Group Decorators</a> and <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator④">Access Need Decorators</a> in a
given language.</p>
   <table align="left" class="classinfo data" id="classAccessDecoratorResource">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessDecoratorResource">AccessDecoratorResource</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td><i>No properties</i>
      <td>-
      <td>-
   </table>
   <h5 class="heading settled" data-level="7.2.7.1" id="needs-access-need-group-decorator"><span class="secno">7.2.7.1. </span><span class="content">Access Need Group Decorator</span><a class="self-link" href="#needs-access-need-group-decorator"></a></h5>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-need-group-decorator">Access Need Group Decorator</dfn> provides a subject name and
more in depth description that explains why a given <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⑧">Access Need Group</a> is being requested of an <a data-link-type="dfn" href="#agent" id="ref-for-agent①①④">Agent</a>.</p>
   <table align="left" class="classinfo data" id="classAccessNeedGroupDecorator">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessNeedGroupDecorator">AccessNeedGroupDecorator</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group④⑨">Access Need Group</a> the decorator applies to
     <tr>
      <td>skos:preflabel
      <td><code>xsd:string</code>
      <td>Short label (title) for the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⓪">Access Need Group</a>
     <tr>
      <td>skos:definition
      <td><code>xsd:string</code>
      <td>Description of why the <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤①">Access Need Group</a> requires the
      access it is requesting.
   </table>
   <p>The <a href="#shexAccessNeedGroupDecorator">AccessNeedGroupDecoratorShape</a> is used to
validate an instance of the <a href="#classAccessNeedGroupDecorator">AccessNeedGroupDecorator</a> class.</p>
<pre class="highlight" id="shexAccessNeedGroupDecorator"><c- g>&lt;#AccessNeedGroupDecoratorShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeedGroupDecorator</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> IRI <c- p>;</c->
  <c- nn>skos</c-><c- p>:</c-><c- f>prefLabel</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
  <c- nn>skos</c-><c- p>:</c-><c- f>definition</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c->
<c- p>}</c->
</pre>
   <h5 class="heading settled" data-level="7.2.7.2" id="needs-access-need-decorator"><span class="secno">7.2.7.2. </span><span class="content">Access Need Decorator</span><a class="self-link" href="#needs-access-need-decorator"></a></h5>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-need-decorator">Access Need Decorator</dfn> provides a specific
explanation of why that data type is being requested.</p>
   <table align="left" class="classinfo data" id="classAccessNeedDecorator">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessNeedDecorator">AccessNeedDecorator</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤②">Access Need Group</a> the decorator applies to
     <tr>
      <td>registeredShapeTree
      <td><code>st:ShapeTree</code>
      <td><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④③">Shape tree</a> associated with the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤②">Access Need</a> the decorator
      should apply to
     <tr>
      <td>skos:prefLabel
      <td><code>xsd:string</code>
      <td>Specific explanation of why that data type is being requested
   </table>
   <p>The <a href="#shexAccessNeedDecorator">AccessNeedDecoratorShape</a> is used to
validate an instance of the <a href="#classAccessNeedDecorator">AccessNeedDecorator</a> class.</p>
<pre class="highlight" id="shexAccessNeedDecorator"><c- g>&lt;#AccessNeedDecoratorShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessNeedDecorator</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>skos</c-><c- p>:</c-><c- f>prefLabel</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="7.3" id="needs-operations"><span class="secno">7.3. </span><span class="content">Operations</span><a class="self-link" href="#needs-operations"></a></h3>
   <h4 class="heading settled" data-level="7.3.1" id="get-access-dec"><span class="secno">7.3.1. </span><span class="content">Get Access Decorator Resource</span><a class="self-link" href="#get-access-dec"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation returns the appropriate <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource⑥">Access Decorator Resource</a> from an input <a data-link-type="dfn" href="#access-decorator-index" id="ref-for-access-decorator-index②">Access Decorator Index</a> for the provided language.
      If the provided language is not available, a default language is used instead. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>INDEX</code>
      <td>An <a data-link-type="dfn" href="#access-decorator-index" id="ref-for-access-decorator-index③">Access Decorator Index</a>
     <tr>
      <td><code>LANG</code>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⑤">Agent’s</a> preferred language
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource⑦">Access Decorator Resource</a>
      <td>Looked up in the <a data-link-type="dfn" href="#access-decorator-index" id="ref-for-access-decorator-index④">Access Decorator Index</a>, based on the <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⑥">Agent’s</a> preferred language
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>USESERIES</code> be <code>INDEX defaultSeries</code></p>
     <li data-md>
      <p>Let <code>USEVERSION</code> be an unassigned <a data-link-type="dfn" href="#access-decorator-version" id="ref-for-access-decorator-version②">Access Decorator Version</a></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series⑤">Access Decorator Series</a> <code>SERIES</code> in <code>INDEX</code></p>
      <ol>
       <li data-md>
        <p>Let <code>USESERIES</code> be <code>SERIES</code> if <code>SERIES usesLanguage</code> == <code>LANG</code></p>
      </ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return a status code
of 404 if no <a data-link-type="dfn" href="#access-decorator-series" id="ref-for-access-decorator-series⑥">Access Decorator Series</a> are found.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-decorator-version" id="ref-for-access-decorator-version③">Access Decorator Version</a> <code>VERSION</code> in <code>USESERIES hasVersion</code></p>
      <ol>
       <li data-md>
        <p>Let <code>USEVERSION</code> be <code>VERSION</code> if <code>VERSION</code> is a more recent <a href="https://semver.org/">semantic version</a> than <code>USEVERSION</code> or if <code>USEVERSION</code> is unassigned.</p>
      </ol>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return a status code
of 404 if no <a data-link-type="dfn" href="#access-decorator-version" id="ref-for-access-decorator-version④">Access Decorator Versions</a> are found.</p>
     <li data-md>
      <p>Let <code>DECR</code> be the <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource⑧">Access Decorator Resource</a> linked
from <code>USEVERSION hasAccessDecoratorResource</code></p>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return a status code
of 404 if <code>DECR</code> is unassigned.</p>
     <li data-md>
      <p>return <code>DECR</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.3.2" id="get-group-dec"><span class="secno">7.3.2. </span><span class="content">Get Access Need Group Decorator</span><a class="self-link" href="#get-group-dec"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation returns the appropriate <a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator③">Access Need Group Decorator</a> for an input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤③">Access Need Group</a> in the provided language. If the
      provided language is not available, a default language is used instead. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GROUP</code>
      <td>An <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤④">Access Need Group</a>
     <tr>
      <td><code>LANG</code>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⑦">Agent’s</a> preferred language
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator④">Access Need Group Decorator</a>
      <td>Associated with <code>GROUP</code> in <code>LANG</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DECR</code> be the <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource⑨">Access Decorator Resource</a> returned by <a href="#get-group-dec">§ 7.3.2 Get Access Need Group Decorator</a> with inputs: <code>GROUP hasAccessDecoratorIndex</code>, <code>LANG</code></p>
     <li data-md>
      <p>Let <code>USEGDEC</code> be an unassigned <a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator⑤">Access Need Group Decorator</a></p>
     <li data-md>
      <p>Let <code>GDECS</code> be all <a data-link-type="dfn" href="#access-need-group-decorator" id="ref-for-access-need-group-decorator⑥">Access Need Group Decorators</a> in <code>DECR</code></p>
     <li data-md>
      <p>For each [=Acces Need Group Decorator] <code>GDEC</code> in <code>GDECS</code></p>
     <li data-md>
      <p>Let <code>USEGDEC</code> be <code>GDEC</code> if <code>GDEC hasAccessNeedGroup</code> is <code>GROUP</code></p>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return a status code
of 404 if <code>USEGDEC</code> is unassigned</p>
     <li data-md>
      <p>return <code>USEGDEC</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.3.3" id="get-need-dec"><span class="secno">7.3.3. </span><span class="content">Get Access Need Decorator</span><a class="self-link" href="#get-need-dec"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation returns the appropriate <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator⑤">Access Need Decorator</a> for an input <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤③">Access Need</a> in the provided language. If the
      provided language is not available, a default language is used instead. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>NEED</code>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤④">Access Need</a>
     <tr>
      <td><code>LANG</code>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⑧">Agent’s</a> preferred language
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator⑥">Access Need Decorator</a>
      <td>Associated with <code>NEED</code> in <code>LANG</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>GROUP</code> be <code>NEED inAccessNeedGroup</code></p>
     <li data-md>
      <p>Let <code>DECR</code> be the <a data-link-type="dfn" href="#access-decorator-resource" id="ref-for-access-decorator-resource①⓪">Access Decorator Resource</a> returned by <a href="#get-group-dec">§ 7.3.2 Get Access Need Group Decorator</a> with inputs: <code>GROUP hasAccessDecoratorIndex</code>, <code>LANG</code></p>
     <li data-md>
      <p>Let <code>USENDEC</code> be an unassigned <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator⑦">Access Need Decorator</a></p>
     <li data-md>
      <p>Let <code>NDECS</code> be all <a data-link-type="dfn" href="#access-need-decorator" id="ref-for-access-need-decorator⑧">Access Need Decorators</a> in <code>DECR</code></p>
     <li data-md>
      <p>For each [=Acces Need Decorator] <code>NDEC</code> in <code>NDECS</code></p>
     <li data-md>
      <p>Let <code>USENDEC</code> be <code>NDEC</code> if <code>NDEC hasAccessNeedGroup</code> is <code>GROUP</code> and <code>NDEC registeredShapeTree</code> is <code>NEED registeredShapeTree</code></p>
     <li data-md>
      <p><em class="rfc2119">MUST</em> return a status code
of 404 if <code>USENDEC</code> is unassigned</p>
     <li data-md>
      <p>return <code>USENDEC</code></p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="grants"><span class="secno">8. </span><span class="content">Access Grants</span><a class="self-link" href="#grants"></a></h2>
   <h3 class="heading settled" data-level="8.1" id="grants-overview"><span class="secno">8.1. </span><span class="content">Overview</span><a class="self-link" href="#grants-overview"></a></h3>
   <p><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⑧">Access Grants</a> represent an <a data-link-type="dfn" href="#agent" id="ref-for-agent①①⑨">Agent’s</a> decision to grant access to
some portion of the data in their control to another <a data-link-type="dfn" href="#agent" id="ref-for-agent①②⓪">Agent</a>. They provide
the context needed to effectively manage permissions on a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①②①">Agent’s</a> data through a compatible access control system.</p>
   <p>There are two types of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant②⑨">Access Grants</a>:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②">Trusted Grants</a> are made when a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①②②">Agent</a> trusts another <a data-link-type="dfn" href="#agent" id="ref-for-agent①②③">Agent</a> with expanded, administrative-level privilege to the data in their control.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥">Data Grants</a> are made when a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①②④">Agent</a> wishes to share access
to certain types or specific instances of data in their control.</p>
   </ul>
   <p><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⓪">Access Grants</a> are recorded in an Agent’s <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry⑥">Access Grant Registry</a>.</p>
   <p><a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation⑤">Access Invitations</a> represent <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③①">Access Grants</a> made to <a data-link-type="dfn" href="#agent" id="ref-for-agent①②⑤">Agents</a> with
unknown or yet-to-be established <a data-link-type="dfn" href="#identity" id="ref-for-identity②⑤">identities</a>.</p>
   <h3 class="heading settled" data-level="8.2" id="grants-datamodel"><span class="secno">8.2. </span><span class="content">Data Model</span><a class="self-link" href="#grants-datamodel"></a></h3>
   <h4 class="heading settled" data-level="8.2.1" id="grants-datamodel-summary"><span class="secno">8.2.1. </span><span class="content">Summary</span><a class="self-link" href="#grants-datamodel-summary"></a></h4>
   <figure id="fig-grants-model">
     <img src="diagrams/grants-model.svg" width="100%/"> 
    <figcaption>Data model for the Access Grant Registry</figcaption>
   </figure>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①②⑥">Agent</a> links to <a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set①">Access Grant Registry Sets</a> via the <a href="interop.ttl#hasAccessGrantRegistrySet">interop:hasAccessGrantRegistrySet</a> property.</p>
   <p>An <a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set②">Access Grant Registry Set</a> links to any number of <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry⑦">Access Grant Registries</a> via the <a href="interop.ttl#hasRegistry">interop:hasRegistry</a> property.</p>
   <p>An <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry⑧">Access Grant Registry</a> links to any number of registered <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③②">Access Grants</a> and <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation⑥">Access Invitations</a> via the <a href="interop.ttl#hasRegistration">interop:hasRegistration</a> property.</p>
   <h4 class="heading settled" data-level="8.2.2" id="datamodel-access-registry-set"><span class="secno">8.2.2. </span><span class="content">Access Grant Registry Set</span><a class="self-link" href="#datamodel-access-registry-set"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-grant-registry-set">Access Grant Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set⑧">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry⑨">Access Grant Registries</a>.</p>
   <figure id="fig-grants-registry-set">
    <figcaption>An <a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set③">Access Grant Registry Set</a> at
   https://alice.pod.example/profile/grant#set linking to two different <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⓪">Access Grant Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantRegistrySet</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> <c- g>&lt;https://alice.pod.example/grants/#registry></c-> <c- p>,</c->
                  <c- g>&lt;https://alice.otherpod.example/grants/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessGrantRegistrySet">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#AccessGrantRegistrySet">AccessGrantRegistrySet</a> a rdfs:subClassOf <a href="interop.ttl#RegistrySet">RegistrySet</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistry
      <td><a href="interop.ttl#Registry">Registry</a>
      <td>Link to associated <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①①">Access Grant Registries</a>
   </table>
   <p>The <a href="#shexAccessGrantRegistrySet">AccessGrantRegistrySetShape</a> is used to validate
an instance of the <a href="#classAccessGrantRegistrySet">AccessGrantRegistrySet</a> class.</p>
<pre class="highlight" id="shexAccessGrantRegistrySet"><c- g>&lt;#AccessGrantRegistrySetShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantRegistrySet</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> IRI+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessGrantRegistrySetTree">AccessGrantRegistrySetTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexAccessGrantRegistrySet">AccessGrantRegistrySetShape</a>.</p>
<pre class="highlight" id="treeAccessGrantRegistrySet"><c- g>&lt;#AccessGrantRegistrySetTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessGrantRegistrySetShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.3" id="datamodel-access-registry"><span class="secno">8.2.3. </span><span class="content">Access Grant Registry</span><a class="self-link" href="#datamodel-access-registry"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-grant-registry">Access Grant Registry</dfn> is a collection of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③③">Access Grants</a> stored in a specific location in a <a data-link-type="dfn" href="#pod" id="ref-for-pod⑤">pod</a>.</p>
   <figure id="fig-grants-registry">
    <figcaption>An <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①②">Access Grant Registry</a> at https://alice.pod.example/grants/#registry
  linking to several registered <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③④">Access Grants</a> or <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation⑦">Access Invitations</a></figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantRegistry</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c->
    <c- g>&lt;ab3d0023-3860-4358-ae33-8d3af1097b9d#grant></c-> <c- p>,</c->
    <c- g>&lt;ad7b935f-ced9-4ce6-835f-5c6abc046228#grant></c-> <c- p>,</c->
    <c- g>&lt;5ed73c65-ce77-4c8a-8f7e-9715b90307e6#grant></c-> <c- p>,</c->
    <c- g>&lt;2d575cba-3f6c-4c58-bccd-0e6266ba56cf#invitation></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessGrantRegistry">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessGrantRegistry">AccessGrantRegistry</a> a rdfs:subClassOf <a href="#datamodel-agent">Registry</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistration
      <td><a href="interop.ttl#Registration">Registration</a>
      <td>Link to associated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⑤">Access Grants</a>
   </table>
   <p>The <a href="#shexAccessGrantRegistry">AccessGrantRegistryShape</a> is used to validate an
instance of the <a href="#classAccessGrantRegistry">AccessGrantRegistry</a> class.</p>
<pre class="highlight" id="shexAccessGrantRegistry"><c- g>&lt;#AccessGrantRegistryShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantRegistry</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> IRI*
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessGrantRegistryTree">AccessGrantRegistryTree</a> is assigned
to a container resource to ensure that it will validate against the <a href="#shexAccessGrantRegistry">AccessGrantRegistryShape</a>, and contain only
conformant instances of the <a href="#treeAccessGrant">AccessGrantTree</a> and <a href="#treeAccessInvitation">AccessInvitationTree</a>.</p>
<pre class="highlight" id="treeAccessGrantRegistry"><c- g>&lt;#AccessGrantRegistryTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessGrantRegistryShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#AccessGrantTree></c-> <c- p>,</c->
              <c- g>&lt;#AccessInvitationTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.4" id="datamodel-access-grant"><span class="secno">8.2.4. </span><span class="content">Access Grant</span><a class="self-link" href="#datamodel-access-grant"></a></h4>
   <p>Each <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-grant">Access Grant</dfn> represents access granted to an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④">Access Grant Subject</a>, based on access criteria detailed in one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⑤">Access Need Groups</a>.</p>
   <p>Access may be granted to data in <a data-link-type="dfn" href="#data-registry" id="ref-for-data-registry②④">Data Registries</a> through <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦">Data Grants</a>.</p>
   <p>Access may be granted to data in <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry⑥">Remote Data Registries</a> through <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②">Remote Data Grants</a>.</p>
   <p>Elevated access to <a data-link-type="dfn" href="#registry" id="ref-for-registry①⑤">registries</a>, <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set⑨">registry sets</a>, or the <a data-link-type="dfn" href="#identity" id="ref-for-identity②⑥">identity</a> of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①②⑦">Agent</a> may be granted through <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③">Trusted Grants</a>.</p>
   <figure id="fig-grants-grant">
    <figcaption>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⑥">Access Grant</a> at
  https://alice.pod.example/grants/ab3d0023-3860-4358-ae33-8d3af1097b9d#grant </figcaption>
<pre class="highlight"><c- g>&lt;#grant></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrant</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantSubject</c-> <c- g>&lt;#grant-subject></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> <c- g>&lt;#need-group-pm></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> <c- g>&lt;#data-grant-project></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> <c- g>&lt;#remote-data-grant-project></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessGrant">AccessGrant</a> a rdfs:subClassOf <a href="interop.ttl#Registration">Registration</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①②⑧">Agent</a> that registered the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⑦">Access Grant</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application⑨⑦">Application</a> used to create the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⑧">Access Grant</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant③⑨">Access Grant</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⓪">Access Grant</a> was updated
     <tr>
      <td>hasAccessGrantSubject
      <td><a href="#classAccessGrantSubject">AccessGrantSubject</a>
      <td>Links to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤">Access Grant Subject</a> that was granted access.
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td>Links to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⑥">Access Need Group</a> associated with the Access Grant.
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧">Data Grant</a> associated with the Access Grant.
     <tr>
      <td>hasTrustedGrant
      <td><a href="#classTrustedGrant">TrustedGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant④">Trusted Grant</a> associated with the Access Grant.
     <tr>
      <td>hasRemoteDataGrant
      <td><a href="#classRemoteDataGrant">RemoteDataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③">Remote Data Grant</a> associated with the Access Grant.
   </table>
   <p>The <a href="#shexAccessGrant">AccessGrantShape</a> is used to validate an instance
of the <a href="#classAccessGrant">AccessGrant</a> class.</p>
<pre class="highlight" id="shexAccessGrant"><c- g>&lt;#AccessGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantSubject</c-> @<c- g>&lt;#:AccessGrantSubject></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> @<c- g>&lt;#:AccessNeedGroupShape></c->+ <c- p>;</c->
  <c- p>(</c-> <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c->+ |
  <c- nn>interop</c-><c- p>:</c-><c- f>hasTrustedGrant</c-> @<c- g>&lt;#:TrustedGrantShape></c->+ |
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> @<c- g>&lt;#:RemoteDataGrantShape></c->+ <c- p>)</c-> <c- p>;</c->
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessGrantTree">AccessGrantTree</a> is assigned to a
resource via the <a href="#treeAccessGrantRegistry">AccessGrantRegistryTree</a>, and ensure
that the assigned resource will validate against the <a href="#shexAccessGrant">AccessGrantShape</a>.</p>
<pre class="highlight" id="treeAccessGrant"><c- g>&lt;#AccessGrantTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessGrantShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.5" id="datamodel-access-grant-subject"><span class="secno">8.2.5. </span><span class="content">Access Grant Subject</span><a class="self-link" href="#datamodel-access-grant-subject"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-grant-subject">Access Grant Subject</dfn> represents a unique combination of
who and what is being granted access. For example, it allows a single <a data-link-type="dfn" href="#agent" id="ref-for-agent①②⑨">Agent</a> to be specified, or a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⓪">Agent</a> using a given <a data-link-type="dfn" href="#application" id="ref-for-application⑨⑧">Application</a>.</p>
   <figure id="fig-grants-subject">
    <figcaption>An <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑥">Access Grant Subject</a> at
  https://alice.pod.example/grants/ab3d0023-3860-4358-ae33-8d3af1097b9d#grant-subject </figcaption>
<pre class="highlight"><c- g>&lt;#grant-subject></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantSubject</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessByAgent</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessByApplication</c-> <c- g>&lt;https://acmeproject.example/profile/id#application></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessGrantSubject">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"><a href="interop.ttl#AccessGrant">AccessGrantSubject</a>
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>accessByAgent
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①③①">Agent</a> being granted access
     <tr>
      <td>accessByApplication
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application⑨⑨">Application</a> being granted access
   </table>
   <p>The <a href="#shexAccessGrantSubject">AccessGrantSubjectShape</a> is used to validate
an instance of the <a href="#classAccessGrantSubject">AccessGrantSubject</a> class.</p>
<pre class="highlight" id="shexAccessGrantSubject"><c- g>&lt;#AccessGrantSubjectShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessGrantSubject</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessGrantSubjectAgent</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessGrantSubjectApplication</c-> IRI?
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="8.2.6" id="datamodel-data-grant"><span class="secno">8.2.6. </span><span class="content">Data Grant</span><a class="self-link" href="#datamodel-data-grant"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="data-grant">Data Grant</dfn> records a decision made by an <a data-link-type="dfn" href="#agent" id="ref-for-agent①③②">Agent</a> to assign permissions for an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑦">Access Grant Subject</a> to a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⑤">Data Registration</a>, in response to a given <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⑤">Access Need</a> that was
presented to them.</p>
   <p>A <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨">Data Grant</a> may have one or more <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥">Referenced Data Grants</a>, when the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④④">shape tree</a> associated via <code>interop:registeredShapeTree</code> has one or
more <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference">Shape Tree References</a>.</p>
   <p>Each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪">Data Grant</a> has an assigned scope (<code>interop:scopeOfGrant</code>), which
determines how permissions are assigned. The following types are
valid for a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①">Data Grant</a>:</p>
   <ul>
    <li data-md>
     <p><b><code>interop:AllInstances</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⑦">Data Instances</a> belonging to
the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⑥">Data Registration</a>.</p>
      <li data-md>
       <p>Permissions will be set for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑧">Access Grant Subject</a> on the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⑦">Data Registration</a> container,
and will be inherited by all member <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⑧">Data Instances</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:SelectedInstances</code></b></p>
     <ul>
      <li data-md>
       <p>Applies only to selected <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑤⑨">Data Instances</a> belonging to the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⑧">Data Registration</a>, which are linked
to the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①②">Data Grant</a> via <code>interop:hasDataInstance</code>.</p>
      <li data-md>
       <p>Permissions will be set for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑨">Access Grant Subject</a> on
each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⓪">Data Instance</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:NoAccess</code></b></p>
     <ul>
      <li data-md>
       <p>Indicates that no access is granted to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⓪">Access Grant Subject</a>.</p>
      <li data-md>
       <p>Applies to the entire <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑤⑨">Data Registration</a> when there are no <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥①">Data Instances</a> linked via <code>interop:hasDataInstance</code>.</p>
      <li data-md>
       <p>When there are <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥②">Data Instances</a> linked via <code>interop:hasDataInstance</code>,
this scope only applies to them.</p>
     </ul>
   </ul>
   <p>When recording a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①③">Data Grant</a> via <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a>:</p>
   <ul>
    <li data-md>
     <p>There must be an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⑥">Access Need</a> linked via <code>interop:satisfiesAccessNeed</code> that
belongs to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⑦">Access Need Group</a> linked to the same <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④①">Access Grant</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⑦">Access Need</a> must link back to the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①④">Data Grant</a> via <code>interop:hasDataGrant</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⑧">Access Need</a> and <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⑤">Data Grant</a> must have the same <code>interop:accessModes</code></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑤⑨">Access Need</a> and <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⑥">Data Grant</a> must have the same <code>interop:registeredShapeTree</code></p>
   </ul>
   <figure id="fig-grants-data-grant">
    <figcaption>An <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⑦">Data Grant</a> at
  https://alice.pod.example/grants/ab3d0023-3860-4358-ae33-8d3af1097b9d#data-grant-project </figcaption>
<pre class="highlight"><c- g>&lt;#data-grant-project></c->
    <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataGrant</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrant</c-> <c- g>&lt;#grant></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> <c- g>&lt;#need-project></c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>pm</c-><c- p>:</c-><c- f>ProjectTree</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> <c- nn>data</c-><c- p>:</c-><c- f>project-tree-reg</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>write</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>Control</c-> <c- p>;</c->
    <c- c># Scope grants access to all instances in the project</c->
    <c- c># data registration, now and in the future, with no conditions</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AllInstances</c-> <c- p>;</c->
    <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c->
        <c- g>&lt;#data-grant-issue></c-> <c- p>,</c->
        <c- g>&lt;#data-grant-task></c-> <c- p>,</c->
        <c- g>&lt;#data-grant-release></c-> <c- p>,</c->
        <c- g>&lt;#data-grant-document></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classDataGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#DataGrant">DataGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessGrant
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④②">Access Grant</a> that the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⑧">Data Grant</a> belongs to
     <tr>
      <td>satisfiesAccessNeed
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>Links to the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⓪">Access Need</a> satisfied by the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⑨">Data Grant</a>
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⓪">Data Registration</a> for the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⑤">shape tree</a> that access
      will be granted to
     <tr>
      <td>hasDataRegistration
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥①">Data Registration</a> for registeredShapeTree that the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⓪">Data Grant</a> applies to
     <tr>
      <td>accessMode
      <td>acl:Read, acl:Write, acl:Control, acl:Append
      <td>Modes of access granted to the target data at hasRegistration
     <tr>
      <td>scopeOfGrant
      <td> interop:AllInstances, interop:SelectedInstances,
      interop:NoAccess
      <td>
       Identifies the access scope of the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②①">Data Grant</a> 
       <ul>
        <li>interop:AllInstances - Scope includes
              access to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥③">Data Instances</a> of the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥②">Data Registration</a>
        <li>interop:SelectedInstances - Scope includes
              access only to those <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥④">Data Instances</a> specifically
              selected by the <a data-link-type="dfn" href="#agent" id="ref-for-agent①③③">Agent</a>
        <li>interop:NoAccess - No access is granted
       </ul>
     <tr>
      <td>hasDataInstance
      <td>Instance of registeredShapeTree
      <td>Links to a <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⑤">Data Instance</a> of registeredShapeTree.
     <tr>
      <td>hasReferencedDataGrant
      <td><a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦">Referenced Data Grant</a> when registeredShapeTree
      has references to other shape trees that should be included
      in authorization.
   </table>
   <p>The <a href="#shexDataGrant">DataGrantShape</a> is used to
validate an instance of the <a href="#classDataGrant">DataGrant</a> class.</p>
<pre class="highlight" id="shexDataGrant"><c- g>&lt;#DataGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>DataGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrant</c-> @<c- g>&lt;#:AccessGrantShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> @<c- g>&lt;#:AccessNeedShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> @<c- g>&lt;#:DataGrantScopes></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataInstance</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c-> @<c- g>&lt;#:ReferencedDataGrantShape></c->
<c- p>}</c->
</pre>
   <p>The [DataGrantTree] ensures
that the assigned resource will validate against the <a href="#shexDataGrant">DataGrantShape</a>.</p>
<pre class="highlight" id="treeDataGrant"><c- g>&lt;#DataGrantTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops:DataGrantShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.7" id="datamodel-referenced-data-grant"><span class="secno">8.2.7. </span><span class="content">Referenced Data Grant</span><a class="self-link" href="#datamodel-referenced-data-grant"></a></h4>
   <div class="issue no-marker" id="issue-d41d8cd9"><a class="self-link" href="#issue-d41d8cd9"></a><a class="marker" href="https://github.com/solid/data-interoperability-panel/issues/124" style="text-transform:none">solid/data-interoperability-panel/124</a><a href="https://github.com/solid/data-interoperability-panel/issues/124">Referenced Data Grant - improving ergonomy of traversal</a></div>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="referenced-data-grant">Referenced Data Grant</dfn> is linked from a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②②">Data Grant</a>, and
records a decision made by an <a data-link-type="dfn" href="#agent" id="ref-for-agent①③④">Agent</a> to assign permissions for an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①①">Access Grant Subject</a> to a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥③">Data Registration</a>, based on a <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②②">Referenced Access Need</a> that was presented to them. It stipulates that the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⑥">shape tree</a> of the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧">Referenced Data Grant</a> is effectively a "child"
of the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⑦">shape tree</a> associated with the parent <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②③">Data Grant</a> that
references it.</p>
   <p>Like <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②④">Data Grants</a>, each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑨">Referenced Data Grant</a> has an assigned
scope (<code>interop:scopeOfGrant</code>), which
determines how permissions are assigned. The following types are
valid for a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⓪">Referenced Data Grant</a>:</p>
   <ul>
    <li data-md>
     <p><b><code>interop:AllInstances</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⑥">Data Instances</a> belonging to
the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥④">Data Registration</a>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①②">Access Grant Subject</a> on the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⑤">Data Registration</a> container,
and will be inherited by all member <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⑦">Data Instances</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:InheritInstances</code></b></p>
     <ul>
      <li data-md>
       <p>When the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⑤">Data Grant</a> linked via <code>interop:hasDataGrant</code> has a scope of <code>interop:SelectedInstances</code>, and one
or more <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⑧">Data Instances</a> are selected, any <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①①">Referenced Data Grants</a> have the opportunity to narrow their own access scope to only include
"child" <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑥⑨">Data Instances</a> linked to the selected "parent" <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⓪">Data Instances</a>.</p>
      <li data-md>
       <p>The link must follow the <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference①">Shape Tree Reference</a> between
the parent <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⑥">Data Grant</a> shape tree and the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①②">Referenced Data Grant</a> shape tree.</p>
      <li data-md>
       <p>Permissions are set conditionally for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①③">Access Grant Subject</a>,
and have the benefit of applying to current and future <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦①">Data Instances</a> associated with a parent <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦②">Data Instance</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:SelectedInstances</code></b></p>
     <ul>
      <li data-md>
       <p>Applies only to selected <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦③">Data Instances</a> belonging to the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⑥">Data Registration</a>, which are linked
to the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⑦">Data Grant</a> via <code>interop:hasDataInstance</code>.</p>
      <li data-md>
       <p>Permissions will be set for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①④">Access Grant Subject</a> on
each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦④">Data Instance</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:NoAccess</code></b></p>
     <ul>
      <li data-md>
       <p>Indicates that no access is granted to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⑤">Access Grant Subject</a>.</p>
      <li data-md>
       <p>Applies to the entire <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⑦">Data Registration</a> when
there are no <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⑤">Data Instances</a> linked via <code>interop:hasDataInstance</code>.</p>
      <li data-md>
       <p>When there are <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⑥">Data Instances</a> linked via <code>interop:hasDataInstance</code>,
this scope only applies to them.</p>
     </ul>
   </ul>
   <p>When recording a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①③">Referenced Data Grant</a> via <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a>:</p>
   <ul>
    <li data-md>
     <p>There must be a <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②③">Referenced Access Need</a> linked via <code>interop:satisfiesAccessNeed</code> that
belongs to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⑧">Access Need Group</a> linked to the same <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④③">Access Grant</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②④">Referenced Access Need</a> must link back to the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①④">Referenced Data Grant</a> via <code>interop:hasReferencedDataGrant</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⑤">Referenced Access Need</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⑤">Referenced Data Grant</a> must have the same <code>interop:accessModes</code></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⑥">Referenced Access Need</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⑥">Referenced Data Grant</a> must have the same <code>interop:registeredShapeTree</code></p>
   </ul>
   <figure id="fig-grants-referenced-data-grant">
    <figcaption>An <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⑦">Referenced Data Grant</a> at
  https://alice.pod.example/grants/ab3d0023-3860-4358-ae33-8d3af1097b9d#data-grant-issue </figcaption>
<pre class="highlight"><c- g>&lt;#data-grant-issue></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedDataGrant</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> <c- g>&lt;#data-grant-project></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> <c- g>&lt;#need-issue></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>pm</c-><c- p>:</c-><c- f>IssueTree</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> <c- nn>data</c-><c- p>:</c-><c- f>issue-tree-reg</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> <c- nn>acl</c-><c- p>:</c-><c- f>read</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>write</c-><c- p>,</c-> <c- nn>acl</c-><c- p>:</c-><c- f>Control</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AllInstances</c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classReferencedDataGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#ReferencedDataGrant">ReferencedDataGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⑧">Data Grant</a> that the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⑧">Referenced Data Grant</a> belongs to
     <tr>
      <td>satisfiesAccessNeed
      <td><a href="#classReferencedAccessNeed">ReferencedAccessNeed</a>
      <td>Links to the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⑦">Referenced Access Need</a> satisfied by the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant①⑨">Referenced Data Grant</a>
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⑧">Data Registration</a> for the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⑧">shape tree</a> that access
      will be granted to
     <tr>
      <td>hasDataRegistration
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑥⑨">Data Registration</a> for registeredShapeTree that the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⓪">Referenced Data Grant</a> applies to
     <tr>
      <td>accessMode
      <td>acl:Read, acl:Write, acl:Control, acl:Append
      <td>Modes of access granted to the target data at hasRegistration
     <tr>
      <td>scopeOfGrant
      <td> interop:AllInstances, interop:SelectedInstances,
      interop:InheritInstances, interop:NoAccess
      <td>
       Identifies the access scope of the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant②⑨">Data Grant</a> 
       <ul>
        <li>interop:AllInstances - Scope includes
              access to all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⑦">Data Instances</a> of the associated <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⓪">Data Registration</a>
        <li>interop:SelectedInstances - Scope includes
              access only to those <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⑧">Data Instances</a> specifically
              selected by the <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⑤">Agent</a>
        <li>interop:InheritInstances - Scope includes
              access to <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑦⑨">Data Instances</a> inherited by
              instances selected in the parent <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⓪">Data Grant</a> 
        <li>interop:NoAccess - No access is granted
       </ul>
     <tr>
      <td>hasDataInstance
      <td>Instance of registeredShapeTree
      <td>Links to a <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⓪">Data Instance</a> of registeredShapeTree.
   </table>
   <p>The <a href="#shexReferencedDataGrant">ReferencedDataGrantShape</a> is used to
validate an instance of the <a href="#classReferencedDataGrant">ReferencedDataGrant</a> class.</p>
<pre class="highlight" id="shexReferencedDataGrant"><c- g>&lt;#ReferencedDataGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedDataGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> @<c- g>&lt;#:AccessNeedShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> @<c- g>&lt;#:DataGrantScopes></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataInstance</c-> IRI*
<c- p>}</c->
</pre>
   <p>The [ReferencedDataGrantTree] ensures
that the assigned resource will validate against the <a href="#shexReferencedDataGrant">ReferencedDataGrantShape</a>.</p>
<pre class="highlight" id="treeReferencedDataGrant"><c- g>&lt;#ReferencedDataGrantTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops:ReferencedDataGrantShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.8" id="datamodel-remote-data-grant"><span class="secno">8.2.8. </span><span class="content">Remote Data Grant</span><a class="self-link" href="#datamodel-remote-data-grant"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remote-data-grant">Remote Data Grant</dfn> records an authorization decision made by
an <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⑥">Agent</a> for an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⑥">Access Grant Subject</a> on a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration">Remote Data Registration</a>, in response to a given <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥①">Access Need</a> that
was presented to them. This has the net effect of allowing the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⑦">Access Grant Subject</a> to see data that has been shared by
other <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⑦">Agents</a>.</p>
   <p>A <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④">Remote Data Grant</a> may have one or more <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②">Referenced Remote Data Grants</a>,
when the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree④⑨">shape tree</a> associated via <code>interop:registeredShapeTree</code> has one or
more <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference②">Shape Tree References</a>.</p>
   <p>Each <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤">Remote Data Grant</a> has an assigned scope (<code>interop:scopeOfGrant</code>), which
determines how permissions are assigned. The following types are
valid for a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑥">Remote Data Grant</a>:</p>
   <ul>
    <li data-md>
     <p><b><code>interop:AllRemote</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③①">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②①">Referenced Data Grants</a> associated with all <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④">Remote Agent Data Registrations</a> belonging to the associated <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①">Remote Data Registration</a>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⑧">Access Grant Subject</a> on the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②">Remote Data Registration</a> container,
and will be inherited by all member <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤">Remote Agent Data Registrations</a>,
and the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③②">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②②">Referenced Data Grants</a> contained
by them.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:AllRemoteFromAgent</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③③">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②③">Referenced Data Grants</a> belonging to the
selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥">Remote Agent Data Registrations</a> linked via <code>interop:hasRemoteDataFromAgent</code>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject①⑨">Access Grant Subject</a> on the selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑦">Remote Agent Data Registration</a> containers,
and will be inherited by all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③④">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②④">Referenced Data Grants</a> contained by them.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:SelectedRemote</code></b></p>
     <ul>
      <li data-md>
       <p>Applies only to selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⑤">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⑤">Referenced Data Grants</a> linked
via <code>interop:hasDataGrant</code>, <code>interop:hasReferencedDataGrant</code>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⓪">Access Grant Subject</a> on the selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⑥">Data Grant</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⑥">Referenced Data Grant</a> resources stored
in <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑧">Remote Agent Data Registrations</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:NoAccess</code></b></p>
     <ul>
      <li data-md>
       <p>Indicates that no access is granted to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②①">Access Grant Subject</a>.</p>
      <li data-md>
       <p>Applies to the entire <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③">Remote Data Registration</a> when there are no <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑨">Remote Agent Data Registrations</a> linked via <code>interop:hasRemoteDataFromAgent</code>, and no <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⑦">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⑦">Referenced Data Grants</a> linked
via <code>interop:hasDataGrant</code>, <code>interop:hasReferencedDataGrant</code>.</p>
      <li data-md>
       <p>When there are linked <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⓪">Remote Agent Data Registrations</a>, <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⑧">Data Grants</a>, and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⑧">Referenced Data Grants</a>,
this scope only applies to them.</p>
     </ul>
   </ul>
   <p>When recording a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑦">Remote Data Grant</a> via <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a>:</p>
   <ul>
    <li data-md>
     <p>There must be an <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥②">Access Need</a> linked via <code>interop:satisfiesAccessNeed</code> that
belongs to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑤⑨">Access Need Group</a> linked to the same <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④④">Access Grant</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥③">Access Need</a> must link back to the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑧">Remote Data Grant</a> via <code>interop:hasRemoteDataGrant</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥④">Access Need</a> and <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑨">Remote Data Grant</a> must have the same <code>interop:accessModes</code></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⑤">Access Need</a> and <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⓪">Remote Data Grant</a> must have the same <code>interop:registeredShapeTree</code></p>
   </ul>
   <table align="left" class="classinfo data" id="classRemoteDataGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#RemoteDataGrant">RemoteDataGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessGrant
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⑤">Access Grant</a> that the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①①">Remote Data Grant</a> belongs to
     <tr>
      <td>satisfiesAccessNeed
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>Links to the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⑥">Access Need</a> satisfied by the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①②">Remote Data Grant</a>
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⓪">shape tree</a> associated with the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①③">Remote Data Grant</a>
     <tr>
      <td>hasRemoteDataRegistration
      <td><a href="#classRemoteDataRegistration">RemoteDataRegistration</a>
      <td><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④">Remote Data Registration</a> for <code>registeredShapeTree</code>
     <tr>
      <td>accessMode
      <td>acl:Read, acl:Write, acl:Control, acl:Append
      <td>Mode of access for the grant
     <tr>
      <td>scopeOfGrant
      <td>interop:AllRemote, interop:AllRemoteFromAgent,
      interop:SelectedRemote, interop:NoAccess
      <td>
       Identifies the access scope of the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①④">Remote Data Grant</a> 
       <ul>
        <li>interop:AllRemote - All remote data for a given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration⑤">Remote Data Registration</a>
        <li>interop:AllRemoteFromAgent - All remote data from a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⑧">Agent</a> for a given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration⑥">Remote Data Registration</a>
        <li>interop:SelectedRemote - Only selected access
        <li>interop:NoAccess - No access
       </ul>
     <tr>
      <td>hasRemoteDataFromAgent
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td>Link to a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①①">Remote Agent Data Registration</a> when
        scope is <code>AllRemoteFromAgent</code>
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td>Link to a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant③⑨">Data Grant</a> resource that was extracted from an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⑦">Access Receipt</a> and stored under the relevant <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①②">Remote Agent Data Registration</a> when the
        scope is <code>SelectedRemote</code>
     <tr>
      <td>hasReferencedDataGrant
      <td><a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td>Link to a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant②⑨">Referenced Data Grant</a> resource that was extracted from an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⑧">Access Receipt</a> and stored under the relevant <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①③">Remote Agent Data Registration</a> when the
        scope is <code>SelectedRemote</code>
     <tr>
      <td>hasReferencedRemoteDataGrant
      <td><a href="#classReferencedRemoteDataGrant">ReferencedRemoteDataGrant</a>
      <td>Link to a <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant③">Referenced Remote Data Grant</a> when <code>registeredShapeTree</code> has references to other <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤①">shape trees</a> that
      should be included in authorization
   </table>
   <p>The <a href="#shexRemoteDataGrant">RemoteDataGrantShape</a> is used to validate an
instance of the <a href="#classRemoteDataGrant">RemoteDataGrant</a> class.</p>
<pre class="highlight" id="shexRemoteDataGrant"><c- g>&lt;#RemoteDataGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrant</c-> @<c- g>&lt;#:AccessGrantShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> @<c- g>&lt;#:AccessNeedShape></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistration</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> @<c- g>&lt;#:RemoteDataGrantScopes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataFromAgent</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedRemoteDataGrant</c-> @<c- g>&lt;#:ReferencedRemoteDataGrantShape></c->
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="8.2.9" id="datamodel-referenced-remote-data-grant"><span class="secno">8.2.9. </span><span class="content">Referenced Remote Data Grant</span><a class="self-link" href="#datamodel-referenced-remote-data-grant"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="referenced-remote-data-grant">Referenced Remote Data Grant</dfn> is linked from a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⑤">Remote Data Grant</a>,
and records an authorization decision made by an <a data-link-type="dfn" href="#agent" id="ref-for-agent①③⑨">Agent</a> for an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②②">Access Grant Subject</a> on a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration⑦">Remote Data Registration</a>,
based on a <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⑧">Referenced Access Need</a> that was presented to them. It stipulates
that the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤②">shape tree</a> of the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant④">Referenced Remote Data Grant</a> is effectively
a "child" of the <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤③">shape tree</a> associated with the parent <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⑥">Remote Data Grant</a> that references it.</p>
   <p>Like <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⑦">Remote Data Grants</a>, each <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant⑤">Referenced Remote Data Grant</a> has an assigned
scope (<code>interop:scopeOfGrant</code>), which determines how permissions are assigned.
The following types are
valid for a <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant⑥">Referenced Remote Data Grant</a>:</p>
   <ul>
    <li data-md>
     <p><b><code>interop:AllRemote</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⓪">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⓪">Referenced Data Grants</a> associated with all <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①④">Remote Agent Data Registrations</a> belonging to the associated <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration⑧">Remote Data Registration</a>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②③">Access Grant Subject</a> on the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration⑨">Remote Data Registration</a> container,
and will be inherited by all member <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⑤">Remote Agent Data Registrations</a>,
and the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④①">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③①">Referenced Data Grants</a> contained
by them.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:AllRemoteFromAgent</code></b></p>
     <ul>
      <li data-md>
       <p>Applies to all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④②">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③②">Referenced Data Grants</a> belonging to the
selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⑥">Remote Agent Data Registrations</a> linked via <code>interop:hasRemoteDataFromAgent</code>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②④">Access Grant Subject</a> on the selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⑦">Remote Agent Data Registration</a> containers,
and will be inherited by all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④③">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③③">Referenced Data Grants</a> contained by them.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:SelectedRemote</code></b></p>
     <ul>
      <li data-md>
       <p>Applies only to selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④④">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③④">Referenced Data Grants</a> linked
via <code>interop:hasDataGrant</code>, <code>interop:hasReferencedDataGrant</code>.</p>
      <li data-md>
       <p>Permissions will be set for
the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⑤">Access Grant Subject</a> on the selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⑤">Data Grant</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⑤">Referenced Data Grant</a> resources stored
in <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⑧">Remote Agent Data Registrations</a>.</p>
     </ul>
    <li data-md>
     <p><b><code>interop:NoAccess</code></b></p>
     <ul>
      <li data-md>
       <p>Indicates that no access is granted to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⑥">Access Grant Subject</a>.</p>
      <li data-md>
       <p>Applies to the entire <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⓪">Remote Data Registration</a> when there are no <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration①⑨">Remote Agent Data Registrations</a> linked via <code>interop:hasRemoteDataFromAgent</code>, and no <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⑥">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⑥">Referenced Data Grants</a> linked
via <code>interop:hasDataGrant</code>, <code>interop:hasReferencedDataGrant</code>.</p>
      <li data-md>
       <p>When there are linked <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⓪">Remote Agent Data Registrations</a>, <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⑦">Data Grants</a>, and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⑦">Referenced Data Grants</a>,
this scope only applies to them.</p>
     </ul>
   </ul>
   <p>When recording a <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant⑦">Referenced Remote Data Grant</a> via <a href="#grants-recordgrant">§ 8.4.8 Record Grant</a>:</p>
   <ul>
    <li data-md>
     <p>There must be a <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need②⑨">Referenced Access Need</a> linked via <code>interop:satisfiesAccessNeed</code> that
belongs to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⓪">Access Need Group</a> linked to the same <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⑥">Access Grant</a>.</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③⓪">Referenced Access Need</a> must link back to the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant⑧">Referenced Remote Data Grant</a> via <code>interop:hasReferencedRemoteDataGrant</code>.</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③①">Referenced Access Need</a> and <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant⑨">Referenced Remote Data Grant</a> must have the same <code>interop:accessModes</code></p>
    <li data-md>
     <p><a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③②">Referenced Access Need</a> and <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⓪">Referenced Remote Data Grant</a> must have the same <code>interop:registeredShapeTree</code></p>
   </ul>
   <table align="left" class="classinfo data" id="classReferencedRemoteDataGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#ReferencedRemoteDataGrant">ReferencedRemoteDataGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRemoteDataGrant
      <td><a href="#classRemoteDataGrant">RemoteDataGrant</a>
      <td><a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⑧">Remote Data Grant</a> that the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①①">Referenced Remote Data Grant</a> belongs to
     <tr>
      <td>satisfiesAccessNeed
      <td><a href="#classAccessNeed">AccessNeed</a>
      <td>Links to the <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③③">Referenced Access Need</a> satisfied by the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①②">Referenced Remote Data Grant</a>
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤④">shape tree</a> associated with the <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①③">Referenced Remote Data Grant</a>
     <tr>
      <td>hasRemoteDataRegistration
      <td><a href="#classRemoteDataRegistration">RemoteDataRegistration</a>
      <td><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①①">Remote Data Registration</a> for <code>registeredShapeTree</code>
     <tr>
      <td>accessMode
      <td>acl:Read, acl:Write, acl:Control, acl:Append
      <td>Mode of access for the grant
     <tr>
      <td>scopeOfGrant
      <td>interop:AllRemote, AllRemoteFromAgent,
      interop:SelectedRemote, interop:NoAccess
      <td>
       Identifies the access scope of the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant①⑨">Remote Data Grant</a> 
       <ul>
        <li>interop:AllRemote - All remote data for a given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①②">Remote Data Registration</a>
        <li>interop:AllRemoteFromAgent - All remote data from a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①④⓪">Agent</a> for a given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①③">Remote Data Registration</a>
        <li>interop:SelectedRemote - Only selected access
        <li>interop:NoAccess - No access
       </ul>
     <tr>
      <td>hasRemoteDataFromAgent
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td>Link to a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②①">Remote Agent Data Registration</a> when
        scope is <code>AllRemoteFromAgent</code>
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td>Link to a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⑧">Data Grant</a> resource that was extracted from an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt②⑨">Access Receipt</a> and stored under the relevant <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②②">Remote Agent Data Registration</a> when the
        scope is <code>SelectedRemote</code>
     <tr>
      <td>hasReferencedDataGrant
      <td><a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td>Link to a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⑧">Referenced Data Grant</a> resource that was extracted from an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⓪">Access Receipt</a> and stored under the relevant <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②③">Remote Agent Data Registration</a> when the
        scope is <code>SelectedRemote</code>
   </table>
   <p>The <a href="#shexReferencedRemoteDataGrant">ReferencedRemoteDataGrantShape</a> is used
to validate an instance of the <a href="#classRemoteDataGrant">ReferencedRemoteDataGrant</a> class.</p>
<pre class="highlight" id="shexReferencedRemoteDataGrant"><c- g>&lt;#ReferencedRemoteDataGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>ReferencedRemoteDataGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> @<c- g>&lt;#:RemoteDataGrantShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesAccessNeed</c-> @<c- g>&lt;#:AccessNeedShape></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistration</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> @<c- g>&lt;#:RemoteDataGrantScopes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataFromAgent</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> IRI* <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasReferencedDataGrant</c-> IRI*
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="8.2.10" id="datamodel-trusted-grant"><span class="secno">8.2.10. </span><span class="content">Trusted Grant</span><a class="self-link" href="#datamodel-trusted-grant"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-grant">Trusted Grant</dfn> records a decision made by a
given <a data-link-type="dfn" href="#agent" id="ref-for-agent①④①">Agent</a> to trust another with elevated access to <a data-link-type="dfn" href="#registry" id="ref-for-registry①⑥">Registries</a>, <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⓪">Registry Sets</a>, or the <a data-link-type="dfn" href="#identity" id="ref-for-identity②⑦">Identity</a> of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①④②">Agent</a> themselves, based on a <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need①⑨">Trusted Need</a> that was
presented to them.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-agent">Trusted Agent</dfn> is an <a data-link-type="dfn" href="#agent" id="ref-for-agent①④③">Agent</a> that been granted elevated
access through a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant⑤">Trusted Grant</a>.</p>
   <p>Each <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant⑥">Trusted Grant</a> represents accessed assigned to a trusted
resource identified by <code>interop:trustedWith</code>, of a given type, indicated by <code>interop:trustedWithType</code>.</p>
   <p>Each <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant⑦">Trusted Grant</a> has an assigned scope (<code>interop:scopeOfGrant</code>), which
determines how permissions are assigned. The following types are
valid for a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant⑧">Trusted Grant</a>:</p>
   <ul>
    <li data-md>
     <p><b><code>interop:TrustedAccess</code></b> - Applies to trusted resource linked
via <code>interop:trustedWith</code>. Permissions will
be set for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⑦">Access Grant Subject</a> on the trusted resource. If <code>trustedWithType</code> is a type of <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①①">Registry Set</a>, the permissions
will be applied to the <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①②">Registry Set</a> resource, as well as all of
the <a data-link-type="dfn" href="#registry" id="ref-for-registry①⑦">Registries</a> linked from that <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①③">Registry Set</a>.</p>
    <li data-md>
     <p><b><code>interop:NoAccess</code></b> - Indicates that no access is granted
to <code>trustedWith</code>. If <code>trustedWith</code> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①④">Registry Set</a>,
it indicates that no access is granted to the <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⑤">Registry Set</a> resource,
nor to the <a data-link-type="dfn" href="#registry" id="ref-for-registry①⑧">Registries</a> linked from that <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⑥">Registry Set</a>.</p>
   </ul>
   <table align="left" class="classinfo data" id="classTrustedGrant">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#TrustedGrant">TrustedGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasAccessGrant
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⑦">Access Grant</a> that the <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant⑨">Trusted Grant</a> belongs to
     <tr>
      <td>satisfiesTrustedNeed
      <td><a href="#classTrustedNeed">TrustedNeed</a>
      <td>Links to the <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②⓪">Trusted Need</a> satisfied by the <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⓪">Trusted Grant</a>
     <tr>
      <td>trustedWith
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①④④">Agent</a>, <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⑦">Registry Set</a>, <a data-link-type="dfn" href="#registry" id="ref-for-registry①⑨">Registry</a>
      <td>
       Identifies the primary trusted resource of the <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①①">Trusted Grant</a> 
       <ul>
        <li><a data-link-type="dfn" href="#agent" id="ref-for-agent①④⑤">Agent</a> - Access to the profile document of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①④⑥">Agent</a>
        <li><a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⑧">Registry Set</a> - Access to the specified <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set①⑨">Registry Set</a>,
          as well as all <a data-link-type="dfn" href="#registry" id="ref-for-registry②⓪">Registries</a> linked to it
        <li><a data-link-type="dfn" href="#registry" id="ref-for-registry②①">Registry</a> - Access to the specified <a data-link-type="dfn" href="#registry" id="ref-for-registry②②">Registry</a>,
          as well as all <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration">Registrations</a> linked to it
       </ul>
     <tr>
      <td>trustedWithType
      <td>
       <ul>
        <li><code>interop:Agent</code>
        <li><code>interop:ApplicationRegistrySet</code>
        <li><code>interop:DataRegistrySet</code>
        <li><code>interop:AccessGrantRegistrySet</code>
        <li><code>interop:AccessReceiptRegistrySet</code>
        <li><code>interop:RemoteDataRegistrySet</code>
        <li><code>interop:ApplicationRegistry</code>
        <li><code>interop:DataRegistry</code>
        <li><code>interop:AccessGrantRegistry</code>
        <li><code>interop:AccessReceiptRegistry</code>
        <li><code>interop:RemoteDataRegistry</code>
       </ul>
      <td>Specific type of instance linked via <code>trustedWith</code>
     <tr>
      <td>accessMode
      <td>acl:Read, acl:Write, acl:Control, acl:Append
      <td>Mode of access being granted to the instance linked via <code>trustedWith</code>
     <tr>
      <td>scopeOfGrant
      <td>interop:NoAccess, interop:TrustedAccess
      <td>Current scope of trusted access
   </table>
   <p>The <a href="#shexTrustedGrant">TrustedGrantShape</a> is used to
validate an instance of the <a href="#classTrustedGrant">TrustedGrant</a> class.</p>
<pre class="highlight" id="shexTrustedGrant"><c- g>&lt;#TrustedGrantShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>TrustedGrant</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrant</c-> @<c- g>&lt;#:AccessGrantShape></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesTrustedNeed</c-> @<c- g>&lt;#:TrustedNeedShape></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>trustedWith</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>trustedWithType</c-> @<c- g>&lt;#:TrustedWithTypes></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>accessMode</c-> @<c- g>&lt;#:AccessModes></c->+ <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>scopeOfGrant</c-> @<c- g>&lt;#:TrustedGrantScopes></c->+
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="8.2.11" id="datamodel-access-invitation"><span class="secno">8.2.11. </span><span class="content">Access Invitation</span><a class="self-link" href="#datamodel-access-invitation"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-invitation">Access Invitation</dfn> is a subclass of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⑧">Access Grant</a> used when
an <a data-link-type="dfn" href="#agent" id="ref-for-agent①④⑦">Agent</a> wishes to grant access to another <a data-link-type="dfn" href="#agent" id="ref-for-agent①④⑧">Agent</a> whose
decentralized <a data-link-type="dfn" href="#identity" id="ref-for-identity②⑧">identity</a> is unknown to them, or may not exist yet, so they
must be first invited through another channel (such as phone or email).</p>
   <p>Like an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant④⑨">Access Grant</a>, an <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation⑧">Access Invitation</a> links to access
criteria detailed in one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥①">Access Need Groups</a>, with
associated <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant④⑨">Data Grants</a> or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①②">Trusted Grants</a> indicating the
intended access to be granted.</p>
   <p>However, instead of linking to an <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⑧">Access Grant Subject</a>, an <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation⑨">Access Invitation</a> links to one or more <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel⑥">Access Invitation Channels</a>.</p>
   <p>Each channel represents a mechanism through which the invitation can
be delivered and validated. The mechanism is designed so that multiple
channels may be validated before an invitation is confirmed and
converted to an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⓪">Access Grant</a>.</p>
   <figure id="fig-grants-invitation">
    <figcaption>An <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⓪">Access Invitation</a> at
  https://alice.pod.example/grants/08c5ae76-6c83-46f8-8e1d-eb14219e7f5f#invitation </figcaption>
<pre class="highlight"><c- g>&lt;#invitation></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessInvitation</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- nn>https</c-><c- p>:</c->//alice<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- nn>https</c-><c- p>:</c->//trusted<c- p>.</c->example/id<c- c>#agent ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-09-13T19:32:52Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-09-13T19:32:52Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>expiresAt</c-> <c- s>"2020-09-20T19:32:52Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> <c- g>&lt;#need-group-pm></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> <c- g>&lt;#data-grant-project></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessInvitationChannel</c->
    <c- g>&lt;#phone-channel></c-> <c- p>,</c->
    <c- g>&lt;#email-channel></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessInvitation">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessInvitation">AccessInvitation</a> a rdfs:subClassOf <a href="#classAccessGrant">AccessGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①④⑨">Agent</a> that registered the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①①">Access Invitation</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application①⓪⓪">Application</a> used to create the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①②">Access Invitation</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①③">Access Invitation</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①④">Access Invitation</a> was updated
     <tr>
      <td>expiresAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⑤">Access Invitation</a> expires
     <tr>
      <td>hasAccessInvitationChannel
      <td><a href="#classAccessInvitationChannel">AccessInvitationChannel</a>
      <td>Links to an <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel⑦">Access Invitation Channel</a>
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td>Links to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥②">Access Need Group</a> associated with
      the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⑥">Access Invitation</a>.
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⓪">Data Grant</a> associated with the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⑦">Access Invitation</a>.
     <tr>
      <td>hasTrustedGrant
      <td><a href="#classTrustedGrant">TrustedGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①③">Trusted Grant</a> associated with the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⑧">Access Invitation</a>.
     <tr>
      <td>hasRemoteDataGrant
      <td><a href="#classRemoteDataGrant">RemoteDataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⓪">Remote Data Grant</a> associated with the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation①⑨">Access Invitation</a>.
   </table>
   <p>The <a href="#shexAccessInvitation">AccessInvitationShape</a> is used to validate an
instance of the <a href="#classAccessInvitation">AccessInvitation</a> class.</p>
<pre class="highlight" id="shexAccessInvitation"><c- g>&lt;#AccessInvitationShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessInvitation</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>expiresAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c->? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> @<c- g>&lt;#:AccessNeedGroupShape></c->+ <c- p>;</c->
  <c- p>(</c-> <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c->+ |
  <c- nn>interop</c-><c- p>:</c-><c- f>hasTrustedGrant</c-> @<c- g>&lt;#:TrustedGrantShape></c->+ |
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> @<c- g>&lt;#:RemoteDataGrantShape></c->+ <c- p>)</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessInvitationChannel</c-> @<c- g>&lt;#:AccessInvitationChannelShape></c->+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessInvitationTree">AccessInvitationTree</a> is assigned
to a resource via the <a href="#treeAccessGrantRegistry">AccessGrantRegistryTree</a>, and ensures
that the assigned resource will validate against the <a href="#shexAccessInvitation">AccessInvitationShape</a>.</p>
<pre class="highlight" id="treeAccessInvitation"><c- g>&lt;#AccessInvitationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessInvitationShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="8.2.12" id="datamodel-access-invitation-channel"><span class="secno">8.2.12. </span><span class="content">Access Invitation Channel</span><a class="self-link" href="#datamodel-access-invitation-channel"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-invitation-channel">Access Invitation Channel</dfn> represents a mechanism through
which an <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⓪">Access Invitation</a> can be delivered and validated.</p>
   <figure id="fig-grants-invitation-channel">
    <figcaption>Example <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel⑧">Access Invitation Channels</a></figcaption>
<pre class="highlight"><c- g>&lt;#phone-channel></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>PhoneInvitationChannel</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>channelTarget</c-> <c- s>"(555) 555-1212"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>channelCode</c-> <c- s>"654345"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>isValidated</c-> <c- l>false</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>remainingAttempts</c-> <c- mi>3</c-> <c- p>.</c->

<c- g>&lt;#email-channel></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>EmailInvitationChannel</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>channelTarget</c-> <c- s>"bob@example.com"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>channelCode</c-> <c- s>"434567"</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>isValidated</c-> <c- l>true</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>remainingAttempts</c-> <c- mi>3</c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessInvitationChannel">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessInvitationChannel">AccessInvitationChannel</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>rdf:type
      <td>interop:PhoneInvitationChannel,
      interop:EmailInvitationChannel,
      interop:SMSInvitationChannel,
      interop:OfflineInvitationChannel,
      interop:LDNInvitationChannel
      <td>Each channel is represented by a subClassOf
      AccessInvitationChannel
     <tr>
      <td>channelTarget
      <td>xsd:string
      <td>Target used when validating the channel
     <tr>
      <td>channelCode
      <td>xsd:string
      <td>Code used for channel validation
     <tr>
      <td>isValidated
      <td>xsd:boolean
      <td>Indicates whether the channel has been validated
     <tr>
      <td>remainingAttempts
      <td>xsd:integer
      <td>Number of allowed validation attempts remaining
   </table>
   <p>The <a href="#shexAccessInvitationChannel">AccessInvitationChannelShape</a> is used to
validate an instance of the <a href="#classAccessInvitation">AccessInvitationChannel</a> class.</p>
<pre class="highlight" id="shexAccessInvitationChannel"><c- g>&lt;#AccessInvitationChannelShape></c-> <c- p>{</c->
   <c- b>a</c-> @<c- g>&lt;#ChannelTypes></c-> <c- p>;</c->
   <c- nn>interop</c-><c- p>:</c-><c- f>channelTarget</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
   <c- nn>interop</c-><c- p>:</c-><c- f>channelCode</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>string</c-> <c- p>;</c->
   <c- nn>interop</c-><c- p>:</c-><c- f>isValidated</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>boolean</c-> <c- p>;</c->
   <c- nn>interop</c-><c- p>:</c-><c- f>remainingAttempts</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>integer</c->
<c- p>}</c->

<c- g>&lt;#ChannelTypes></c-> <c- p>[</c->
  <c- p>:</c-><c- f>PhoneInvitationChannel</c->   <c- c># Telephone</c->
  <c- p>:</c-><c- f>EmailInvitationChannel</c->   <c- c># E-mail</c->
  <c- p>:</c-><c- f>SMSInvitationChannel</c->     <c- c># SMS (Simple Messaging Service)</c->
  <c- p>:</c-><c- f>OfflineInvitationChannel</c-> <c- c># Other communication, e.g. verbal, shared note</c->
  <c- p>:</c-><c- f>LDNInvitationChannel</c->     <c- c># Linked Data Notification</c->
<c- p>]</c->
</pre>
   <h3 class="heading settled" data-level="8.3" id="grants-hierarchy"><span class="secno">8.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#grants-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- grant#set</code>
      <td><a href="#classAccessGrantRegistrySet">AccessGrantRegistrySet</a>
      <td><a href="#shexAccessGrantRegistrySet">AccessGrantRegistrySetShape</a>
      <td><a href="#treeAccessGrantRegistrySet">AccessGrantRegistrySetTree</a>
     <tr>
      <td><code>/grants/#registry</code>
      <td><a href="#classAccessGrantRegistry">AccessGrantRegistry</a>
      <td><a href="#shexAccessGrantRegistry">AccessGrantRegistryShape</a>
      <td><a href="#treeAccessGrantRegistry">AccessGrantRegistryTree</a>
     <tr>
      <td><code>-- c482f931...630e5ab0#grant</code>
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a href="#shexAccessGrant">AccessGrantShape</a>
      <td><a href="#treeAccessGrant">AccessGrantTree</a>
     <tr>
      <td><code>-- e0983a7e...88c387ea#grant</code>
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a href="#shexAccessGrant">AccessGrantShape</a>
      <td><a href="#treeAccessGrant">AccessGrantTree</a>
     <tr>
      <td><code>-- eddf13d6...7f4962c5#grant</code>
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a href="#shexAccessGrant">AccessGrantShape</a>
      <td><a href="#treeAccessGrant">AccessGrantTree</a>
     <tr>
      <td><code>-- a990c1b9...c041eb74#grant</code>
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a href="#shexAccessGrant">AccessGrantShape</a>
      <td><a href="#treeAccessGrant">AccessGrantTree</a>
     <tr>
      <td><code>-- 265ef957...6689aee7#grant</code>
      <td><a href="#classAccessGrant">AccessGrant</a>
      <td><a href="#shexAccessGrant">AccessGrantShape</a>
      <td><a href="#treeAccessGrant">AccessGrantTree</a>
   </table>
   <p>The <a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set④">Access Grant Registry Set</a> and the <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①③">Access Grant Registry</a> MAY or MAY NOT
be on the same <a data-link-type="dfn" href="#pod" id="ref-for-pod⑥">pod</a>.</p>
   <p><a data-link-type="dfn" href="#access-grant-registry-set" id="ref-for-access-grant-registry-set⑤">Access Grant Registry Set</a> and <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①④">Access Grant Registry</a> resources MAY use any
resource or subject names.</p>
   <p><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤①">Access Grants</a> MUST use <a href="https://www.ietf.org/rfc/rfc4122.txt">UUIDs</a> for resource names.</p>
   <h3 class="heading settled" data-level="8.4" id="grants-operations"><span class="secno">8.4. </span><span class="content">Operations</span><a class="self-link" href="#grants-operations"></a></h3>
   <p>Load or initialize the two main grant types: <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤②">Access Grant</a>, <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②①">Access Invitation</a></p>
   <ul>
    <li data-md>
     <p><a href="#grants-loadgrant">§ 8.4.6 Load Grant</a> - Load an existing <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤③">Access Grant</a> from an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⑤">Access Grant Registry</a></p>
    <li data-md>
     <p><a href="#grants-loadinvitation">§ 8.4.7 Load Invitation</a> - Load an existing <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②②">Access Invitation</a> from an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⑥">Access Grant Registry</a></p>
    <li data-md>
     <p><a href="#grants-initializegrant">§ 8.4.1 Initialize Grant</a> - Initializes a new <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤④">Access Grant</a> for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject②⑨">Access Grant Subject</a> with one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥③">Access Need Groups</a></p>
    <li data-md>
     <p><a href="#grants-initializeinvitation">§ 8.4.2 Initialize Invitation</a> - Initializes a new <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②③">Access Invitation</a> for one or more <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel⑨">Access Invitation Channels</a> with one or more <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥④">Access Need Groups</a></p>
   </ul>
   <p>Each <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⑤">Access Grant</a> or <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②④">Access Invitation</a> will have some combination
of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤①">Data Grants</a>, <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②①">Remote Data Grants</a>, and/or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①④">Trusted Grants</a>:</p>
   <ul>
    <li data-md>
     <p><a href="#grants-initializedatagrant">§ 8.4.3 Initialize Data Grant</a> - Initialize a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤②">Data Grant</a> as part
of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⑥">Access Grant</a> initialization</p>
    <li data-md>
     <p><a href="#grants-initializeremotegrant">§ 8.4.4 Initialize Remote Data Grant</a> - Initialize a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②②">Remote Data Grant</a> as
part of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⑦">Access Grant</a> initialization</p>
    <li data-md>
     <p><a href="#grants-initializetrustedgrant">§ 8.4.5 Initialize Trusted Grant</a> - Initialize a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⑤">Trusted Grant</a> as part
of <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⑧">Access Grant</a> initialization</p>
   </ul>
   <p>Record <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑤⑨">Access Grants</a> and <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⑤">Access Invitations</a>:</p>
   <ul>
    <li data-md>
     <p><a href="#grants-recordgrant">§ 8.4.8 Record Grant</a> - Store a new or updated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⓪">Access Grant</a> in an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⑦">Access Grant Registry</a></p>
    <li data-md>
     <p><a href="#grants-recordinvitation">§ 8.4.9 Record Invitation</a> - Store a new or updated <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⑥">Access Invitation</a> in an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⑧">Access Grant Registry</a></p>
   </ul>
   <p>Apply permissions based on the composition of an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥①">Access Grant</a>:</p>
   <ul>
    <li data-md>
     <p><a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> - Apply permissions for an input <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥②">Access Grant</a></p>
     <ul>
      <li data-md>
       <p><a href="#apply-data-permissions">§ 8.4.13 Apply Data Permissions</a> - Apply permissions for <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤③">Data Grants</a></p>
      <li data-md>
       <p><a href="#apply-data-registration-permissions">§ 8.4.14 Apply Data Registration Permissions</a> - Apply permissions for a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦①">Data Registration</a></p>
      <li data-md>
       <p><a href="#apply-remote-data-permissions">§ 8.4.16 Apply Remote Data Permissions</a> - Apply permissions for <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②③">Remote Data Grants</a></p>
      <li data-md>
       <p><a href="#apply-remote-data-registration-permissions">§ 8.4.17 Apply Remote Data Registration Permissions</a> - Apply permissions for a
given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①④">Remote Data Registration</a></p>
      <li data-md>
       <p><a href="#apply-trusted-permissions">§ 8.4.18 Apply Trusted Permissions</a> - Apply permissions for <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⑥">Trusted Grants</a></p>
      <li data-md>
       <p><a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> - Apply permissions on a given resource for
a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⓪">Access Grant Subject</a></p>
      <li data-md>
       <p><a href="#apply-conditional-permissions">§ 8.4.20 Apply Conditional Resource Permissions</a> - Apply permissions on a given resource
for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③①">Access Grant Subject</a>, condiioned upon a graph relationship</p>
      <li data-md>
       <p><a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> - Remove permissions on a given resource
for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③②">Access Grant Subject</a></p>
     </ul>
   </ul>
   <h4 class="heading settled" data-level="8.4.1" id="grants-initializegrant"><span class="secno">8.4.1. </span><span class="content">Initialize Grant</span><a class="self-link" href="#grants-initializegrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Initialize an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥③">Access Grant</a> by processing
        the input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⑤">Access Need Groups</a> and
        then initializing <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤④">Data Grants</a>, <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②④">Remote Data Grants</a>,
        and/or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⑦">Trusted Grants</a> with no access (yet). 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>SUBJECT</code>
      <td>The <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③③">Access Grant Subject</a> that the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥④">Access Grant</a> is related to
     <tr>
      <td><code>GROUPS</code>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⑥">Access Need Groups</a> to associate with the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⑤">Access Grant</a>
     <tr>
      <td><code>LANG</code>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⓪">Agent’s</a> preferred language
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⑥">Access Grant</a>
      <td>Newly initialized for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③④">Access Grant Subject</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>GRANT</code> be a newly initialized <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⑦">Access Grant</a></p>
     <li data-md>
      <p>Let <code>GRANT hasAccessGrantSubject</code> be <code>SUBJECT</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⑦">Access Need Group</a> <code>GROUP</code> in <code>GROUPS</code></p>
      <ol>
       <li data-md>
        <p>Link <code>GROUP</code> to <code>GRANT</code> via <code>GRANT hasAccessNeedGroup</code></p>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⑧">Access Need Group</a> <code>GROUP</code> linked via <code>GRANT hasAccessNeedGroup</code></p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⑦">Access Need</a> <code>NEED</code> in <code>GROUP</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#grants-initializedatagrant">§ 8.4.3 Initialize Data Grant</a> with inputs: <code>NEED</code></p>
         <li data-md>
          <p>Call <a href="#grants-initializeremotegrant">§ 8.4.4 Initialize Remote Data Grant</a> with inputs: <code>NEED</code></p>
        </ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②①">Trusted Need</a> <code>TNEED</code> in <code>GROUP</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#grants-initializetrustedgrant">§ 8.4.5 Initialize Trusted Grant</a> with inputs: <code>TNEED</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <code>GRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.2" id="grants-initializeinvitation"><span class="secno">8.4.2. </span><span class="content">Initialize Invitation</span><a class="self-link" href="#grants-initializeinvitation"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Initialize an <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⑦">Access Invitation</a> by processing
        the input <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑥⑨">Access Need Groups</a> and
        then initializing <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⑤">Data Grants</a>, <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⑤">Remote Data Grants</a>,
        or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⑧">Trusted Grants</a> with no access (yet). 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>ICHANNELS</code>
      <td>A set of <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel①⓪">Access Invitation Channels</a>
     <tr>
      <td><code>GROUPS</code>
      <td><a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦⓪">Access Need Groups</a> to associate with the <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⑧">Access Invitation</a>
     <tr>
      <td><code>LANG</code>
      <td>The <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤①">Agent’s</a> preferred language
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation②⑨">Access Invitation</a>
      <td>Newly initialized based on input <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel①①">Access Invitation Channels</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>INVITE</code> be a newly initialized <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③⓪">Access Invitation</a></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel①②">Access Invitation Channel</a> <code>ICHANNEL</code> in <code>ICHANNELS</code></p>
      <ol>
       <li data-md>
        <p>Let <code>ICHANNEL</code> be linked to <code>INVITE</code> via <code>INVITE hasAccessInvitationChannel</code></p>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦①">Access Need Group</a> <code>GROUP</code> in <code>GROUPS</code></p>
      <ol>
       <li data-md>
        <p>Link <code>GROUP</code> to <code>INVITE</code> via <code>INVITE hasAccessNeedGroup</code></p>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦②">Access Need Group</a> <code>GROUP</code> linked via <code>INVITE hasAccessNeedGroup</code></p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⑧">Access Need</a> <code>NEED</code> in <code>GROUP</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#grants-initializedatagrant">§ 8.4.3 Initialize Data Grant</a> with inputs: <code>NEED</code>, <code>GRANT</code></p>
         <li data-md>
          <p>Call <a href="#grants-initializeremotegrant">§ 8.4.4 Initialize Remote Data Grant</a> with inputs: <code>NEED</code>, <code>GRANT</code></p>
        </ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②②">Trusted Need</a> <code>TNEED</code> in <code>GROUP</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#grants-initializetrustedgrant">§ 8.4.5 Initialize Trusted Grant</a> with inputs: <code>TNEED</code>, <code>GRANT</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <code>INVITE</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.3" id="grants-initializedatagrant"><span class="secno">8.4.3. </span><span class="content">Initialize Data Grant</span><a class="self-link" href="#grants-initializedatagrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        Initialize a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⑥">Data Grant</a> and link it to the provided <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑥⑨">Access Need</a> <code>NEED</code>. 
       <p>Initialize <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant③⑨">Referenced Data Grants</a> if the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦⓪">Access Need</a> <code>NEED</code> has any <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③④">Referenced Access Needs</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>NEED</code>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦①">Access Need</a>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⑧">Access Grant</a> that the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⑦">Data Grant</a> will be linked to
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⑧">Data Grant</a>
      <td>Initialized <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑤⑨">Data Grant</a> corresponding to <code>NEED</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DG</code> be a newly initialized <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⓪">Data Grant</a></p>
     <li data-md>
      <p>Let <code>DG hasAccessGrant</code> be <code>GRANT</code></p>
     <li data-md>
      <p>Let <code>DG satisfiesAccessNeed</code> be <code>NEED</code></p>
     <li data-md>
      <p>Let <code>DG registeredShapeTree</code> be <code>NEED registeredShapeTree</code></p>
     <li data-md>
      <p>Let <code>DG hasRegistration</code> be a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦②">Data Registration</a> <code>DR</code> where <code>DR registeredShapeTree</code> == <code>DG registeredShapeTree</code></p>
     <li data-md>
      <p>Let <code>DG accessmode</code>s be <code>CACCESS accessmode</code>s</p>
     <li data-md>
      <p>Let <code>DG scopeOGrant</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>NEED hasDataGrant</code> be <code>DG</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③⑤">Referenced Access Need</a> <code>REFNEED</code> linked
via <code>NEED hasReferencedAccessNeed</code></p>
      <ol>
       <li data-md>
        <p>Let <code>REFDG</code> be a newly initialized <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⓪">Referenced Data Grant</a></p>
       <li data-md>
        <p>Let <code>REFDG hasDataGrant</code> be <code>DG</code></p>
       <li data-md>
        <p>Let <code>REFDG satisfiesAccessNeed</code> be <code>REFNEED</code></p>
       <li data-md>
        <p>Let <code>REFDG registeredShapeTree</code> be <code>REFNEED registeredShapeTree</code></p>
       <li data-md>
        <p>Let <code>REFDG hasRegistration</code> be a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦③">Data Registration</a> <code>DR</code> where <code>DR registeredShapeTree</code> == <code>REFDG registeredShapeTree</code></p>
       <li data-md>
        <p>Let <code>REFDG accessMode</code>s be <code>REFNEED accessMode</code>s</p>
       <li data-md>
        <p>Let <code>REFDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
       <li data-md>
        <p>Link <code>REFDG</code> to <code>DG</code> via <code>DG hasReferencedDataGrant</code></p>
      </ol>
     <li data-md>
      <p>Return <code>DG</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.4" id="grants-initializeremotegrant"><span class="secno">8.4.4. </span><span class="content">Initialize Remote Data Grant</span><a class="self-link" href="#grants-initializeremotegrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        Initialize a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⑥">Remote Data Grant</a> and link it to the provided <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦②">Access Need</a> <code>NEED</code>. 
       <p>Initialize <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①④">Referenced Remote Data Grants</a> if the <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦③">Access Need</a> <code>NEED</code> has any <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③⑥">Referenced Access Needs</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>NEED</code>
      <td>An <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦④">Access Need</a>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑥⑨">Access Grant</a> that the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⑦">Remote Data Grant</a> will be linked to
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⑧">Remote Data Grant</a>
      <td>Initialized <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant②⑨">Remote Data Grant</a> corresponding to <code>NEED</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDG</code> be a newly initialized <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⓪">Remote Data Grant</a></p>
     <li data-md>
      <p>Let <code>RDG hasAccessGrant</code> be <code>GRANT</code></p>
     <li data-md>
      <p>Let <code>RDG satisfiesAccessNeed</code> be <code>NEED</code></p>
     <li data-md>
      <p>Let <code>RDG registeredShapeTree</code> be <code>NEED registeredShapeTree</code></p>
     <li data-md>
      <p>Let <code>RDG accessmode</code>s be <code>NEED accessmode</code>s</p>
     <li data-md>
      <p>Let <code>RDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>NEED hasRemoteDataGrant</code> be <code>RDG</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③⑦">Referenced Access Need</a> <code>REFNEED</code> linked
via <code>NEED hasReferencedAccessNeed</code></p>
      <ol>
       <li data-md>
        <p>Let <code>REFRDG</code> be a newly initialized <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⑤">Referenced Remote Data Grant</a></p>
       <li data-md>
        <p>Let <code>REFRDG hasRemoteDataGrant</code> be <code>RDG</code></p>
       <li data-md>
        <p>Let <code>REFRDG satisfiesAccessNeed</code> be <code>REFNEED</code></p>
       <li data-md>
        <p>Let <code>REFRDG registeredShapeTree</code> be <code>REFNEED registeredShapeTree</code></p>
       <li data-md>
        <p>Let <code>REFRDG hasRegistration</code> be a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦④">Data Registration</a> <code>DR</code> where <code>DR registeredShapeTree</code> == <code>REFRDG registeredShapeTree</code></p>
       <li data-md>
        <p>Let <code>REFRDG accessMode</code>s be <code>REFNEED accessMode</code>s</p>
       <li data-md>
        <p>Let <code>REFRDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
       <li data-md>
        <p>Link <code>REFRDG</code> to <code>RDG</code> via <code>RDG hasReferencedRemoteDataGrant</code></p>
      </ol>
     <li data-md>
      <p>Return <code>RDG</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.5" id="grants-initializetrustedgrant"><span class="secno">8.4.5. </span><span class="content">Initialize Trusted Grant</span><a class="self-link" href="#grants-initializetrustedgrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Initialize a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant①⑨">Trusted Grant</a> and link it to the provided <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②③">Trusted Need</a> <code>TNEED</code>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TNEED</code>
      <td>A <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②④">Trusted Need</a>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⓪">Access Grant</a> that the <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⓪">Trusted Grant</a> will be linked to
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②①">Trusted Grant</a>
      <td>Initialized <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②②">Trusted Grant</a> corresponding to <code>TNEED</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>TG</code> be a newly initialized <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②③">Trusted Grant</a></p>
     <li data-md>
      <p>Let <code>TG hasAccessGrant</code> be <code>GRANT</code></p>
     <li data-md>
      <p>Let <code>TG satisfiesTrustedNeed</code> be <code>TNEED</code></p>
     <li data-md>
      <p>Let <code>TG trustedWith</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>TG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>TG trustedWithType</code> be <code>TNEED trustedWithType</code></p>
     <li data-md>
      <p>Let <code>TG accessmode</code>s be <code>TNEED accessmode</code>s</p>
     <li data-md>
      <p>Let <code>TNEED hasTrustedGrant</code> be <code>TG</code></p>
     <li data-md>
      <p>Return <code>TG</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.6" id="grants-loadgrant"><span class="secno">8.4.6. </span><span class="content">Load Grant</span><a class="self-link" href="#grants-loadgrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation will load an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦①">Access Grant</a> from a given <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry①⑨">Access Grant Registry</a> 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>SUBJECT</code>
      <td>An <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⑤">Access Grant Subject</a> to lookup
     <tr>
      <td><code>REGISTRY</code>
      <td>An <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②⓪">Access Grant Registry</a> to search
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦②">Access Grant</a>
      <td>Corresponding to <code>SUBJECT</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦③">Access Grant</a> <code>GRANT</code> included in <code>REGISTRY hasRegistration</code></p>
      <ol>
       <li data-md>
        <p>return <code>GRANT</code> if <code>GRANT hasAccessGrantSubject</code> == <code>SUBJECT</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.7" id="grants-loadinvitation"><span class="secno">8.4.7. </span><span class="content">Load Invitation</span><a class="self-link" href="#grants-loadinvitation"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation will load an <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③①">Access Invitation</a> from a
      given <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②①">Access Grant Registry</a> 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TARGET</code>
      <td>An <code>interop:ChannelTarget</code> to match
     <tr>
      <td><code>CODE</code>
      <td>An optional <code>interop:channelCode</code> to match
     <tr>
      <td><code>REGISTRY</code>
      <td>An <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②②">Access Grant Registry</a> to search
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③②">Access Invitations</a>
      <td>Matching <code>TARGET</code> and (if provided) <code>CODE</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>INVITATIONS</code> be an empty set of <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③③">Access Invitations</a></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③④">Access Invitation</a> <code>INVITATION</code> linked via <code>REGISTRY hasRegistration</code></p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#access-invitation-channel" id="ref-for-access-invitation-channel①③">Access Invitation Channel</a> <code>ICHANNEL</code> linked via <code>INVITATION hasAccessInvitationChannel</code></p>
        <ol>
         <li data-md>
          <p>Next if <code>ICHANNEL channelTarget</code> != <code>TARGET</code></p>
         <li data-md>
          <p>Next if <code>CODE</code> is not empty and <code>ICHANNEL channelCode</code> != <code>CODE</code></p>
         <li data-md>
          <p>Add <code>INVITATION</code> to <code>INVITATIONS</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <code>INVITATIONS</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.8" id="grants-recordgrant"><span class="secno">8.4.8. </span><span class="content">Record Grant</span><a class="self-link" href="#grants-recordgrant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation stores a new or updated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦④">Access Grant</a> in
      an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②③">Access Grant Registry</a>, applies permissions accordingly, and
      calls for an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③①">Access Receipt</a> to be provided. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⑤">Access Grant</a> to store in <code>REGISTRY</code>
     <tr>
      <td><code>REGISTRY</code>
      <td>The <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②④">Access Grant Registry</a> to store <code>GRANT</code> into
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⑥">Access Grant</a>
      <td>Stored in <code>REGISTRY</code> with permissions applied and <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③②">Access Receipt</a> furnished
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Add or Update <code>GRANT</code> resource in the <code>REGISTRY</code> container, conforming to
the assigned <a href="interop.tree#AccessGrantTree">interopt:AccessGrantTree</a>.</p>
     <li data-md>
      <p>Link <code>GRANT</code> to the <code>REGISTRY</code> via <code>REGISTRY hasRegistration</code> if
    it has not already been added</p>
     <li data-md>
      <p>Call <a href="#apply-permissions">§ 8.4.12 Apply Permissions</a> with inputs: <code>GRANT</code></p>
     <li data-md>
      <p>Call <a href="#provide-access-receipt">§ 9.4.1 Provide Access Receipt</a> with inputs: <code>GRANT</code></p>
     <li data-md>
      <p>Return <code>GRANT</code></p>
    </ol>
   </div>
   <p class="issue" id="issue-4a203aca"><a class="self-link" href="#issue-4a203aca"></a> Need to properly factor in multi-pod scenarios. Must identify the
proper access registry to store things in based on the data registration, which
means pods will also need to be registered.</p>
   <h4 class="heading settled" data-level="8.4.9" id="grants-recordinvitation"><span class="secno">8.4.9. </span><span class="content">Record Invitation</span><a class="self-link" href="#grants-recordinvitation"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation stores a new or updated <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③⑤">Access Invitation</a> in
      an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②⑤">Access Grant Registry</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>INVITATION</code>
      <td>An <a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③⑥">Access Invitation</a>
     <tr>
      <td><code>REGISTRY</code>
      <td>An <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②⑥">Access Grant Registry</a>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-invitation" id="ref-for-access-invitation③⑦">Access Invitation</a>
      <td>Stored in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Add or Update <code>INVITATION</code> resource in the <code>REGISTRY</code> container, conforming to
the assigned <a href="interop.tree#AccessInvitationTree">interopt:AccessInvitationTree</a></p>
     <li data-md>
      <p>Link <code>INVITATION</code> to the <code>REGISTRY</code> via <code>ACCESS hasRegistration</code> if
    it has not already been added</p>
     <li data-md>
      <p>Call <a href="#grants-deliverinvitation">§ 8.4.10 Deliver Invitation</a> with inputs: <code>INVITATION</code></p>
     <li data-md>
      <p>Return <code>INVITATION</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.10" id="grants-deliverinvitation"><span class="secno">8.4.10. </span><span class="content">Deliver Invitation</span><a class="self-link" href="#grants-deliverinvitation"></a></h4>
   <p class="issue" id="issue-2800f864"><a class="self-link" href="#issue-2800f864"></a> Write standard operation for invitation delivery</p>
   <h4 class="heading settled" data-level="8.4.11" id="grants-validateinvitation"><span class="secno">8.4.11. </span><span class="content">Validate Invitation</span><a class="self-link" href="#grants-validateinvitation"></a></h4>
   <p class="issue" id="issue-00444ef2"><a class="self-link" href="#issue-00444ef2"></a> Write standard operation for validating an invitation</p>
   <h4 class="heading settled" data-level="8.4.12" id="apply-permissions"><span class="secno">8.4.12. </span><span class="content">Apply Permissions</span><a class="self-link" href="#apply-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation takes a validated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⑦">Access Grant</a> <code>GRANT</code> associated with a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⑥">Access Grant Subject</a> and
      applies the permissions accordingly based on the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥①">Data Grants</a>, <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③①">Remote Data Grants</a>, and/or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②④">Trusted Grants</a> associated with the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⑧">Access Grant</a>. It applies to both new and updated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑦⑨">Access Grants</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⓪">Access Grant</a> to apply permissions for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧①">Access Grant</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Call <a href="#apply-data-permissions">§ 8.4.13 Apply Data Permissions</a> with inputs: <code>GRANT</code></p>
     <li data-md>
      <p>Call <a href="#apply-remote-data-permissions">§ 8.4.16 Apply Remote Data Permissions</a> with inputs: <code>GRANT</code></p>
     <li data-md>
      <p>Call <a href="#apply-trusted-permissions">§ 8.4.18 Apply Trusted Permissions</a> with inputs: <code>GRANT</code></p>
     <li data-md>
      <p>Return <code>GRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.13" id="apply-data-permissions"><span class="secno">8.4.13. </span><span class="content">Apply Data Permissions</span><a class="self-link" href="#apply-data-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This operation applies data permissions for a new or updated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧②">Access Grant</a>. 
       <p>It iterates over each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥②">Data Grant</a> linked via <code>GRANT hasDataGrant</code>,
      including following any <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④①">Referenced Data Grants</a>.</p>
       <p>All <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥③">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④②">Referenced Data Grants</a> are added to
      a hash map <code>DRHASH</code>. The key is the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⑤">Data Registration</a> associated
      with each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥④">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④③">Referenced Data Grant</a> via <code>hasDataRegistration</code>.</p>
       <p>The end result is the keys of <code>DRHASH</code> are a unique
      set of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⑥">Data Registrations</a> affected by <code>GRANT</code>, and each key
      has an array of related <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⑤">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④④">Referenced Data Grants</a> as its value.</p>
       <p>Each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⑦">Data Registration</a> and the array of grants that affect it
      are then passed to <a href="#apply-data-registration-permissions">§ 8.4.14 Apply Data Registration Permissions</a>.</p>
       <figure id="fig-drhash"> <img src="diagrams/apply-data-permissions-drhash.svg" width="100%/"> </figure>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧③">Access Grant</a> to apply permissions for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧④">Access Grant</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DRHASH</code> be an empty hash map where a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⑧">Data Registration</a> is key and
the value is an array of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⑥">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⑤">Referenced Data Grants</a>.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⑦">Data Grant</a> <code>DG</code> linked via <code>GRANT hasDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Let <code>DRKEY</code> be <code>DG hasDataRegistration</code> added or found in <code>DRHASH</code></p>
       <li data-md>
        <p>Add <code>DG</code> to the value array for <code>DRKEY</code> if missing</p>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⑥">Referenced Data Grant</a> <code>REFDG</code> linked via <code>DG hasReferencedDataGrant</code></p>
        <ol>
         <li data-md>
          <p>Let <code>REFDRKEY</code> be <code>REFDG hasDataRegistration</code> added or found in <code>DRHASH</code></p>
         <li data-md>
          <p>Add <code>REFDG</code> to the array for <code>REFDRKEY</code> if missing</p>
        </ol>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑦⑨">Data Registration</a> <code>DR</code> in <code>DRHASH</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#apply-data-registration-permissions">§ 8.4.14 Apply Data Registration Permissions</a> with inputs: <code>DR</code>, <code>DRHASH[DR]</code>, <code>GRANT</code></p>
      </ol>
     <li data-md>
      <p>Return <code>GRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.14" id="apply-data-registration-permissions"><span class="secno">8.4.14. </span><span class="content">Apply Data Registration Permissions</span><a class="self-link" href="#apply-data-registration-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation applies permissions for a given <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⓪">Data Registration</a>,
      based on the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⑧">Data Grants</a> that have been assigned to it
      from the input <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⑤">Access Grant</a>.</p>
       <p>Before assigning permissions, any existing permissions for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⑦">Access Grant Subject</a> are cleared. This operation does a full
      scan for simplicity, but optimization is recommended.</p>
       <p>All of the grants are iterated, and organized into a hash map
      with data-specific <code>interop:scopeOfGrant</code> values as keys. Each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑥⑨">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⑦">Referenced Data Grant</a> with that scope will
      update the associated value.</p>
       <ul>
        <li data-md>
         <p><code>interop:AllInstances</code> - An array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:SelectedInstances</code> - A hash map with <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧①">Data Instance</a> as
  key and an array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:InheritInstances</code> - A hash map with the parent <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧②">Data Instance</a> as key and an array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:NoAccess</code> - Boolean <code>true</code> or <code>false</code></p>
       </ul>
       <figure id="fig-data-scopehash"> <img src="diagrams/apply-data-permissions-scopehash.svg" width="100%/"> </figure>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DR</code>
      <td>A <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧①">Data Registration</a>
     <tr>
      <td><code>DATAGRANTS</code>
      <td>An array of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⓪">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⑧">Referenced Data Grants</a> associated with the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧②">Data Registration</a> in <code>GRANT</code>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⑥">Access Grant</a> that permissions are being applied for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧③">Data Registration</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⑧">Access Grant Subject</a> linked via <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>DR</code>, <code>SUBJECT</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧③">Data Instance</a> <code>DI</code> linked via <code>DR ldp:hasMember</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>DI</code>, <code>SUBJECT</code></p>
      </ol>
     <li data-md>
      <p>Let <code>SCOPEHASH</code> be a hash map with keys: <code>interop:AllInstances</code>, <code>interop:SelectedInstances</code>, <code>interop:InheritInstances</code>, <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>SCOPEHASH[interop:SelectedInstances]</code> be an empty hash map where <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧④">Data Instances</a> are keys with an array of <code>interop:AccessMode</code>s as values</p>
     <li data-md>
      <p>Let <code>SCOPEHASH[interop:InheritInstances]</code> be an empty hash map where
parent <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⑤">Data Instances</a> are keys with an array of <code>interop:AccessMode</code>s as values</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦①">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant④⑨">Referenced Data Grant</a> <code>DATAGRANT</code> in <code>DATAGRANTS</code></p>
      <ol>
       <li data-md>
        <p>If <code>DATAGRANT scopeOfGrant</code> is <code>interop:AllInstances</code></p>
        <ol>
         <li data-md>
          <p>Let <code>SCOPEHASH[interop:AllInstances]</code> value be a union of current <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode④">access modes</a> and <code>DATAGRANT accessMode</code>s</p>
        </ol>
       <li data-md>
        <p>If <code>DATAGRANT scopeOfGrant</code> is <code>interop:NoAccess</code></p>
        <ol>
         <li data-md>
          <p>Let <code>SCOPEHASH[interop:NoAccess]</code> value be <code>true</code></p>
        </ol>
       <li data-md>
        <p>If <code>DATAGRANT scopeOfGrant</code> is <code>interop:SelectedInstances</code></p>
        <ol>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⑥">Data Instance</a> <code>DI</code> linked via <code>DATAGRANT hasDataInstance</code></p>
          <ol>
           <li data-md>
            <p>Let <code>INSTKEY</code> be <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⑦">Data Instance</a> <code>DI</code> added or found in <code>SCOPEHASH[interop:SelectedInstances][DI]</code></p>
           <li data-md>
            <p>Let <code>SCOPEHASH[interop:SelectedInstances][DI]</code> value be a union of current <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode⑤">access modes</a> and <code>DATAGRANT accessMode</code>s</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <code>DATAGRANT scopeOfGrant</code> is <code>interop:InheritInstances</code></p>
        <ol>
         <li data-md>
          <p>Let <code>PDG</code> be the parent <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦②">Data Grant</a> linked via <code>DATAGRANT hasDataGrant</code> that the <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⓪">Referenced Data Grant</a> inherits from.</p>
         <li data-md>
          <p>Error if <code>PDG scopeOfGrant</code> is not <code>interop:SelectedInstances</code></p>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⑧">Data Instance</a> <code>DI</code> linked via <code>PDG hasDataInstance</code></p>
          <ol>
           <li data-md>
            <p>Let <code>INSTKEY</code> be <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑧⑨">Data Instance</a> <code>DI</code> added or found in <code>SCOPEHASH[interop:InheritInstances][DI]</code></p>
           <li data-md>
            <p>Let <code>SCOPEHASH[interop:InheritInstances][DI]</code> value be a union of current <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode⑥">access modes</a> and <code>DATAGRANT accessMode</code>s</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:AllInstances]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>DR</code>, <code>SUBJECT</code>, <code>MODES</code></p>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:InheritInstances]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨⓪">Data Instance</a> <code>DI</code> in <code>SCOPEHASH[interop:InheritInstances]</code></p>
       <li data-md>
        <p>Let <code>REF</code> be the <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference③">Shape Tree Reference</a> from
  calling <a href="#get-shape-tree-reference">§ 8.4.15 Get Shape Tree Reference</a> with inputs: <code>DR registeredShapeTree</code>, <code>DI registeredShapeTree</code></p>
       <li data-md>
        <p>Let <code>PRED</code> be the rdf:Property extracted from <code>REF traverseViaShapePath</code></p>
       <li data-md>
        <p>Call <a href="#apply-conditional-permissions">§ 8.4.20 Apply Conditional Resource Permissions</a> with inputs: <code>DR</code>, <code>SUBJECT</code>, <code>MODES</code>, <code>DI</code>, <code>PRED</code>, <code>NULL</code></p>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:SelectedInstances]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨①">Data Instance</a> <code>DI</code> in <code>SCOPEHASH[interop:SelectedInstances]</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>SCOPEHASH[interop:SelectedInstances][DI]</code>, <code>SUBJECT</code>, <code>MODES</code></p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.15" id="get-shape-tree-reference"><span class="secno">8.4.15. </span><span class="content">Get Shape Tree Reference</span><a class="self-link" href="#get-shape-tree-reference"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This option will return a <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference④">Shape Tree Reference</a> between
      a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⑤">shape tree</a> <code>REFERENCED</code> and a <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⑥">shape tree</a> <code>REFERENCEDBY</code> 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFERENCED</code>
      <td>The referenced <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⑦">shape tree</a>
     <tr>
      <td><code>REFERENCEDBY</code>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⑧">shape tree</a> that <code>REFERENCED</code> is referenced by
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference⑤">Shape Tree Reference</a>
      <td>Linking <code>REFERENCEDBY</code> to <code>REFERENCED</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference⑥">Shape Tree Reference</a> <code>REF</code> linked via <code>REFERENCEDBY st:references</code></p>
      <ol>
       <li data-md>
        <p>Return <code>REF</code> if <code>REF hasShapeTree</code> is <code>REFERENCED</code></p>
      </ol>
     <li data-md>
      <p>Error because no <a data-link-type="dfn" href="#shape-tree-reference" id="ref-for-shape-tree-reference⑦">Shape Tree Reference</a> was found for <code>REFERENCED</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.16" id="apply-remote-data-permissions"><span class="secno">8.4.16. </span><span class="content">Apply Remote Data Permissions</span><a class="self-link" href="#apply-remote-data-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This operation applies remote data permissions for a new or updated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⑦">Access Grant</a>. 
       <p>It iterates over each <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③②">Remote Data Grant</a> linked via <code>GRANT hasRemoteDataGrant</code>,
      including following any <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⑥">Referenced Remote Data Grants</a>.</p>
       <p>All <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③③">Remote Data Grants</a> and <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⑦">Referenced Remote Data Grants</a> are added to
      a hash map <code>RDRHASH</code>. The key is the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⑤">Remote Data Registration</a> associated
      with each <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③④">Remote Data Grant</a> or <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⑧">Referenced Remote Data Grant</a> via <code>hasRemoteDataRegistration</code>.</p>
       <p>The end result is the keys of <code>RDRHASH</code> are a unique
      set of <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⑥">Remote Data Registrations</a> affected by <code>GRANT</code>, and each key
      has an array of related <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⑤">Remote Data Grants</a> and <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant①⑨">Referenced Remote Data Grants</a> as its value.</p>
       <p>Each <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⑦">Remote Data Registration</a> and the array of grants that affect it
      are then passed to <a href="#apply-remote-data-registration-permissions">§ 8.4.17 Apply Remote Data Registration Permissions</a>.</p>
       <figure id="fig-remote-data-rdrhash"> <img src="diagrams/apply-remote-data-permissions-rdrhash.svg" width="100%/"> </figure>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⑧">Access Grant</a> to apply permissions for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑧⑨">Access Grant</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDRHASH</code> be an empty hash map where a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⑧">Remote Data Registration</a> is key and
the value is an array of <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⑥">Remote Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⓪">Referenced Remote Data Grants</a>.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⑦">Remote Data Grant</a> <code>RDG</code> linked via <code>GRANT hasRemoteDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Let <code>RDRKEY</code> be <code>RDG hasRemoteDataRegistration</code> added or found in <code>RDRHASH</code></p>
       <li data-md>
        <p>Add <code>RDG</code> to the value array for <code>RDRKEY</code> if missing</p>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②①">Referenced Remote Data Grant</a> <code>REFRDG</code> linked via <code>RDG hasReferencedRemoteDataGrant</code></p>
        <ol>
         <li data-md>
          <p>Let <code>REFRDRKEY</code> be <code>REFRDG hasRemoteDataRegistration</code> added
or found in <code>RDRHASH</code></p>
         <li data-md>
          <p>Add <code>REFRDG</code> to the array for <code>REFRDRKEY</code> if missing</p>
        </ol>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration①⑨">Remote Data Registration</a> <code>RDR</code> in <code>RDRHASH</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#apply-remote-data-registration-permissions">§ 8.4.17 Apply Remote Data Registration Permissions</a> with inputs: <code>RDR</code>, <code>RDRHASH[RDR]</code>, <code>GRANT</code></p>
      </ol>
     <li data-md>
      <p>Return <code>GRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.17" id="apply-remote-data-registration-permissions"><span class="secno">8.4.17. </span><span class="content">Apply Remote Data Registration Permissions</span><a class="self-link" href="#apply-remote-data-registration-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation applies permissions for a given <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⓪">Remote Data Registration</a>,
      based on the <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⑧">Remote Data Grants</a> that have been assigned to it
      from the input <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⓪">Access Grant</a>.</p>
       <p>Before assigning permissions, any existing permissions for the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject③⑨">Access Grant Subject</a> are cleared. This operation does a full
      scan for simplicity, but optimization is recommended.</p>
       <p>All of the grants are iterated, and organized into a hash map
      with data-specific <code>interop:scopeOfGrant</code> values as keys. Each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦③">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤①">Referenced Data Grant</a> with that scope will
      update the associated value.</p>
       <ul>
        <li data-md>
         <p><code>interop:AllRemote</code> - An array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:AllRemoteFromAgent</code> - A hash map with <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②④">Remote Agent Data Registration</a> as key and an array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:SelectedRemote</code> - A hash map with <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦④">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤②">Referenced Data Grant</a> as key and an array of <code>interop:accessMode</code> values</p>
        <li data-md>
         <p><code>interop:NoAccess</code> - Boolean <code>true</code> or <code>false</code></p>
       </ul>
       <figure id="fig-remote-data-scopehash"> <img src="diagrams/apply-remote-data-permissions-scopehash.svg" width="100%/"> </figure>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RDR</code>
      <td>A <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②①">Remote Data Registration</a>
     <tr>
      <td><code>REMOTEGRANTS</code>
      <td>An array of <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant③⑨">Remote Data Grants</a> and <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②②">Referenced Remote Data Grants</a> associated with the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧④">Data Registration</a> in <code>GRANT</code>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨①">Access Grant</a> that permissions are being applied for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②②">Remote Data Registration</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⓪">Access Grant Subject</a> linked via <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>RDR</code>, <code>SUBJECT</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⑤">Remote Agent Data Registration</a> <code>RADR</code> linked via <code>RDR hasRemoteAgentDataRegistration</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>RADR</code>, <code>SUBJECT</code></p>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⑤">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤③">Referenced Data Grant</a> <code>DATAGRANT</code> linked
via <code>RADR satisfiesDataGrant</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>DATAGRANT</code>, <code>SUBJECT</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <code>SCOPEHASH</code> be a hash map with keys: <code>interop:AllRemote</code>, <code>interop:AllRemoteFromAgent</code>, <code>interop:SelectedRemote</code>, <code>interop:NoAccess</code></p>
     <li data-md>
      <p>Let <code>SCOPEHASH[interop:AllRemoteFromAgent]</code> be an empty hash map where <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⑥">Remote Agent Data Registrations</a> are keys with an array of <code>interop:AccessMode</code>s as values</p>
     <li data-md>
      <p>Let <code>SCOPEHASH[interop:SelectedRemote]</code> be an empty hash map where
selected <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⑥">Data Grants</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤④">Referenced Data Grants</a> are keys with an array of <code>interop:AccessMode</code>s as values</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⓪">Remote Data Grant</a> or <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②③">Referenced Remote Data Grant</a> <code>REMOTEGRANT</code> in <code>REMOTEGRANTS</code></p>
      <ol>
       <li data-md>
        <p>If <code>REMOTEGRANT scopeOfGrant</code> is <code>interop:AllRemote</code></p>
        <ol>
         <li data-md>
          <p>Let <code>SCOPEHASH[interop:AllRemote]</code> value be a union of current <code>interop:accessMode</code>s and <code>REMOTEGRANT accessMode</code>s</p>
        </ol>
       <li data-md>
        <p>If <code>REMOTEGRANT scopeOfGrant</code> is <code>interop:NoAccess</code></p>
        <ol>
         <li data-md>
          <p>Let <code>SCOPEHASH[interop:NoAccess]</code> value be <code>true</code></p>
        </ol>
       <li data-md>
        <p>If <code>REMOTEGRANT scopeOfGrant</code> is <code>interop:AllRemoteFromAgent</code></p>
        <ol>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⑦">Remote Agent Data Registration</a> <code>RADR</code> linked via <code>REMOTEGRANT hasRemoteAgentDataRegistration</code></p>
          <ol>
           <li data-md>
            <p>Let <code>RADRKEY</code> be <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⑧">Remote Agent Data Registration</a> <code>RADR</code> added or
found in <code>SCOPEHASH[interop:AllRemoteFromAgent][RADR]</code></p>
           <li data-md>
            <p>Let <code>SCOPEHASH[interop:AllRemoteFromAgent][RADR]</code> value be
a union of current <code>interop:accessMode</code>s and <code>REMOTEGRANT accessMode</code>s</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <code>REMOTEGRANT scopeOfGrant</code> is <code>interop:SelectedRemote</code></p>
        <ol>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⑦">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⑤">Referenced Data Grant</a> <code>DATAGRANT</code> linked via <code>REMOTEGRANT hasDataGrant</code> or <code>REMOTEGRANT hasReferencedDataGrant</code></p>
          <ol>
           <li data-md>
            <p>Let <code>GRANTKEY</code> be <code>DATAGRANT</code> added or
found in <code>SCOPEHASH[interop:SelectedRemote][DATAGRANT]</code></p>
           <li data-md>
            <p>Let <code>SCOPEHASH[interop:SelectedRemote][DATAGRANT]</code> value be
a union of current <code>interop:accessMode</code>s and <code>REMOTEGRANT accessMode</code>s</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:AllRemote]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>RDR</code>, <code>SUBJECT</code>, <code>MODES</code></p>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:AllRemoteFromAgent]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration②⑨">Remote Agent Data Registration</a> <code>RADR</code> in <code>SCOPEHASH[interop:AllRemoteFromAgent]</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>SCOPEHASH[interop:AllRemoteFromAgent][RADR]</code>, <code>SUBJECT</code>, <code>MODES</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>If <code>SCOPEHASH[interop:SelectedRemote]</code> is not empty</p>
      <ol>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⑧">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⑥">Referenced Data Grant</a> <code>DATAGRANT</code> in <code>SCOPEHASH[interop:SelectedRemote]</code></p>
        <ol>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>SCOPEHASH[interop:SelectedRemote][DATAGRANT]</code>, <code>SUBJECT</code>, <code>MODES</code></p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.18" id="apply-trusted-permissions"><span class="secno">8.4.18. </span><span class="content">Apply Trusted Permissions</span><a class="self-link" href="#apply-trusted-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation applies permissions for a given <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⑤">Trusted Grant</a>. It applies
      to both new and updated <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⑥">Trusted Grants</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TGRANT</code>
      <td>A validated <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⑦">Trusted Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>The validated <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨②">Access Grant</a> that <code>TGRANT</code> belongs to
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⑧">Trusted Grant</a>
      <td>That has had the relevant permissions applied
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④①">Access Grant Subject</a> <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant②⑨">Trusted Grant</a> <code>TGRANT</code> linked via <code>GRANT hasTrustedGrant</code></p>
      <ol>
       <li data-md>
        <p>Let <code>MODES</code> be the <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode⑦">access modes</a> linked via <code>TGRANT accessMode</code></p>
       <li data-md>
        <p>If <code>TGRANT trustedWithType</code> is <code>interop:Agent</code></p>
        <ol>
         <li data-md>
          <p>Let <code>PROFILE</code> be <code>TGRANT trustedWith</code></p>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>PROFILE</code>, <code>SUBJECT</code>, <code>MODES</code></p>
        </ol>
       <li data-md>
        <p>If <code>TGRANT trustedWithType</code> is <code>interop:RegistrySet</code></p>
        <ol>
         <li data-md>
          <p>Let <code>SET</code> be <code>TGRANT trustedWith</code></p>
         <li data-md>
          <p>Let <code>REGISTRIES</code> be the <a data-link-type="dfn" href="#registry" id="ref-for-registry②③">Registries</a> linked via <code>SET hasRegistry</code></p>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>SET</code>, <code>SUBJECT</code>, <code>MODES</code></p>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#registry" id="ref-for-registry②④">Registry</a> <code>REGISTRY</code> in <code>REGISTRIES</code></p>
          <ol>
           <li data-md>
            <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>REGISTRY</code>, <code>SUBJECT</code>, <code>MODES</code></p>
          </ol>
        </ol>
       <li data-md>
        <p>If <code>TGRANT trustedWithType</code> is <code>interop:Registry</code></p>
        <ol>
         <li data-md>
          <p>Let <code>REGISTRY</code> be <code>TGRANT trustedWith</code></p>
         <li data-md>
          <p>Call <a href="#apply-resource-permissions">§ 8.4.19 Apply Resource Permissions</a> with inputs: <code>REGISTRY</code>, <code>SUBJECT</code>, <code>MODES</code></p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.19" id="apply-resource-permissions"><span class="secno">8.4.19. </span><span class="content">Apply Resource Permissions</span><a class="self-link" href="#apply-resource-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation applies permissions on a given resource for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④②">Access Grant Subject</a>. It clears any existing permissions for
      the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④③">Access Grant Subject</a> first, so that the resultant permissions
      are exactly the ones requested. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RESOURCE</code>
      <td>Resource whose permissions will be changed
     <tr>
      <td><code>SUBJECT</code>
      <td>The <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④④">Access Grant Subject</a> who the permissions apply to
     <tr>
      <td><code>MODES</code>
      <td>A list of access modes to apply to the resource
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td>Boolean
      <td>Success or Failure
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>RESOURCE</code>, <code>SUBJECT</code></p>
     <li data-md>
      <p>Add a new <a data-link-type="dfn" href="#authorization-statement" id="ref-for-authorization-statement">Authorization Statement</a> <code>NEWSTATEMENT</code> to <code>ACL</code></p>
     <li data-md>
      <p>Set <code>NEWSTATEMENT</code> <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⑤">Access Grant Subject</a> to <code>SUBJECT</code>.</p>
     <li data-md>
      <p>Set the <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode⑧">access modes</a> for <code>NEWSTATEMENT</code> to <code>MODES</code></p>
     <li data-md>
      <p>If <code>RESOURCE</code> is a container</p>
      <ol>
       <li data-md>
        <p>Set all members of <code>RESOURCE</code> to inherit the same permissions</p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.20" id="apply-conditional-permissions"><span class="secno">8.4.20. </span><span class="content">Apply Conditional Resource Permissions</span><a class="self-link" href="#apply-conditional-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
        This operation applies permissions on a given resource for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⑥">Access Grant Subject</a>. Those permissions are conditioned upon the
      existence of a graph link between a node in the resource and another node
      in another resource on the same pod. 
       <p>It clears any existing permissions for
      the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⑦">Access Grant Subject</a> first, so that the resultant permissions
      are exactly the ones requested.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RESOURCE</code>
      <td>Resource whose permissions will be changed
     <tr>
      <td><code>SUBJECT</code>
      <td>The <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⑧">Access Grant Subject</a> who the permissions apply to
     <tr>
      <td><code>MODES</code>
      <td>A list of access modes to apply to the resource
     <tr>
      <td><code>CONDSUB</code>
      <td>Subject of conditional link
     <tr>
      <td><code>CONDPRED</code>
      <td>Predicate for conditional link
     <tr>
      <td><code>CONDOBJ</code>
      <td>Object for conditional link
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td>Boolean
      <td>Success or Failure
   </table>
   <p class="issue" id="issue-8ac7ce01"><a class="self-link" href="#issue-8ac7ce01"></a> Need to determine how to deal with objects that are
dynamic, where we need to match against more than one resource and
the subject identifier could? vary</p>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Call <a href="#remove-resource-permissions">§ 8.4.21 Remove Resource Permissions</a> with inputs: <code>RESOURCE</code>, <code>SUBJECT</code></p>
     <li data-md>
      <p>Add a new <a data-link-type="dfn" href="#authorization-statement" id="ref-for-authorization-statement①">Authorization Statement</a> <code>NEWSTATEMENT</code> to <code>ACL</code></p>
     <li data-md>
      <p>Set <code>NEWSTATEMENT</code> <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject④⑨">Access Grant Subject</a> to <code>SUBJECT</code></p>
     <li data-md>
      <p>Set a condition on <code>NEWSTATEMENT</code> that access is only permitted when
a graph link is present composed of
subject: <code>CONDSUB</code>, predicate: <code>CONDPRED</code>, object: <code>CONDOBJ</code></p>
     <li data-md>
      <p>Set the <a data-link-type="dfn" href="#access-mode" id="ref-for-access-mode⑨">access modes</a> for <code>NEWSTATEMENT</code> to <code>MODES</code></p>
     <li data-md>
      <p>If <code>RESOURCE</code> is a container</p>
      <ol>
       <li data-md>
        <p>Set all members of <code>RESOURCE</code> to inherit the same permissions</p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.21" id="remove-resource-permissions"><span class="secno">8.4.21. </span><span class="content">Remove Resource Permissions</span><a class="self-link" href="#remove-resource-permissions"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation removes permissions on a given resource for a given <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⓪">Access Grant Subject</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RESOURCE</code>
      <td>Resource whose permissions will be changed
     <tr>
      <td><code>SUBJECT</code>
      <td>The <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤①">Access Grant Subject</a> who the permissions apply to
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td>Boolean
      <td>Success or Failure
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>ACL</code> be the <a data-link-type="dfn" href="#acl-resource" id="ref-for-acl-resource">ACL Resource</a> directly associated with <code>RESOURCE</code></p>
     <li data-md>
      <p>Let <code>STATEMENTS</code> be any <a data-link-type="dfn" href="#authorization-statement" id="ref-for-authorization-statement②">Authorization Statements</a> in <code>ACL</code> directly
associated with <code>SUBJECT</code>.</p>
     <li data-md>
      <p>For each <code>STATEMENT</code> in <code>STATEMENTS</code></p>
      <ol>
       <li data-md>
        <p>Remove <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤②">Access Grant Subject</a> from <code>STATEMENT</code></p>
       <li data-md>
        <p>Remove <code>STATEMENT</code> if there are no remaining <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤③">Access Grant Subjects</a></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.22" id="deny-access-need-group"><span class="secno">8.4.22. </span><span class="content">Deny Access Need Group</span><a class="self-link" href="#deny-access-need-group"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦③">Access Need Group</a> with
      optional necessity has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨③">Access Grant</a>
     <tr>
      <td><code>GROUP</code>
      <td>An <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦④">Access Need Group</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-need" id="ref-for-access-need⑦⑤">Access Need</a> <code>NEED</code> in <code>GROUP</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#deny-data-grant">§ 8.4.23 Deny Data Grant</a> with inputs: <code>NEED hasDataGrant</code>, <code>GRANT</code></p>
       <li data-md>
        <p>Call <a href="#deny-remote-data-grant">§ 8.4.36 Deny Remote Data Grant</a> with inputs: <code>NEED hasRemoteDataGrant</code>, <code>GRANT</code></p>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#trusted-need" id="ref-for-trusted-need②⑤">Trusted Need</a> <code>TNEED</code> in <code>GROUP</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#deny-trusted-grant">§ 8.4.40 Deny Trusted Grant</a> with inputs: <code>NEED hasTrustedGrant</code>, <code>GRANT</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.23" id="deny-data-grant"><span class="secno">8.4.23. </span><span class="content">Deny Data Grant</span><a class="self-link" href="#deny-data-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑦⑨">Data Grant</a> has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DG</code>
      <td>A <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⓪">Data Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨④">Access Grant</a> that <code>DG</code> is linked to
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⑦">Referenced Data Grant</a> <code>REFDG</code> linked via <code>DG hasReferencedDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#deny-referenced-data-grant">§ 8.4.24 Deny Referenced Data Grant</a> with inputs: <code>REFDG</code>, <code>DG</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.24" id="deny-referenced-data-grant"><span class="secno">8.4.24. </span><span class="content">Deny Referenced Data Grant</span><a class="self-link" href="#deny-referenced-data-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⑧">Referenced Data Grant</a> has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFDG</code>
      <td>A <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑤⑨">Referenced Data Grant</a>
     <tr>
      <td><code>DG</code>
      <td>The <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧①">Data Grant</a> that <code>REFDG</code> is linked to
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.25" id="select-all-data-instances"><span class="secno">8.4.25. </span><span class="content">Select All Data Instances</span><a class="self-link" href="#select-all-data-instances"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨②">Data Instances</a> for a given <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧②">Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DG</code>
      <td>The <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧③">Data Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⑤">Access Grant</a> that <code>DATAGRANT</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DG scopeOfGrant</code> be <code>interop:AllInstances</code></p>
     <li data-md>
      <p>Remove all links for <code>DG hasDataInstance</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⓪">Referenced Data Grant</a> <code>REFDG</code> linked via <code>DG hasReferencedDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#select-all-referenced-data-instances">§ 8.4.26 Select All Referenced Data Instances</a> with inputs: <code>REFDG</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.26" id="select-all-referenced-data-instances"><span class="secno">8.4.26. </span><span class="content">Select All Referenced Data Instances</span><a class="self-link" href="#select-all-referenced-data-instances"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨③">Data Instances</a> for a given <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥①">Referenced Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥②">Referenced Data Grant</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFDG scopeOfGrant</code> be <code>interop:AllInstances</code></p>
     <li data-md>
      <p>Remove all links for <code>REFDG hasDataInstance</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.27" id="select-data-instance"><span class="secno">8.4.27. </span><span class="content">Select Specific Data Instance</span><a class="self-link" href="#select-data-instance"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select specific <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨④">Data Instances</a> for a given <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧④">Data Grant</a>. If the <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⑤">Data Grant</a> has any <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥③">Referenced Data Grants</a>,
      this will set their scope to <code>interop:InheritInstances</code>.
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DI</code>
      <td>A <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨⑤">Data Instance</a> selected for access
     <tr>
      <td><code>DG</code>
      <td>The <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⑥">Data Grant</a> that <code>DI</code> is associated with
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⑥">Access Grant</a> that <code>DG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DG scopeOfGrant</code> be <code>interop:SelectedInstances</code></p>
     <li data-md>
      <p>Let <code>DG hasDataInstance</code> be linked to one unique instance of <code>DI</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥④">Referenced Data Grant</a> <code>REFDG</code> linked via <code>DG hasReferencedDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#select-inherited-referenced-data-instance">§ 8.4.28 Select Inherited Referenced Data Instance</a> with inputs: <code>REFDG</code>, <code>DG</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.28" id="select-inherited-referenced-data-instance"><span class="secno">8.4.28. </span><span class="content">Select Inherited Referenced Data Instance</span><a class="self-link" href="#select-inherited-referenced-data-instance"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to set the scope of a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⑤">Referenced Data Grant</a> to inherited access. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⑥">Referenced Data Grant</a> to adjust
     <tr>
      <td><code>DG</code>
      <td>The <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⑦">Data Grant</a> that <code>REFDG</code> is linked to
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFDG scopeOfGrant</code> be <code>interop:InheritInstances</code></p>
     <li data-md>
      <p>Remove all links via <code>REFDG hasDataInstance</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.29" id="select-referenced-data-instance"><span class="secno">8.4.29. </span><span class="content">Select Specific Referenced Data Instance</span><a class="self-link" href="#select-referenced-data-instance"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to set the scope of a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⑦">Referenced Data Grant</a> to inherited access. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DI</code>
      <td>A <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨⑥">Data Instance</a> selected for access
     <tr>
      <td><code>REFDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⑧">Referenced Data Grant</a> to adjust
     <tr>
      <td><code>DG</code>
      <td>The <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⑧">Data Grant</a> that <code>REFDG</code> is linked to
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFDG scopeOfGrant</code> be <code>interop:SelectedInstances</code></p>
     <li data-md>
      <p>Let <code>REFDG hasDataInstance</code> be linked to one unique instance of <code>DI</code></p>
    </ol>
   </div>
   <p></p>
   <h4 class="heading settled" data-level="8.4.30" id="select-all-remote"><span class="secno">8.4.30. </span><span class="content">Select All Remote Instances</span><a class="self-link" href="#select-all-remote"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all received <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑧⑨">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑥⑨">Referenced Data Grants</a> across all <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⓪">Remote Agent Data Registrations</a> for a given <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④①">Remote Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④②">Remote Data Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⑦">Access Grant</a> that <code>RDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDG scopeOfGrant</code> be <code>interop:AllRemote</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasRemoteDataFromAgent</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasDataGrant</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasReferencedDataGrant</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②④">Referenced Remote Data Grant</a> <code>REFRDG</code> linked via <code>RDG hasReferencedRemoteDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#select-all-referenced-remote">§ 8.4.31 Select All Referenced Remote Instances</a> with inputs: <code>REFRDG</code>, <code>RDG</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.31" id="select-all-referenced-remote"><span class="secno">8.4.31. </span><span class="content">Select All Referenced Remote Instances</span><a class="self-link" href="#select-all-referenced-remote"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all received <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⓪">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⓪">Referenced Data Grants</a> across all <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③①">Remote Agent Data Registrations</a> for a given <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⑤">Referenced Remote Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFRDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⑥">Referenced Remote Data Grant</a>
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④③">Remote Data Grant</a> that <code>REFRDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFRDG scopeOfGrant</code> be <code>interop:AllRemote</code></p>
     <li data-md>
      <p>Remove all links for <code>REFDG hasRemoteDataFromAgent</code></p>
     <li data-md>
      <p>Remove all links for <code>REFDG hasDataGrant</code></p>
     <li data-md>
      <p>Remove all links for <code>REFDG hasReferencedDataGrant</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.32" id="select-all-remote-fromagent"><span class="secno">8.4.32. </span><span class="content">Select All Remote From Agent</span><a class="self-link" href="#select-all-remote-fromagent"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all received <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨①">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦①">Referenced Data Grants</a> associated with a given <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③②">Remote Agent Data Registration</a> as part of
      a specific <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④④">Remote Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RADR</code>
      <td>The selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③③">Remote Agent Data Registration</a>
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⑤">Remote Data Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⑧">Access Grant</a> that <code>RDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDG scopeOfGrant</code> be <code>interop:AllRemoteFromAgent</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasDataGrant</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasReferencedDataGrant</code></p>
     <li data-md>
      <p>Let <code>RDG hasRemoteDataFromAgent</code> be linked to one unique instance of <code>RADR</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⑦">Referenced Remote Data Grant</a> <code>REFRDG</code> linked via <code>RDG hasReferencedRemoteDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#select-referenced-remote-fromagent">§ 8.4.33 Select All Referenced Remote From Agent</a> with inputs: <code>RADR</code>, <code>REFRDG</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.33" id="select-referenced-remote-fromagent"><span class="secno">8.4.33. </span><span class="content">Select All Referenced Remote From Agent</span><a class="self-link" href="#select-referenced-remote-fromagent"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select all received <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨②">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦②">Referenced Data Grants</a> associated with a given <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③④">Remote Agent Data Registration</a> as part of
      a specific <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⑧">Referenced Remote Data Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RADR</code>
      <td>The selected <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⑤">Remote Agent Data Registration</a>
     <tr>
      <td><code>REFRDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant②⑨">Referenced Remote Data Grant</a>
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⑥">Remote Data Grant</a> that <code>REFRDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFRDG scopeOfGrant</code> be <code>interop:AllRemoteFromAgent</code></p>
     <li data-md>
      <p>Remove all links for <code>REFRDG hasDataGrant</code></p>
     <li data-md>
      <p>Remove all links for <code>REFRDG hasReferencedDataGrant</code></p>
     <li data-md>
      <p>Let <code>REFRDG hasRemoteDataFromAgent</code> be linked to one unique instance of <code>RADR</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.34" id="select-remote-agent-data-grants"><span class="secno">8.4.34. </span><span class="content">Select Specific Remote Agent Data Grants</span><a class="self-link" href="#select-remote-agent-data-grants"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select specific <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨③">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦③">Referenced Data Grants</a> associated with a given <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⑥">Remote Agent Data Registration</a> as part of
      a specific <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⑦">Remote Data Grant</a>.
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DATAGRANT</code>
      <td>A <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨④">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦④">Referenced Data Grant</a> selected for access
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⑧">Remote Data Grant</a> that <code>DATAGRANT</code> is associated with
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant⑨⑨">Access Grant</a> that <code>RDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDG scopeOfGrant</code> be <code>interop:SelectedRemote</code></p>
     <li data-md>
      <p>Remove all links for <code>RDG hasRemoteDataFromAgent</code></p>
     <li data-md>
      <p>If <code>DATAGRANT</code> is a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⑤">Data Grant</a></p>
     <li data-md>
      <p>Let <code>RDG hasDataGrant</code> be linked to <code>DATAGRANT</code></p>
     <li data-md>
      <p>If <code>DATAGRANT</code> is a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⑤">Referenced Data Grant</a></p>
     <li data-md>
      <p>Let <code>RDG hasReferencedDataGrant</code> be linked to <code>DATAGRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.35" id="select-referenced-remote-agent-data-grants"><span class="secno">8.4.35. </span><span class="content">Select Specific Referenced Remote Agent Data Instances</span><a class="self-link" href="#select-referenced-remote-agent-data-grants"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select specific <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⑥">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⑥">Referenced Data Grants</a> associated with a given <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⑦">Remote Agent Data Registration</a> as part of a
      specific <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant③⓪">Referenced Remote Data Grant</a>.
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DATAGRANT</code>
      <td>A <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⑦">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⑦">Referenced Data Grant</a> selected for access
     <tr>
      <td><code>REFRDG</code>
      <td>The <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant③①">Referenced Remote Data Grant</a> that <code>DATAGRANT</code> is associated with
     <tr>
      <td><code>RDG</code>
      <td>The <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant④⑨">Remote Data Grant</a> that <code>REFRDG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFRDG scopeOfGrant</code> be <code>interop:SelectedRemote</code></p>
     <li data-md>
      <p>Remove all links for <code>REFRDG hasRemoteDataFromAgent</code></p>
     <li data-md>
      <p>If <code>DATAGRANT</code> is a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⑧">Data Grant</a></p>
     <li data-md>
      <p>Let <code>REFRDG hasDataGrant</code> be linked to <code>DATAGRANT</code></p>
     <li data-md>
      <p>If <code>DATAGRANT</code> is a <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⑧">Referenced Data Grant</a></p>
     <li data-md>
      <p>Let <code>REFRDG hasReferencedDataGrant</code> be linked to <code>DATAGRANT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.36" id="deny-remote-data-grant"><span class="secno">8.4.36. </span><span class="content">Deny Remote Data Grant</span><a class="self-link" href="#deny-remote-data-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤⓪">Remote Data Grant</a> with
      optional necessity has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RDG</code>
      <td>A <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤①">Remote Data Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⓪">Access Grant</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant③②">Referenced Remote Data Grant</a> <code>REFRDG</code> linked via <code>RDG hasReferencedRemoteDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#deny-referenced-remote-data-grant">§ 8.4.37 Deny Referenced Remote Data Grant</a> with inputs: <code>REFRDG</code>, <code>GRANT</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.37" id="deny-referenced-remote-data-grant"><span class="secno">8.4.37. </span><span class="content">Deny Referenced Remote Data Grant</span><a class="self-link" href="#deny-referenced-remote-data-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#referenced-remote-data-grant" id="ref-for-referenced-remote-data-grant③③">Referenced Remote Data Grant</a> with
      optional necessity has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REFRDG</code>
      <td>A <a data-link-type="dfn" href="#referenced-access-need" id="ref-for-referenced-access-need③⑧">Referenced Access Need</a>
     <tr>
      <td><code>GRANT</code>
      <td>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪①">Access Grant</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>REFRDG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
    </ol>
   </div>
   <p></p>
   <h4 class="heading settled" data-level="8.4.38" id="select-trusted-registry-set"><span class="secno">8.4.38. </span><span class="content">Select Trusted Registry Set</span><a class="self-link" href="#select-trusted-registry-set"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select an entire <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set②⓪">Registry Set</a> of a given
      registry type for a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⓪">Trusted Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>SET</code>
      <td>The <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set②①">Registry Set</a> selected for access
     <tr>
      <td><code>TG</code>
      <td>The <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③①">Trusted Grant</a> that <code>SET</code> is associated with
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪②">Access Grant</a> that <code>TG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>TG scopeOfGrant</code> be <code>interop:TrustedAccess</code></p>
     <li data-md>
      <p>Let <code>TG trustedWith</code> be <code>SET</code></p>
     <li data-md>
      <p>Let <code>TG trustedWithType</code> be <code>SET rdf:type</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.39" id="select-trusted-registry"><span class="secno">8.4.39. </span><span class="content">Select Specific Trusted Registry</span><a class="self-link" href="#select-trusted-registry"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Used to select a specific <a data-link-type="dfn" href="#registry" id="ref-for-registry②⑤">Registry</a> of a given registry
      type for a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③②">Trusted Grant</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>REG</code>
      <td>The <a data-link-type="dfn" href="#registry" id="ref-for-registry②⑥">Registry</a> selected for access
     <tr>
      <td><code>TG</code>
      <td>The <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③③">Trusted Grant</a> that <code>REG</code> is associated with
     <tr>
      <td><code>GRANT</code>
      <td>The <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪③">Access Grant</a> that <code>TG</code> is associated with
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>TG scopeOfGrant</code> be <code>interop:TrustedAccess</code></p>
     <li data-md>
      <p>Let <code>TG trustedWith</code> be <code>REG</code></p>
     <li data-md>
      <p>Let <code>TG trustedWithType</code> be <code>SET rdf:type</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="8.4.40" id="deny-trusted-grant"><span class="secno">8.4.40. </span><span class="content">Deny Trusted Grant</span><a class="self-link" href="#deny-trusted-grant"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> This operation is used when a given <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③④">Trusted Grant</a> has been denied. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TG</code>
      <td>A <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⑤">Trusted Grant</a>
     <tr>
      <td><code>GRANT</code>
      <td>An <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪④">Access Grant</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>TG scopeOfGrant</code> be <code>interop:NoAccess</code></p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="9" id="receipts"><span class="secno">9. </span><span class="content">Access Receipts</span><a class="self-link" href="#receipts"></a></h2>
   <h3 class="heading settled" data-level="9.1" id="receipts-overview"><span class="secno">9.1. </span><span class="content">Overview</span><a class="self-link" href="#receipts-overview"></a></h3>
   <p>When an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤②">Agent</a> grants access to another <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤③">Agent</a> or <a data-link-type="dfn" href="#application" id="ref-for-application①⓪①">Application</a>,
an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③③">Access Receipt</a> is provided to the grantee that communicates what 
they have been given access to, and why.</p>
   <p><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③④">Access Receipts</a> are sent to an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤④">Agent’s</a> Access Inbox. When the
grantee is an <a data-link-type="dfn" href="#application" id="ref-for-application①⓪②">Application</a>, the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⑤">Agent</a> will store the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⑤">Access Receipt</a> in an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③③">Application Registration</a> in their <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry①⑥">Application Registry</a>.</p>
   <p><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⑥">Access Receipts</a> received by an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⑥">Agent</a> are used to populate and maintain
their <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry⑦">Remote Data Registry</a>. This allows the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⑦">Agent</a> and their <a data-link-type="dfn" href="#application" id="ref-for-application①⓪③">Applications</a> to lookup and access data that been shared with them.</p>
   <p>When an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⑧">Agent</a> receives an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⑦">Access Receipt</a>, it is stored in their <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry②">Access Receipt Registry</a>.</p>
   <h3 class="heading settled" data-level="9.2" id="receipts-datamodel"><span class="secno">9.2. </span><span class="content">Data Model</span><a class="self-link" href="#receipts-datamodel"></a></h3>
   <h4 class="heading settled" data-level="9.2.1" id="datamodel-receipt-registry-set"><span class="secno">9.2.1. </span><span class="content">Access Receipt Registry Set</span><a class="self-link" href="#datamodel-receipt-registry-set"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-receipt-registry-set">Access Receipt Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set②②">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry③">Access Receipt Registries</a>.</p>
   <figure id="fig-receipt-registry-set">
    <figcaption>An <a data-link-type="dfn" href="#access-receipt-registry-set" id="ref-for-access-receipt-registry-set①">Access Receipt Registry Set</a> at
   https://bob.pod.example/profile/receipt#set linking to two different <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry④">Access Receipt Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceiptRegistrySet</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> 
    <c- g>&lt;https://bob.pod.example/receipts/#registry></c-> <c- p>,</c->
    <c- g>&lt;https://bob.otherpod.example/receipts/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessReceiptRegistrySet">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#AccessReceiptRegistrySet">AccessReceiptRegistrySet</a> a rdfs:subClassOf <a href="interop.ttl#RegistrySet">RegistrySet</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistry
      <td><a href="interop.ttl#Registry">Registry</a>
      <td>Link to associated <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry⑤">Access Receipt Registries</a>
   </table>
   <p>The <a href="#shexAccessReceiptRegistrySet">AccessReceiptRegistrySetShape</a> is used to
validate an instance of the <a href="#classAccessReceiptRegistrySet">AccessReceiptRegistrySet</a> class.</p>
<pre class="highlight" id="shexAccessReceiptRegistrySet"><c- g>&lt;#AccessReceiptRegistrySetShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceiptRegistrySet</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> IRI+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessReceiptRegistrySetTree">AccessReceiptRegistrySetTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexAccessReceiptRegistrySet">AccessReceiptRegistrySetShape</a>.</p>
<pre class="highlight" id="treeAccessReceiptRegistrySet"><c- g>&lt;#AccessReceiptRegistrySetTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessReceiptRegistrySetShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="9.2.2" id="datamodel-access-receipt-registry"><span class="secno">9.2.2. </span><span class="content">Access Receipt Registry</span><a class="self-link" href="#datamodel-access-receipt-registry"></a></h4>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-receipt-registry">Access Receipt Registry</dfn> is a collection of <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⑧">Access Receipts</a> stored in a specific location in a <a data-link-type="dfn" href="#pod" id="ref-for-pod⑦">pod</a>.</p>
   <figure id="fig-receipt-registry">
    <figcaption>An <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry⑥">Access Receipt Registry</a> at
  https://bob.pod.example/receipts/#registry
  linking to several registered <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt③⑨">Access Receipts</a> </figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceiptRegistry</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> 
    <c- g>&lt;fa6d6553-0308-4abd-bce6-888df653695a#receipt></c-> <c- p>,</c->
    <c- g>&lt;d49eae8c-e138-4153-86ed-63832deadc6b#receipt></c-> <c- p>,</c->
    <c- g>&lt;506a0cee-1dc9-4720-a768-294aa0284502#receipt></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessReceiptRegistry">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessReceiptRegistry">AccessReceiptRegistry</a> a rdfs:subClassOf <a href="interop.ttl#Registry">Registry</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistration
      <td><a href="interop.ttl#Registration">Registration</a>
      <td>Link to associated <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⓪">Access Receipts</a>
   </table>
   <p>The <a href="#shexAccessReceiptRegistry">AccessReceiptRegistryShape</a> is used to
validate an instance of the <a href="#classAccessReceiptRegistry">AccessReceiptRegistry</a> class.</p>
<pre class="highlight" id="shexAccessReceiptRegistry"><c- g>&lt;#AccessReceiptRegistryShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceiptRegistry</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistration</c-> IRI*
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessReceiptRegistryTree">AccessReceiptRegistryTree</a> is assigned to a container resource to ensure that it will validate against the <a href="#shexAccessReceiptRegistry">AccessReceiptRegistryShape</a>, and contain only
conformant instances of the <a href="#treeAccessReceipt">AccessReceiptTree</a>.</p>
<pre class="highlight" id="treeAccessReceiptRegistry"><c- g>&lt;#AccessReceiptRegistryTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessReceiptRegistryShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#AccessReceiptTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="9.2.3" id="datamodel-access-receipt"><span class="secno">9.2.3. </span><span class="content">Access Receipt</span><a class="self-link" href="#datamodel-access-receipt"></a></h4>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑤⑨">Agent</a> provides an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-receipt">Access Receipt</dfn> to another <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⓪">Agent</a> or <a data-link-type="dfn" href="#application" id="ref-for-application①⓪④">Application</a> after granting them access to some scope of data as the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤④">Access Grant Subject</a> of an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⑤">Access Grant</a>.</p>
   <p><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④①">Access Receipts</a> extend the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⑥">Access Grant</a> class with additional
properties that provide context to the recipient. Otherwise, they
retain the same structure, linked to any <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦⑤">Access Need Groups</a> used to
formulate the <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⑦">Access Grant</a>, as well as any <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant⑨⑨">Data Grants</a>, <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤②">Remote Data Grants</a>, or <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⑥">Trusted Grants</a> that detail the scope
of access granted.</p>
   <figure id="fig-access-receipt">
    <figcaption>An <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④②">Access Receipt</a> at
  https://bob.pod.example/receipts/fa6d6553-0308-4abd-bce6-888df653695a#receipt </figcaption>
<pre class="highlight"><c- g>&lt;#receipt></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>AccessReceipt</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- nn>https</c-><c- p>:</c->//bob<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- nn>https</c-><c- p>:</c->//trusted<c- p>.</c->example/id<c- c>#agent ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>providedAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c-> <c- nn>https</c-><c- p>:</c->//alice<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>viaAgent</c-> <c- nn>https</c-><c- p>:</c->//alice<c- p>.</c->pod<c- p>.</c->example/profile/id<c- c>#me ;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantSubject</c-> <c- g>&lt;#grant-subject></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> <c- g>&lt;#need-group-pm></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> <c- g>&lt;#data-grant-project></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classAccessReceipt">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#AccessReceipt">AccessReceipt</a> a rdfs:subClassOf <a href="interop.ttl#AccessGrant">AccessGrant</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥①">Agent</a> that registered the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④③">Access Receipt</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application①⓪⑤">Application</a> used to create the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④④">Access Receipt</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⑤">Access Receipt</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⑥">Access Receipt</a> was updated
     <tr>
      <td>providedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⑦">Access Receipt</a> was provided
     <tr>
      <td>fromAgent
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥②">Agent</a> whose data is being shared through the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⑧">Access Receipt</a>
     <tr>
      <td>viaAgent
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥③">Agent</a> who granted access and delivered the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt④⑨">Access Receipt</a>.
      This can be different than <code>fromAgent</code> when access is being managed
      by a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent⑦">Trusted Agent</a> of <code>fromAgent</code>.
     <tr>
      <td>hasAccessGrantSubject
      <td><a href="#classAccessGrantSubject">AccessGrantSubject</a>
      <td>Links to the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⑤">Access Grant Subject</a> that was granted access.
     <tr>
      <td>hasAccessNeedGroup
      <td><a href="#classAccessNeedGroup">AccessNeedGroup</a>
      <td>Links to an <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦⑥">Access Need Group</a> associated with the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⓪">Access Receipt</a>.
     <tr>
      <td>hasDataGrant
      <td><a href="#classDataGrant">DataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⓪">Data Grant</a> associated with the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤①">Access Receipt</a>.
     <tr>
      <td>hasTrustedGrant
      <td><a href="#classTrustedGrant">TrustedGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⑦">Trusted Grant</a> associated with the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤②">Access Receipt</a>.
     <tr>
      <td>hasRemoteDataGrant
      <td><a href="#classRemoteDataGrant">RemoteDataGrant</a>
      <td>Links to a <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤③">Remote Data Grant</a> associated with the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤③">Access Receipt</a>.
   </table>
   <p>The <a href="#shexAccessReceipt">AccessReceiptShape</a> is used to validate an instance
of the <a href="#classAccessReceipt">AccessReceipt</a> class.</p>
<pre class="highlight" id="shexAccessReceipt"><c- g>&lt;#AccessReceiptShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-><c- nn>interop</c-><c- p>:</c-><c- f>AccessReceipt</c-><c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI? <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>providedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c-> IRI <c- p>;</c->             <c- c># Agent who sent the receipt</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>viaAgent</c-> IRI <c- p>;</c->             <c- c># Trusted agent on behalf of fromAgent</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessGrantSubject</c-> @<c- g>&lt;#:AccessGrantSubject></c-> <c- p>;</c->  <c- c># Subject / recipient</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessNeedGroup</c-> @<c- g>&lt;#:AccessNeedGroupShape></c->+ <c- p>;</c->
  <c- p>(</c-> <c- nn>interop</c-><c- p>:</c-><c- f>hasDataGrant</c-> @<c- g>&lt;#:DataGrantShape></c->+ |
  <c- nn>interop</c-><c- p>:</c-><c- f>hasTrustedGrant</c-> @<c- g>&lt;#:TrustedGrantShape></c->+ | 
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataGrant</c-> @<c- g>&lt;#:RemoteDataGrantShape></c->+ <c- p>)</c-> <c- p>;</c->
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#AccessReceiptTree">AccessReceiptTree</a> is assigned to a
resource via the <a href="#treeAccessGrantRegistry">AccessGrantRegistryTree</a>, and ensures
that the assigned resource will validate against the <a href="#shexAccessReceipt">AccessReceiptShape</a>.</p>
<pre class="highlight" id="treeAccessReceipt"><c- g>&lt;#AccessReceiptTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#AccessReceiptShape></c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="9.3" id="receipts-hierarchy"><span class="secno">9.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#receipts-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- receipt#set</code>
      <td><a href="#classAccessReceiptRegistrySet">AccessReceiptRegistrySet</a>
      <td><a href="#shexAccessReceiptRegistrySet">AccessReceiptRegistrySetShape</a>
      <td><a href="#treeAccessReceiptRegistrySet">AccessReceiptRegistrySetTree</a>
     <tr>
      <td><code>/receipts/#registry</code>
      <td><a href="#classAccessReceiptRegistry">AccessReceiptRegistry</a>
      <td><a href="#shexAccessReceiptRegistry">AccessReceiptRegistryShape</a>
      <td><a href="#treeAccessReceiptRegistry">AccessReceiptRegistryTree</a>
     <tr>
      <td><code>-- fa6d6553...5a#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
     <tr>
      <td><code>-- d49eae8c...6b#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
     <tr>
      <td><code>-- 506a0cee...02#receipt</code>
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td><a href="#shexAccessReceipt">AccessReceiptShape</a>
      <td><a href="#treeAccessReceipt">AccessReceiptTree</a>
   </table>
   <p>The <a data-link-type="dfn" href="#access-receipt-registry-set" id="ref-for-access-receipt-registry-set②">Access Receipt Registry Set</a> and the <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry⑦">Access Receipt Registry</a> <em class="rfc2119">MAY</em> or <em class="rfc2119">MAY NOT</em> be on the same <a data-link-type="dfn" href="#pod" id="ref-for-pod⑧">pod</a>.</p>
   <p><a data-link-type="dfn" href="#access-receipt-registry-set" id="ref-for-access-receipt-registry-set③">Access Receipt Registry Set</a> and <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry⑧">Access Receipt Registry</a> resources <em class="rfc2119">MAY</em> use any resource or subject names.</p>
   <p><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤④">Access Receipts</a> <em class="rfc2119">MUST</em> use <a href="https://www.ietf.org/rfc/rfc4122.txt">UUIDs</a> for resource names.</p>
   <h3 class="heading settled" data-level="9.4" id="receipts-operations"><span class="secno">9.4. </span><span class="content">Operations</span><a class="self-link" href="#receipts-operations"></a></h3>
   <h4 class="heading settled" data-level="9.4.1" id="provide-access-receipt"><span class="secno">9.4.1. </span><span class="content">Provide Access Receipt</span><a class="self-link" href="#provide-access-receipt"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation takes an input <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⑧">Access Grant</a> and provides
      an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⑤">Access Receipt</a> to the grantee. In the event that
      the grantee is an <a data-link-type="dfn" href="#application" id="ref-for-application①⓪⑥">Application</a> it may provide the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⑥">Access Receipt</a> in the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③④">Application Registration</a> for the <a data-link-type="dfn" href="#application" id="ref-for-application①⓪⑦">Application</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①⓪⑨">Access Grant</a> to provide a receipt for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⑦">Access Receipt</a>
      <td>that was provided for <code>GRANT</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⑥">Access Grant Subject</a> linked via <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>Let <code>AGENT</code> be <code>SUBJECT accessByAgent</code></p>
     <li data-md>
      <p>Let <code>APP</code> be <code>SUBJECT accessByApplication</code></p>
     <li data-md>
      <p>If <code>APP</code> is not empty</p>
      <ol>
       <li data-md>
        <p>If <code>APP receivesAccessReceipt</code> is <code>interop:ReceiptInRegistration</code></p>
        <ol>
         <li data-md>
          <p>Let <code>RECEIPT</code> be result of <a href="#provide-receipt-in-registration">§ 9.4.2 Provide Receipt in Application Registration</a> with
inputs: <code>GRANT</code></p>
        </ol>
       <li data-md>
        <p>If <code>APP receivesAccessReceipt</code> is <code>interop:ReceiptInMessage</code></p>
        <ol>
         <li data-md>
          <p>Let <code>RECEIPT</code> be result of <a href="#provide-receipt-in-message">§ 9.4.3 Provide Receipt in Message</a> with
inputs: <code>GRANT</code></p>
        </ol>
      </ol>
     <li data-md>
      <p>If <code>APP</code> is empty and <code>AGENT</code> is not empty</p>
      <ol>
       <li data-md>
        <p>Return error if <code>AGENT receivesAccessReceipt</code> is not <code>interop:ReceiptInMessage</code></p>
       <li data-md>
        <p>Let <code>RECEIPT</code> be result of <a href="#provide-receipt-in-message">§ 9.4.3 Provide Receipt in Message</a> with inputs: <code>GRANT</code></p>
      </ol>
     <li data-md>
      <p>Return <code>RECEIPT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.4.2" id="provide-receipt-in-registration"><span class="secno">9.4.2. </span><span class="content">Provide Receipt in Application Registration</span><a class="self-link" href="#provide-receipt-in-registration"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation provides an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⑧">Access Receipt</a> for an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①⓪">Access Grant</a> in the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③⑤">Application Registration</a> of the <a data-link-type="dfn" href="#application" id="ref-for-application①⓪⑧">Application</a> in
      the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⑦">Access Grant Subject</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①①">Access Grant</a> to provide a receipt for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑤⑨">Access Receipt</a>
      <td>for <code>GRANT</code> stored in an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration③⑥">Application Registration</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RECEIPT</code> be an empty <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⓪">Access Receipt</a></p>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⑧">Access Grant Subject</a> linked via <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>Let <code>GRANTOR</code> be the current <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥④">Agent</a></p>
     <li data-md>
      <p>Let <code>OWNER</code> be the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⑤">Agent</a> owner of the storage access is being granted from</p>
     <li data-md>
      <p>Let <code>APP</code> be <code>SUBJECT accessByApplication</code></p>
     <li data-md>
      <p>Let <code>RECEIPT fromAgent</code> be <code>OWNER</code></p>
     <li data-md>
      <p>Let <code>RECEIPT viaAgent</code> be <code>GRANTOR</code></p>
     <li data-md>
      <p>Let <code>RECEIPT providedAt</code> be the current time</p>
     <li data-md>
      <p>Let <code>RECEIPT hasAccessGrantSubject</code> be <code>SUBJECT</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasAccessNeedGroup</code> be all <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦⑦">Access Need Groups</a> linked via <code>GRANT hasAccessNeedGroup</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasDataGrant</code> be all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪①">Data Grants</a> linked via <code>GRANT hasDataGrant</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasTrustedGrant</code> be all <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⑧">Trusted Grants</a> linked via <code>GRANT hasTrustedGrant</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasRemoteDataGrant</code> be all <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤④">Remote Data Grants</a> linked via <code>GRANT hasRemoteDataGrant</code></p>
     <li data-md>
      <p>Let <code>APPREG</code> be result of <a href="#appreg-loadappreg">§ 4.5.1 Load Application Registration</a> with
inputs: <code>OWNER</code>, <code>APP</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#appreg-registerapp">§ 4.5.2 Register Application</a> if <code>APPREG</code> is empty</p>
      </ol>
     <li data-md>
      <p>Post <code>RECEIPT</code> to <code>APPREG</code> container</p>
     <li data-md>
      <p>Let <code>CURRENT</code> be <code>APPREG hasAccessReceipt</code></p>
     <li data-md>
      <p>Remove <code>CURRENT</code> if it exists</p>
     <li data-md>
      <p>Let <code>APPREG hasAccessReceipt</code> be <code>CURRENT</code></p>
     <li data-md>
      <p>Return <code>RECEIPT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.4.3" id="provide-receipt-in-message"><span class="secno">9.4.3. </span><span class="content">Provide Receipt in Message</span><a class="self-link" href="#provide-receipt-in-message"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation provides an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥①">Access Receipt</a> for an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①②">Access Grant</a> to a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⑥">Agent</a> by delivering it to their access inbox.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>GRANT</code>
      <td><a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①③">Access Grant</a> to provide a receipt for
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥②">Access Receipt</a>
      <td>for <code>GRANT</code> posted to the grantee <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⑦">Agent’s</a> access inbox
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RECEIPT</code> be an empty <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥③">Access Receipt</a></p>
     <li data-md>
      <p>Let <code>SUBJECT</code> be the <a data-link-type="dfn" href="#access-grant-subject" id="ref-for-access-grant-subject⑤⑨">Access Grant Subject</a> linked via <code>GRANT hasAccessGrantSubject</code></p>
     <li data-md>
      <p>Let <code>GRANTEE</code> be <code>SUBJECT accessByAgent</code></p>
     <li data-md>
      <p>Let <code>GRANTOR</code> be the current <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⑧">Agent</a></p>
     <li data-md>
      <p>Let <code>OWNER</code> be the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑥⑨">Agent</a> owner of the storage access is being granted from</p>
     <li data-md>
      <p>Let <code>RECEIPT fromAgent</code> be <code>OWNER</code></p>
     <li data-md>
      <p>Let <code>RECEIPT viaAgent</code> be <code>GRANTOR</code></p>
     <li data-md>
      <p>Let <code>RECEIPT providedAt</code> be the current time</p>
     <li data-md>
      <p>Let <code>RECEIPT hasAccessGrantSubject</code> be <code>SUBJECT</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasAccessNeedGroup</code> be all <a data-link-type="dfn" href="#access-need-group" id="ref-for-access-need-group⑦⑧">Access Need Groups</a> linked via <code>GRANT hasAccessNeedGroup</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasDataGrant</code> be all <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪②">Data Grants</a> linked via <code>GRANT hasDataGrant</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasTrustedGrant</code> be all <a data-link-type="dfn" href="#trusted-grant" id="ref-for-trusted-grant③⑨">Trusted Grants</a> linked via <code>GRANT hasTrustedGrant</code></p>
     <li data-md>
      <p>Let <code>RECEIPT hasRemoteDataGrant</code> be all <a data-link-type="dfn" href="#remote-data-grant" id="ref-for-remote-data-grant⑤⑤">Remote Data Grants</a> linked via <code>GRANT hasRemoteDataGrant</code></p>
     <li data-md>
      <p>Post <code>RECEIPT</code> to <code>GRANTEE hasAccessInbox</code></p>
     <li data-md>
      <p>Return <code>RECEIPT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.4.4" id="record-access-receipt"><span class="secno">9.4.4. </span><span class="content">Record Access Receipt</span><a class="self-link" href="#record-access-receipt"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation stores a new <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥④">Access Receipt</a> in
      an <a data-link-type="dfn" href="#access-grant-registry" id="ref-for-access-grant-registry②⑦">Access Grant Registry</a>, which in turn will update <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry⑧">Remote Data Registries</a> to reflect the access granted in the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⑤">Access Receipt</a>.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RECEIPT</code>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⑥">Access Receipt</a> to record
     <tr>
      <td><code>REGISTRY</code>
      <td><a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry⑨">Access Receipt Registry</a> to store receipts in
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⑦">Access Receipt</a>
      <td>Stored in <code>REGISTRY</code> with corresponding entries in the <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry⑨">Remote Data Registry</a>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>CURRENT</code> be an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⑧">Access Receipt</a> returned by <a href="#load-access-receipt">§ 9.4.5 Load Access Receipt</a> with
inputs: <code>RECEIPT fromAgent</code>, <code>REGISTRY</code></p>
     <li data-md>
      <p>If <code>CURRENT</code> is empty</p>
      <ol>
       <li data-md>
        <p>Add <code>RECEIPT</code> to <code>REGISTRY</code></p>
       <li data-md>
        <p>Link <code>RECEIPT</code> to <code>REGISTRY</code> via <code>REGISTRY hasRegistration</code></p>
      </ol>
     <li data-md>
      <p>If <code>CURRENT</code> is not empty</p>
      <ol>
       <li data-md>
        <p>Update <code>CURRENT</code> with <code>RECEIPT</code></p>
      </ol>
     <li data-md>
      <p>Call <a href="#update-remote-data">§ 10.4.3 Update Remote Data</a> with inputs: <code>RECEIPT</code></p>
     <li data-md>
      <p>Return <code>RECEIPT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="9.4.5" id="load-access-receipt"><span class="secno">9.4.5. </span><span class="content">Load Access Receipt</span><a class="self-link" href="#load-access-receipt"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation looks up an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑥⑨">Access Receipt</a> in
      an <a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry①⓪">Access Receipt Registry</a> <code>REGISTRY</code> based on the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⓪">Agent</a> owner of the data that was shared.</p>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>AGENT</code>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦①">Agent</a> owner of the shared data
     <tr>
      <td><code>REGISTRY</code>
      <td><a data-link-type="dfn" href="#access-receipt-registry" id="ref-for-access-receipt-registry①①">Access Receipt Registry</a> to lookup
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⓪">Access Receipt</a>
      <td>Corresponding to <code>AGENT</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦①">Access Receipt</a> <code>RECEIPT</code> included in <code>REGISTRY hasRegistration</code></p>
      <ol>
       <li data-md>
        <p>return <code>RECEIPT</code> if <code>RECEIPT fromAgent</code> == <code>AGENT</code></p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="10" id="remote"><span class="secno">10. </span><span class="content">Remote Data Registration</span><a class="self-link" href="#remote"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="remote-overview"><span class="secno">10.1. </span><span class="content">Overview</span><a class="self-link" href="#remote-overview"></a></h3>
   <p>Remote Data Registration lets <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦②">Agents</a> keep track of data that other <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦③">Agents</a> have shared with them.</p>
   <p>When an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦④">Agent</a> shares data with another <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⑤">Agent</a>, they record that
decision with an <a data-link-type="dfn" href="#access-grant" id="ref-for-access-grant①①④">Access Grant</a>, and send an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦②">Access Receipt</a> to the
grantee. The <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦③">Access Receipt</a> is used to update the grantee’s <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⓪">Remote Data Registry</a> with pointers to that remote data that was
shared with them.</p>
   <h3 class="heading settled" data-level="10.2" id="remote-datamodel"><span class="secno">10.2. </span><span class="content">Data Model</span><a class="self-link" href="#remote-datamodel"></a></h3>
   <h4 class="heading settled" data-level="10.2.1" id="datamodel-remote-registry-set"><span class="secno">10.2.1. </span><span class="content">Remote Data Registry Set</span><a class="self-link" href="#datamodel-remote-registry-set"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remote-data-registry-set">Remote Data Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set②③">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①①">Remote Data Registries</a>.</p>
   <figure id="fig-remote-registry-set">
    <figcaption>A <a data-link-type="dfn" href="#remote-data-registry-set" id="ref-for-remote-data-registry-set①">Remote Data Registry Set</a> at
   https://bob.pod.example/profile/remote#set linking to two different <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①②">Remote Data Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistrySet</c-><c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> 
    <c- g>&lt;https://alice.pod.example/remote/#registry></c-> <c- p>,</c->
    <c- g>&lt;https://alice.otherpod.example/remote/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classRemoteDataRegistrySet">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3" text-align="left"> <a href="interop.ttl#RemoteDataRegistrySet">RemoteDataRegistrySet</a> a rdfs:subClassOf <a href="#datamodel-agent">RegistrySet</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRegistry
      <td>Registry
      <td>Link to associated <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①③">Remote Data Registries</a>
   </table>
   <p>The <a href="#shexRemoteDataRegistrySet">RemoteDataRegistrySetShape</a> is used to
validate an instance of the <a href="#classRemoteDataRegistrySet">RemoteDataRegistrySet</a> class.</p>
<pre class="highlight" id="shexRemoteDataRegistrySet"><c- g>&lt;#RemoteDataRegistrySetShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistrySet</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRegistry</c-> IRI+
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#RemoteDataRegistrySetTree">RemoteDataRegistrySetTree</a> is assigned to a resource to ensure it will validate against the <a href="#shexRemoteDataRegistrySet">RemoteDataRegistrySetShape</a>.</p>
<pre class="highlight" id="treeRemoteDataRegistrySet"><c- g>&lt;#RemoteDataRegistrySetTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeResource</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#RemoteDataRegistrySetShape></c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="10.2.2" id="datamodel-remote-data-registry"><span class="secno">10.2.2. </span><span class="content">Remote Data Registry</span><a class="self-link" href="#datamodel-remote-data-registry"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remote-data-registry">Remote Data Registry</dfn> is a collection of <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②③">Remote Data Registrations</a> stored in a specific location in a <a data-link-type="dfn" href="#pod" id="ref-for-pod⑨">pod</a>.</p>
   <figure id="fig-remote-registry">
    <figcaption>An <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①④">Remote Data Registry</a> at
  https://alice.pod.example/remote/#registry
  linking to several <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②④">Remote Data Registrations</a> </figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistry</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistration</c->
    <c- g>&lt;9e80126d-178f-4a03-851b-c731194a3b0d/#registration></c-> <c- p>,</c->
    <c- g>&lt;833ab294-9f29-4059-b76f-00efc251f2dd/#registration></c-> <c- p>,</c->
    <c- g>&lt;656a8fd0-7cac-46a3-8b84-06f227822656/#registration></c-> <c- p>.</c->      
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classRemoteDataRegistry">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#RemoteDataRegistry">RemoteDataRegistry</a> a rdfs:subClassOf <a href="interop.ttl#Registry">Registry</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>hasRemoteDataRegistration
      <td><a href="interop.ttl#RemoteDataRegistration">RemoteDataRegistration</a>
      <td>Link to associated <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⑤">Remote Data Registrations</a>
   </table>
   <p>The <a href="#shexRemoteDataRegistry">RemoteDataRegistryShape</a> is used to
validate an instance of the <a href="#classRemoteDataRegistry">RemoteDataRegistry</a> class.</p>
<pre class="highlight" id="shexRemoteDataRegistry"><c- g>&lt;#RemoteDataRegistryShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistry</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteDataRegistration</c-> IRI* 
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#RemoteDataRegistryTree">RemoteDataRegistryTree</a> is assigned to a container resource to ensure that it will validate against the <a href="#shexRemoteDataRegistry">RemoteDataRegistryShape</a>, and contain only
conformant instances of the <a href="#treeRemoteDataRegistration">RemoteDataRegistrationTree</a>.</p>
<pre class="highlight" id="treeRemoteDataRegistry"><c- g>&lt;#RemoteDataRegistryTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#RemoteDataRegistryShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#RemoteDataRegistrationTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="10.2.3" id="datamodel-remote-data-registration"><span class="secno">10.2.3. </span><span class="content">Remote Data Registration</span><a class="self-link" href="#datamodel-remote-data-registration"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remote-data-registration">Remote Data Registration</dfn> represents data shared by other <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⑥">Agents</a> corresponding to a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑤⑨">shape tree</a>, each of which is associated 
with a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⑧">Remote Agent Data Registration</a>.</p>
   <p>Each <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration③⑨">Remote Agent Data Registration</a> creates a useful authorization
boundary for remote data from a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⑦">Agent</a>.</p>
   <figure id="fig-remote-data-registration">
    <figcaption>A <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⑥">Remote Data Registration</a> for a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥⓪">shape tree</a> at
  https://alice.pod.example/remote/9e80126d-178f-4a03-851b-c731194a3b0d/#set
  linking to several <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⓪">Remote Agent Data Registrations</a> </figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistration</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>project</c-><c- p>:</c-><c- f>ProjectTree</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteAgentDataRegistration</c->
    <c- g>&lt;f0ebbd29-3a5a-4770-af29-cdb7693066b4/#registration></c-> <c- p>,</c->
    <c- g>&lt;bedcc388-f303-4059-8645-2e93bf61e9f3/#registration></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classRemoteDataRegistration">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#RemoteDataRegistration">RemoteDataRegistration</a> a rdfs:subClassOf <a href="interop.ttl#Registration">Registration</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⑧">Agent</a> that registered the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⑦">Remote Data Registration</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application①⓪⑨">Application</a> used to create the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⑧">Remote Data Registration</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration②⑨">Remote Data Registration</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⓪">Remote Data Registration</a> was updated
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td>Associated shape tree that all linked <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④①">Remote Agent Data Registrations</a> must conform to
     <tr>
      <td>hasRemoteAgentDataRegistration
      <td><a href="interop.ttl#RemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td>Link to associated <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④②">Remote Agent Data Registrations</a>
   </table>
   <p>The <a href="#shexRemoteDataRegistration">RemoteDataRegistrationShape</a> is used to
validate an instance of the <a href="#classRemoteDataRegistration">RemoteDataRegistration</a> class.</p>
<pre class="highlight" id="shexRemoteDataRegistration"><c- g>&lt;#RemoteDataRegistrationShape></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteDataRegistration</c-> <c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->  
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI 
  <c- nn>interop</c-><c- p>:</c-><c- f>hasRemoteAgentDataRegistration</c-> IRI* <c- p>;</c->
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#RemoteDataRegistrationTree">RemoteDataRegistrationTree</a> is assigned to a container resource to ensure that it will validate against the <a href="#shexRemoteDataRegistration">RemoteDataRegistrationShape</a>, and contain 
only conformant instances of the <a href="#treeRemoteAgentDataRegistration">RemoteAgentDataRegistrationTree</a>.</p>
<pre class="highlight" id="treeRemoteDataRegistration"><c- g>&lt;#RemoteDataRegistrationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#RemoteDataRegistrationShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#RemoteAgentDataRegistrationTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h4 class="heading settled" data-level="10.2.4" id="datamodel-remote-agent-data-registration"><span class="secno">10.2.4. </span><span class="content">Remote Agent Data Registration</span><a class="self-link" href="#datamodel-remote-agent-data-registration"></a></h4>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑦⑨">Agent</a> maintains a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="remote-agent-data-registration">Remote Agent Data Registration</dfn> to represent
access to a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⑤">Data Registration</a> that another <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⓪">Agent</a> has shared with them. It
may represent access to the entire <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⑥">Data Registration</a>, or only to a
select group of <a data-link-type="dfn" href="#data-instance" id="ref-for-data-instance⑨⑦">Data Instances</a> within.</p>
   <p>A <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④③">Remote Agent Data Registration</a> is created when an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧①">Agent</a> receives an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦④">Access Receipt</a> from another <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧②">Agent</a> that includes access to a given <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⑦">Data Registration</a>.</p>
   <ul>
    <li data-md>
     <p>A <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④④">Remote Agent Data Registration</a> MUST be associated with at least
one <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪③">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑦⑨">Referenced Data Grant</a> sourced from the <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⑤">Access Receipt</a> linked via <code>hasAccessReceipt</code></p>
    <li data-md>
     <p>Each associated <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪④">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⓪">Referenced Data Grant</a> MUST
be stored as an individual resource in the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⑤">Remote Agent Data Registration</a> container.</p>
    <li data-md>
     <p>If an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⑥">Access Receipt</a> with a corresponding <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⑤">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧①">Referenced Data Grant</a> is received
that changes the access to a shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⑧">Data Registration</a>, the
corresponding <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⑥">Remote Agent Data Registrations</a>, stored <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⑥">Data Grants</a>, and/or stored <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧②">Referenced Data Grants</a> MUST be updated, 
and removed altogether if that access is removed.</p>
   </ul>
   <figure id="fig-remote-agent-data-registration">
    <figcaption>A <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⑦">Remote Agent Data Registration</a> at
  https://alice.pod.example/remote/9e80126d-178f-4a03-851b-c731194a3b0d/f0ebbd29-3a5a-4770-af29-cdb7693066b4/#registration </figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>interop</c-><c- p>:</c-><c- f>RemoteAgentDataRegistration</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/id#agent></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- s>"2020-09-05T06:15:01Z"</c-><c- p>^^</c-><c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> <c- nn>project</c-><c- p>:</c-><c- f>ProjectTree</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> 
    <c- g>&lt;https://bob.pod.example/data/project-tree/#registration></c-> <c- p>;</c->    
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c->
    <c- g>&lt;https://bob.pod.example/profile/id#me></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceipt</c->
    <c- g>&lt;https://bob.pod.example/receipts/fa6d6553-0308-4abd-bce6-888df653695a#receipt></c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesDataGrant</c->
    <c- g>&lt;cd04e76b-d64d-4cea-aacf-fb248a295002#instance></c-> <c- p>.</c->
</pre>
   </figure>
   <table align="left" class="classinfo data" id="classRemoteAgentDataRegistration">
    <colgroup>
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="3"> <a href="interop.ttl#RemoteAgentDataRegistration">RemoteAgentDataRegistration</a> a rdfs:subClassOf <a href="interop.ttl#Registration">Registration</a> 
     <tr>
      <th>Property
      <th>Range
      <th>Description
    <tbody>
     <tr>
      <td>registeredBy
      <td><a href="#classAgent">Agent</a>
      <td><a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧③">Agent</a> that registered the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⑧">Remote Agent Data Registration</a>
     <tr>
      <td>registeredWith
      <td><a href="#classApplication">Application</a>
      <td><a data-link-type="dfn" href="#application" id="ref-for-application①①⓪">Application</a> used to create the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration④⑨">Remote Agent Data Registration</a>
     <tr>
      <td>registeredAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⓪">Remote Agent Data Registration</a> was created
     <tr>
      <td>updatedAt
      <td>xsd:dateTime
      <td>Date and time the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤①">Remote Agent Data Registration</a> was updated
     <tr>
      <td>registeredShapeTree
      <td>st:ShapeTree
      <td>Shape tree associated with the shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑧⑨">Data Registration</a>
     <tr>
      <td>hasDataRegistration
      <td><a href="#classDataRegistration">DataRegistration</a>
      <td>Link to the <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⓪">Data Registration</a> that was shared
     <tr>
      <td>fromAgent
      <td><a href="#classAgent">Agent</a>
      <td>Link to the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧④">Agent</a> who the shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨①">Data Registration</a> belongs to
     <tr>
      <td>hasAccessReceipt
      <td><a href="#classAccessReceipt">AccessReceipt</a>
      <td>Link to <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⑦">Access Receipt</a> representing data share
     <tr>
      <td>satisfiesDataGrant
      <td><a href="#classDataGrant">DataGrant</a>, <a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td>Link to <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⑦">Data Grants</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧③">Referenced Data Grants</a> that
      detail the scope of access shared from <code>fromAgent</code> for 
      the shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨②">Data Registration</a>. These are contained in the
      linked <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⑧">Access Receipt</a>, but each is added as a resource
      into the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤②">Remote Agent Data Registration</a> container, for
      authorization boundary purposes.
   </table>
   <p>The <a href="#shexRemoteAgentDataRegistration">RemoteAgentDataRegistrationShape</a> is used to validate an instance of the <a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a> class.</p>
<pre class="highlight" id="shexRemoteAgentDataRegistration"><c- g>&lt;#RemoteAgentDataRegistration></c-> <c- p>{</c->
  <c- b>a</c-> <c- p>[</c-><c- nn>interop</c-><c- p>:</c-><c- f>RemoteAgentDataRegistration</c-><c- p>]</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredBy</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredWith</c-> IRI <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>updatedAt</c-> <c- nn>xsd</c-><c- p>:</c-><c- f>dateTime</c-> <c- p>;</c->
  <c- nn>interop</c-><c- p>:</c-><c- f>hasDataRegistration</c-> IRI <c- p>;</c->         
  <c- nn>interop</c-><c- p>:</c-><c- f>fromAgent</c-> IRI <c- p>;</c->                   
  <c- nn>interop</c-><c- p>:</c-><c- f>registeredShapeTree</c-> IRI <c- p>;</c->         
  <c- nn>interop</c-><c- p>:</c-><c- f>hasAccessReceipt</c-> IRI* <c- p>;</c->           
  <c- nn>interop</c-><c- p>:</c-><c- f>satisfiesDataGrant</c-> IRI+           
<c- p>}</c->
</pre>
   <p>The <a href="interop.tree#RemoteAgentDataRegistrationTree">RemoteAgentDataRegistrationTree</a> is assigned to a resource via the <a href="#treeRemoteDataRegistration">RemoteDataRegistrationTree</a>, and ensures
that the assigned resource will validate against the <a href="#shexRemoteAgentDataRegistration">RemoteAgentDataRegistrationShape</a>.</p>
<pre class="highlight" id="treeRemoteAgentDataRegistration"><c- g>&lt;#RemoteAgentDataRegistrationTree></c->
  <c- b>a</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTree</c-><c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>expectsType</c-> <c- nn>st</c-><c- p>:</c-><c- f>ShapeTreeContainer</c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>validatedBy</c-> <c- g>&lt;interops#RemoteAgentDataRegistrationShape></c-> <c- p>;</c->
  <c- nn>st</c-><c- p>:</c-><c- f>contains</c-> <c- g>&lt;#DataGrantTree></c-> <c- p>,</c->
              <c- g>&lt;#ReferencedDataGrantTree></c-> <c- p>,</c->
              <c- nn>st</c-><c- p>:</c-><c- f>AllowNone</c-> <c- p>.</c->
</pre>
   <h3 class="heading settled" data-level="10.3" id="remote-hierarchy"><span class="secno">10.3. </span><span class="content">Resource Hierarchy</span><a class="self-link" href="#remote-hierarchy"></a></h3>
   <table align="left" class="data tree">
    <colgroup>
     <col>
     <col>
     <col>
     <col>
    <thead>
     <tr>
      <th>Resource
      <th>Class
      <th>Shape
      <th>Shape Tree
    <tbody>
     <tr>
      <td><code>/profile/</code>
      <td>-
      <td>-
      <td><a href="#treeAgent">ProfileTree</a>
     <tr>
      <td><code>-- remote#set</code>
      <td><a href="#classRemoteDataRegistrySet">RemoteDataRegistrySet</a>
      <td><a href="#shexRemoteDataRegistrySet">RemoteDataRegistrySetShape</a>
      <td><a href="#treeRemoteDataRegistrySet">RemoteDataRegistrySetTree</a>
     <tr>
      <td><code>/remote/#registry</code>
      <td><a href="#classRemoteDataRegistry">RemoteDataRegistry</a>
      <td><a href="#shexRemoteDataRegistry">RemoteDataRegistryShape</a>
      <td><a href="#treeRemoteDataRegistry">RemoteDataRegistryTree</a>
     <tr>
      <td><code>-- 9e80126d...0d/#reg...</code>
      <td><a href="#classRemoteDataRegistration">RemoteDataRegistration</a>
      <td><a href="#shexRemoteDataRegistration">RemoteDataRegistrationShape</a>
      <td><a href="#treeRemoteDataRegistration">RemoteDataRegistrationTree</a>
     <tr>
      <td><code>---- f0ebbd29...b4/#reg...</code>
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td><a href="#shexRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
      <td><a href="#treeRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
     <tr>
      <td><code>------ cd04e76b...02#dg</code>
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a href="#shexDataGrant">DataGrantShape</a>
      <td><a href="#treeDataGrant">DataGrantTree</a>
     <tr>
      <td><code>------ 9506b58f...eb#rdg</code>
      <td><a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td><a href="#shexReferencedDataGrant">ReferencedDataGrantShape</a>
      <td><a href="#treeReferencedDataGrant">ReferencedDataGrantTree</a>
     <tr>
      <td><code>---- bedcc388...f3/#reg...</code>
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td><a href="#shexRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
      <td><a href="#treeRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
     <tr>
      <td><code>------ fe111165a...01#dg</code>
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a href="#shexDataGrant">DataGrantShape</a>
      <td><a href="#treeDataGrant">DataGrantTree</a>
     <tr>
      <td><code>-- 833ab294...dd/#reg...</code>
      <td><a href="#classRemoteDataRegistration">RemoteDataRegistration</a>
      <td><a href="#shexRemoteDataRegistration">RemoteDataRegistrationShape</a>
      <td><a href="#treeRemoteDataRegistration">RemoteDataRegistrationTree</a>
     <tr>
      <td><code>---- 265dff0c...12/#reg...</code>
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td><a href="#shexRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
      <td><a href="#treeRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
     <tr>
      <td><code>------ 62262350...4a#rdg</code>
      <td><a href="#classReferencedDataGrant">ReferencedDataGrant</a>
      <td><a href="#shexReferencedDataGrant">ReferencedDataGrantShape</a>
      <td><a href="#treeReferencedDataGrant">ReferencedDataGrantTree</a>
     <tr>
      <td><code>-- 656a8fd0...56/#reg...</code>
      <td><a href="#classRemoteDataRegistration">RemoteDataRegistration</a>
      <td><a href="#shexRemoteDataRegistration">RemoteDataReg...</a>
      <td><a href="#treeRemoteDataRegistration">RemoteDataReg...</a>
     <tr>
      <td><code>---- f68e95eb...15/#reg...</code>
      <td><a href="#classRemoteAgentDataRegistration">RemoteAgentDataRegistration</a>
      <td><a href="#shexRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
      <td><a href="#treeRemoteAgentDataRegistration">RemoteAgentDataReg...</a>
     <tr>
      <td><code>------ a2752e58...b6#dg</code>
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a href="#shexDataGrant">DataGrantShape</a>
      <td><a href="#treeDataGrant">DataGrantTree</a>
     <tr>
      <td><code>------ d1133f58...60#dg</code>
      <td><a href="#classDataGrant">DataGrant</a>
      <td><a href="#shexDataGrant">DataGrantShape</a>
      <td><a href="#treeDataGrant">DataGrantTree</a>
   </table>
   <p>The <a data-link-type="dfn" href="#remote-data-registry-set" id="ref-for-remote-data-registry-set②">Remote Data Registry Set</a> and the <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⑤">Remote Data Registry</a> <em class="rfc2119">MAY</em> or <em class="rfc2119">MAY NOT</em> be on the same <a data-link-type="dfn" href="#pod" id="ref-for-pod①⓪">pod</a>.</p>
   <p><a data-link-type="dfn" href="#remote-data-registry-set" id="ref-for-remote-data-registry-set③">Remote Data Registry Set</a> and <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⑥">Remote Data Registry</a> resources <em class="rfc2119">MAY</em> use any resource or subject names.</p>
   <p><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③①">Remote Data Registrations</a>, <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤③">Remote Agent Data Registrations</a>, <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⑧">Data Grants</a>, and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧④">Referenced Data Grants</a> <em class="rfc2119">MUST</em> use <a href="https://www.ietf.org/rfc/rfc4122.txt">UUIDs</a> for resource names.</p>
   <p><a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤④">Remote Agent Data Registrations</a> are organized under <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③②">Remote Data Registrations</a> by <code>interop:registeredShapeTree</code> to
provide rational boundaries for authorization.</p>
   <p><a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①⓪⑨">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⑤">Referenced Data Grants</a> are extracted from the
associated <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑦⑨">Access Receipt</a> are stored individually under 
the relevant <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⑤">Remote Agent Data Registration</a>, and linked to it via <code>interop:satisfiesDataGrant</code>. This allows the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⑤">Agent</a> to limit
remote data access by grant for a given <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⑥">Remote Agent Data Registration</a>.</p>
   <h3 class="heading settled" data-level="10.4" id="remote-operations"><span class="secno">10.4. </span><span class="content">Operations</span><a class="self-link" href="#remote-operations"></a></h3>
   <ul>
    <li data-md>
     <p><a href="#load-remote-data">§ 10.4.1 Load Remote Data Registration</a> - Lookup a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③③">Remote Data Registration</a> by <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥①">shape tree</a></p>
    <li data-md>
     <p><a href="#create-remote-data">§ 10.4.2 Create Remote Data Registration</a> - Create a new <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③④">Remote Data Registration</a></p>
    <li data-md>
     <p><a href="#update-remote-data">§ 10.4.3 Update Remote Data</a> - Updates a <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⑦">Remote Data Registry</a> based on the contents
of an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧⓪">Access Receipt</a></p>
    <li data-md>
     <p><a href="#load-remote-agent-data">§ 10.4.4 Load Remote Agent Data Registration</a> - Lookup a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⑦">Remote Agent Data Registration</a> by URI
of the shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨③">Data Registration</a></p>
    <li data-md>
     <p><a href="#create-remote-agent-data">§ 10.4.5 Create Remote Agent Data Registration</a> - Create a new <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⑧">Remote Agent Data Registration</a></p>
    <li data-md>
     <p><a href="#update-remote-agent-data">§ 10.4.6 Update Remote Agent Data Registration</a> - Update a specific <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑤⑨">Remote Agent Data Registration</a></p>
   </ul>
   <h4 class="heading settled" data-level="10.4.1" id="load-remote-data"><span class="secno">10.4.1. </span><span class="content">Load Remote Data Registration</span><a class="self-link" href="#load-remote-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Lookup a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⑤">Remote Data Registration</a> for a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥②">shape tree</a> <code>TREE</code> in a <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⑧">Remote Data Registry</a> <code>REGISTRY</code> 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TREE</code>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥③">shape tree</a> for the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⑥">Remote Data Registration</a>
     <tr>
      <td><code>REGISTRY</code>
      <td>The <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry①⑨">Remote Data Registry</a> to search for a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⑦">Remote Data Registration</a>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⑧">Remote Data Registration</a>
      <td>Corresponding to <code>TREE</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration③⑨">Remote Data Registration</a> <code>RDR</code> in <code>REGISTRY</code> linked via <code>REGISTRY hasRemoteDataRegistration</code></p>
      <ol>
       <li data-md>
        <p>return <code>RDR</code> if <code>RDR registeredShapeTree</code> == <code>TREE</code></p>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="10.4.2" id="create-remote-data"><span class="secno">10.4.2. </span><span class="content">Create Remote Data Registration</span><a class="self-link" href="#create-remote-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Create a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④⓪">Remote Data Registration</a> for a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥④">shape tree</a> <code>TREE</code> in a <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②⓪">Remote Data Registry</a> <code>REGISTRY</code> 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>TREE</code>
      <td>The <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥⑤">shape tree</a> for the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④①">Remote Data Registration</a>
     <tr>
      <td><code>REGISTRY</code>
      <td>The <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②①">Remote Data Registry</a> for the <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④②">Remote Data Registration</a>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④③">Remote Data Registration</a>
      <td>Corresponding to <code>TREE</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>EXISTING</code> be a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④④">Remote Data Registration</a> returned by <a href="#load-remote-data">§ 10.4.1 Load Remote Data Registration</a> with inputs: <code>TREE</code>,<code>REGISTRY</code></p>
      <ol>
       <li data-md>
        <p>Error if <code>EXISTING</code></p>
      </ol>
     <li data-md>
      <p>Let <code>RDR</code> be an empty <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④⑤">Remote Data Registration</a></p>
     <li data-md>
      <p>Let <code>RDR registeredBy</code> be the current <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⑥">Agent</a></p>
     <li data-md>
      <p>Let <code>RDR registeredWith</code> be the current <a data-link-type="dfn" href="#application" id="ref-for-application①①①">Application</a></p>
     <li data-md>
      <p>Let <code>RDR registeredAt</code> be the current timestamp</p>
     <li data-md>
      <p>Let <code>RDR updatedAt</code> be the current timestamp</p>
     <li data-md>
      <p>Let <code>RDR registeredShapeTree</code> be <code>TREE</code></p>
     <li data-md>
      <p>PUT <code>RDR</code> into <code>REGISTRY</code> container</p>
     <li data-md>
      <p>Link <code>RDR</code> to <code>REGISTRY</code> via <code>REGISTRY hasRemoteDataRegistration</code></p>
     <li data-md>
      <p>Return <code>RDR</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="10.4.3" id="update-remote-data"><span class="secno">10.4.3. </span><span class="content">Update Remote Data</span><a class="self-link" href="#update-remote-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2">
       <p>This operation updates a <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②②">Remote Data Registry</a> <code>REGISTRY</code> based on
      an input <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧①">Access Receipt</a> <code>RECEIPT</code>.</p>
       <p>It iterates over each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①⓪">Data Grant</a> linked via <code>RECEIPT hasDataGrant</code>,
      including following any <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⑥">Referenced Data Grants</a>.</p>
       <p>All <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①①">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⑦">Referenced Data Grants</a> are added to
      a hash map <code>DRHASH</code>. The key is the shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨④">Data Registration</a> associated
      with each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①②">Data Grant</a> or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⑧">Referenced Data Grant</a> via <code>hasDataRegistration</code>.</p>
       <p>The end result is the keys of <code>DRHASH</code> are a unique
      set of <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⑤">Data Registrations</a> associated with <code>RECEIPT</code>, and each key
      has an array of related <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①③">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑧⑨">Referenced Data Grants</a> as its value.</p>
       <p>Each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⑥">Data Registration</a> and the array of grants that affect it
      are then passed to <a href="#update-remote-agent-data">§ 10.4.6 Update Remote Agent Data Registration</a>.</p>
       <figure id="fig-remote-drhash"> <img src="diagrams/apply-data-permissions-drhash.svg" width="100%/"> </figure>
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>RECEIPT</code>
      <td>An <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧②">Access Receipt</a> representing data shared with an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⑦">Agent</a>
     <tr>
      <td><code>REGISTRY</code>
      <td>A <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②③">Remote Data Registry</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⑧">Agent</a>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧③">Access Receipt</a>
      <td>Updated with remote data associations
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>DRHASH</code> be an empty hash map where a <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⑦">Data Registration</a> is key and
the value is an array of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①④">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑨⓪">Referenced Data Grants</a>.</p>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①⑤">Data Grant</a> <code>DG</code> linked via <code>RECEIPT hasDataGrant</code></p>
      <ol>
       <li data-md>
        <p>Let <code>DRKEY</code> be <code>DG hasDataRegistration</code> added or found in <code>DRHASH</code></p>
       <li data-md>
        <p>Add <code>DG</code> to the value array for <code>DRKEY</code> if missing</p>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑨①">Referenced Data Grant</a> <code>REFDG</code> linked via <code>DG hasReferencedDataGrant</code></p>
        <ol>
         <li data-md>
          <p>Let <code>REFDRKEY</code> be <code>REFDG hasDataRegistration</code> added or found in <code>DRHASH</code></p>
         <li data-md>
          <p>Add <code>REFDG</code> to the array for <code>REFDRKEY</code> if missing</p>
        </ol>
      </ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⑧">Data Registration</a> <code>DR</code> in <code>DRHASH</code></p>
      <ol>
       <li data-md>
        <p>Call <a href="#update-remote-agent-data">§ 10.4.6 Update Remote Agent Data Registration</a> with inputs: <code>DR</code>, <code>DRHASH[DR]</code>, <code>RECEIPT</code></p>
      </ol>
     <li data-md>
      <p>Return <code>RECEIPT</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="10.4.4" id="load-remote-agent-data"><span class="secno">10.4.4. </span><span class="content">Load Remote Agent Data Registration</span><a class="self-link" href="#load-remote-agent-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Lookup a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⓪">Remote Agent Data Registration</a> <code>RADREG</code> in a given <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②④">Remote Data Registry</a> based on the URI of a 
      shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration⑨⑨">Data Registration</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DATAREG</code>
      <td>A shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⓪⓪">Data Registration</a> to lookup
     <tr>
      <td><code>REGISTRY</code>
      <td>A <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②⑤">Remote Data Registry</a> to search
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥①">Remote Agent Data Registration</a>
      <td>Corresponding to <code>DATAREG</code> in <code>REGISTRY</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>For each <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④⑥">Remote Data Registration</a> <code>RDR</code> in <code>REGISTRY</code> linked
via <code>REGISTRY hasRemoteDataRegistration</code></p>
      <ol>
       <li data-md>
        <p>If <code>RDR registeredShapeTree</code> == <code>DATAREG registeredShapeTree</code></p>
       <li data-md>
        <p>For each <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥②">Remote Agent Data Registration</a> <code>RADR</code> linked
  via <code>RDR hasRemoteAgentDataRegistration</code></p>
        <ol>
         <li data-md>
          <p>return <code>RADR</code> if <code>RADR hasDataRegistration</code> == <code>DATAREG</code></p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="10.4.5" id="create-remote-agent-data"><span class="secno">10.4.5. </span><span class="content">Create Remote Agent Data Registration</span><a class="self-link" href="#create-remote-agent-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Creates a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥③">Remote Agent Data Registration</a> in a <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②⑥">Remote Data Registry</a> based on a shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⓪①">Data Registration</a> in an <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧④">Access Receipt</a>. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DR</code>
      <td>The shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⓪②">Data Registration</a>
     <tr>
      <td><code>RECEIPT</code>
      <td>The <a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧⑤">Access Receipt</a> that <code>DR</code> is shared through
     <tr>
      <td><code>REGISTRY</code>
      <td>A <a data-link-type="dfn" href="#remote-data-registry" id="ref-for-remote-data-registry②⑦">Remote Data Registry</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑧⑨">Agent</a>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥④">Remote Agent Data Registration</a>
      <td>Created upon success
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RDR</code> be a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④⑦">Remote Data Registration</a> returned by <a href="#load-remote-data">§ 10.4.1 Load Remote Data Registration</a> with inputs: <code>DR registeredShapeTree</code>, <code>REGISTRY</code></p>
      <ol>
       <li data-md>
        <p>If <code>RDR</code> is missing, let <code>RDR</code> be a <a data-link-type="dfn" href="#remote-data-registration" id="ref-for-remote-data-registration④⑧">Remote Data Registration</a> returned by <a href="#create-remote-data">§ 10.4.2 Create Remote Data Registration</a> with inputs: <code>DR registeredShapeTree</code>, <code>REGISTRY</code></p>
      </ol>
     <li data-md>
      <p>Let <code>RADR</code> be an empty <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⑤">Remote Agent Data Registration</a></p>
     <li data-md>
      <p>Let <code>RADR registeredBy</code> be the current <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⓪">Agent</a></p>
     <li data-md>
      <p>Let <code>RADR registeredWith</code> be the current <a data-link-type="dfn" href="#application" id="ref-for-application①①②">Application</a></p>
     <li data-md>
      <p>Let <code>RADR registeredAt</code> be the current timestamp</p>
     <li data-md>
      <p>Let <code>RADR updatedAt</code> be the current timestamp</p>
     <li data-md>
      <p>Let <code>RADR hasDataRegistration</code> be <code>DR</code></p>
     <li data-md>
      <p>Let <code>RADR registeredShapeTree</code> be <code>DR registeredShapeTree</code></p>
     <li data-md>
      <p>Let <code>RADR fromAgent</code> be <code>RECEIPT fromAgent</code></p>
     <li data-md>
      <p>Let <code>RADR hasAccessReceipt</code> be <code>RECEIPT</code></p>
     <li data-md>
      <p>PUT <code>RADR</code> into the <code>RDR</code> container</p>
     <li data-md>
      <p>Link <code>RADR</code> to <code>RDR</code> via <code>RDR hasRemoteAgentDataRegistration</code></p>
     <li data-md>
      <p>Return <code>RADR</code></p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="10.4.6" id="update-remote-agent-data"><span class="secno">10.4.6. </span><span class="content">Update Remote Agent Data Registration</span><a class="self-link" href="#update-remote-agent-data"></a></h4>
   <table align="left" class="data operation">
    <colgroup>
    <colgroup>
    <thead>
     <tr>
      <th colspan="2">Description
    <tbody>
     <tr>
      <td colspan="2"> Update an existing <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⑥">Remote Agent Data Registration</a> with a set of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①⑥">Data Grants</a> and/or <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑨②">Referenced Data Grants</a>.
      Create the <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⑦">Remote Agent Data Registration</a> if it doesn’t exist. 
    <thead>
     <tr>
      <th colspan="2">Inputs
    <tbody>
     <tr>
      <td><code>DR</code>
      <td>The shared <a data-link-type="dfn" href="#data-registration" id="ref-for-data-registration①⓪③">Data Registration</a>
     <tr>
      <td><code>DATAGRANTS</code>
      <td>An array of <a data-link-type="dfn" href="#data-grant" id="ref-for-data-grant①①⑦">Data Grants</a> and <a data-link-type="dfn" href="#referenced-data-grant" id="ref-for-referenced-data-grant⑨③">Referenced Data Grants</a> associated with <code>DR</code> in <code>RECEIPT</code>
     <tr>
      <td><code>RECEIPT</code>
      <td><a data-link-type="dfn" href="#access-receipt" id="ref-for-access-receipt⑧⑥">Access Receipt</a> associated with <code>DR</code> and <code>DATAGRANTS</code>
    <thead>
     <tr>
      <th colspan="2">Outputs
    <tbody>
     <tr>
      <td><a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⑧">Remote Agent Data Registration</a>
      <td>Updated based on the input <code>DATAGRANTS</code>
   </table>
   <div class="opdetails">
    <ol>
     <li data-md>
      <p>Let <code>RADR</code> be a <a data-link-type="dfn" href="#remote-agent-data-registration" id="ref-for-remote-agent-data-registration⑥⑨">Remote Agent Data Registration</a> returned from
calling <a href="#load-remote-agent-data">§ 10.4.4 Load Remote Agent Data Registration</a> with inputs: <code>DR</code>, <code>REGISTRY</code></p>
     <li data-md>
      <p>If <code>RADR</code> is missing</p>
      <ol>
       <li data-md>
        <p>Call <a href="#create-remote-agent-data">§ 10.4.5 Create Remote Agent Data Registration</a> with inputs: <code>RECEIPT</code>, <code>REGISTRY</code></p>
      </ol>
     <li data-md>
      <p>For each <code>DATAGRANT</code> in <code>DATAGRANTS</code></p>
      <ol>
       <li data-md>
        <p>PUT <code>DATAGRANT</code> into <code>RADR</code> container if it does not already exist</p>
       <li data-md>
        <p>PATCH <code>DATAGRANT</code> in <code>RADR</code> container if it already exists</p>
      </ol>
     <li data-md>
      <p>Return <code>RADR</code></p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="11" id="security"><span class="secno">11. </span><span class="content">Security</span><a class="self-link" href="#security"></a></h2>
   <h3 class="heading settled" data-level="11.1" id="security-appauthz"><span class="secno">11.1. </span><span class="content">Application Authorization</span><a class="self-link" href="#security-appauthz"></a></h3>
   <p>For authorization purposes, client <a data-link-type="dfn" href="#application" id="ref-for-application①①③">Applications</a> in use today fall into
two buckets:</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="strongly-identifiable-applications">Strongly identifiable applications</dfn> can be identified by
third parties independently from the user or <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨①">Agent</a> controlling them.
Only <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-application">server-side applications</a> are
strongly identifiable. As confidential clients, they can keep secrets
and can present attestations and third-party credentials
via DNS / domain certificates.</p>
   <p>In the case of a <a data-link-type="dfn" href="#strongly-identifiable-applications" id="ref-for-strongly-identifiable-applications①">strongly identifiable application</a>, the <a data-link-type="dfn" href="#identity" id="ref-for-identity②⑨">identity</a> of <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨②">Agent</a> and the <a data-link-type="dfn" href="#application" id="ref-for-application①①④">Application</a> are one and the same. The <a data-link-type="dfn" href="#application" id="ref-for-application①①⑤">Application</a> has its own <a data-link-type="dfn" href="#identity" id="ref-for-identity③⓪">identity</a>. A given <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨③">Agent</a> can authorize a given <a data-link-type="dfn" href="#application" id="ref-for-application①①⑥">Application</a> to access data based solely on the <a data-link-type="dfn" href="#identity" id="ref-for-identity③①">identity</a> of that <a data-link-type="dfn" href="#application" id="ref-for-application①①⑦">Application</a>.</p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="weakly-identifiable-applications">Weakly identifiable applications</dfn> include in-browser Javascript <a data-link-type="dfn" href="#application" id="ref-for-application①①⑧">Applications</a> and native desktop or mobile <a data-link-type="dfn" href="#application" id="ref-for-application①①⑨">Applications</a>. They are
considered weakly identifiable because they
are not able to keep secrets on an instance level. They are often referred to
as public clients. Native apps should be strongly-identifiable in theory
(since they are able to keep secrets on an instance level), but not in
practice because the OS manufacturers do not make their trust
infrastructure available. Weakly identifiable clients are only strongly
identifiable to the user or <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨④">Agent</a> controlling them.</p>
   <p>In the case of <a data-link-type="dfn" href="#weakly-identifiable-applications" id="ref-for-weakly-identifiable-applications①">Weakly identifiable applications</a>, the ability for a Solid
pod to limit access to data by the <a data-link-type="dfn" href="#application" id="ref-for-application①②⓪">Application</a> in use is only as strong as
the trustworthiness of the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⑤">Agent</a> piloting that <a data-link-type="dfn" href="#application" id="ref-for-application①②①">Application</a>, along with
their ability to avoid using malicious <a data-link-type="dfn" href="#application" id="ref-for-application①②②">Applications</a>. The <a data-link-type="dfn" href="#identity" id="ref-for-identity③②">identity</a> of the <a data-link-type="dfn" href="#application" id="ref-for-application①②③">Application</a> can be manipulated
by the <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⑥">Agent</a> in control. This means that Alice can strongly control
the <a data-link-type="dfn" href="#application" id="ref-for-application①②④">Applications</a> that she uses to access her own data, but has
limited ability to control the <a data-link-type="dfn" href="#application" id="ref-for-application①②⑤">Applications</a> that Bob uses to access the data
she shares with him.</p>
   <h2 class="heading settled" data-level="12" id="definitions"><span class="secno">12. </span><span class="content">Definitions</span><a class="self-link" href="#definitions"></a></h2>
   <p><b>All definitions as stated below should be considered in the context of
an interoperable <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem④">ecosystem</a> for <a data-link-type="dfn" href="#solid" id="ref-for-solid">Solid</a>, whether explicitly stated
or not.</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="solid">Solid</dfn> is a protocol made up of a number of open web standards
aimed at decentralizing data on the web.</p>
   <p>A Solid <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pod">pod</dfn> is a place for storing and accessing data via
the <a data-link-type="dfn" href="#solid" id="ref-for-solid①">Solid</a> protocol, with mechanisms for controlling who or what can
access that data.</p>
   <p>An interoperable <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ecosystem">ecosystem</dfn> is
a collection of <a data-link-type="dfn" href="#solid" id="ref-for-solid②">Solid</a> compatible <a data-link-type="dfn" href="#application" id="ref-for-application①②⑥">applications</a> developed by one or more
entities, used by a community of users, that can safely access and manipulate
the same kinds of data in <a data-link-type="dfn" href="#pod" id="ref-for-pod①①">pods</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="server-side-application">server-side application</dfn> runs on a dedicated server. They may
also act as autonomous <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agent">authenticated agents</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="user-piloted-application">user-piloted application</dfn> runs on a user’s device, with the user
as the <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agent①">authenticated agent</a>. They include in-browser javascript
applications, native desktop applications, and mobile applications.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authenticated-agent">authenticated agent</dfn> is an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⑦">agent</a> that has strongly
authenticated their <a data-link-type="dfn" href="#identity" id="ref-for-identity③③">identity</a> by proving control of the <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①④">identity profile document</a> via an authentication protocol such as <a data-link-type="biblio" href="#biblio-webid-oidc">[WEBID-OIDC]</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity">identity</dfn> is a unique URI that can be dereferenced
to return an <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①⑤">identity profile document</a>. Compatible
identity systems include <a data-link-type="dfn" href="#webid" id="ref-for-webid">WebID</a> and <a data-link-type="dfn" href="#did" id="ref-for-did">DID</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity-profile-document">identity profile document</dfn> is a linked data document obtained by
dereferencing the URI for a given <a data-link-type="dfn" href="#identity" id="ref-for-identity③④">identity</a>. It provides information that
can be used to prove that a given <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⑧">Agent</a> controls the document.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="webid">WebID</dfn> is a web resource at an HTTP URI which refers to an <a data-link-type="dfn" href="#agent" id="ref-for-agent①⑨⑨">agent</a>. An <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①⑥">identity profile document</a> can be accessed by
dereferencing the WebID. <a data-link-type="biblio" href="#biblio-webid">[WEBID]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="did">DID</dfn> is a URI that associates a DID subject (e.g. an <a data-link-type="dfn" href="#agent" id="ref-for-agent②⓪⓪">agent</a>,
thing, data model, abstract entity, etc.) with a DID document,
equivalent to an <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document①⑦">identity profile document</a>, to allow trustable
interactions with that subject. <a data-link-type="biblio" href="#biblio-did">[DID]</a></p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-identity">application identity</dfn> is a web resource at an HTTP URI
that uniquely identifies a given <a data-link-type="dfn" href="#application" id="ref-for-application①②⑦">Application</a>, and dereferences to an <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document④">application profile document</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-profile-document">application profile document</dfn> is a linked data document
obtained by dereferencing the URI for a given <a data-link-type="dfn" href="#application-identity" id="ref-for-application-identity">application identity</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="acl-resource">acl resource</dfn> as defined by <a data-link-type="biblio" href="#biblio-wac">[WAC]</a> may be directly
associated with a resource or indirectly associated with a resource
through inheritance. It determines which <a data-link-type="dfn" href="#authorization-subject" id="ref-for-authorization-subject">authorization subjects</a> can
access a resource, and the modes of access they have for it.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="access-mode">access mode</dfn> denotes operations (e.g. read, write)
that a given <a data-link-type="dfn" href="#authorization-subject" id="ref-for-authorization-subject①">authorization subject</a> can perform on a resource.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authorization-subject">authorization subject</dfn> is the target of a given authorization
statement in an <a data-link-type="dfn" href="#acl-resource" id="ref-for-acl-resource①">acl resource</a>. It is either an <a data-link-type="dfn" href="#agent" id="ref-for-agent②⓪①">Agent</a> (individual,
group, <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-application①">server-side application</a>), a <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-application">User-Piloted Application</a> in use by <em>any</em> <a data-link-type="dfn" href="#agent" id="ref-for-agent②⓪②">Agent</a>, or a combination of
a specific <a data-link-type="dfn" href="#agent" id="ref-for-agent②⓪③">Agent</a> using a specific <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-application①">User-Piloted Application</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authorization-statement">authorization statement</dfn> is ...</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape">shape</dfn> provides a schema that RDF data graphs must meet in order
to be considered conformant. A shape associated with a given resource in a <a data-link-type="dfn" href="#pod" id="ref-for-pod①②">pod</a> ensures that any data stored in that resource must conform to the
associated shape. Shape languages include <a data-link-type="biblio" href="#biblio-shex">[SHEX]</a> and <a data-link-type="biblio" href="#biblio-shacl">[SHACL]</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape-tree">Shape Tree</dfn> defines a prospective tree of related resources
which can be read and written by applications. The shape tree associates
each of these resources with a shape. This allows one to treat a set of
related resources as a single grouping, and apply that to a range of
operations including access control, data organization, data validation,
and data migration. <a data-link-type="biblio" href="#biblio-shapetrees">[SHAPETREES]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape-tree-decorator">Shape Tree Decorator</dfn> provides additional human-readable
description and context for a given <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree⑥⑥">shape tree</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape-tree-reference">Shape Tree Reference</dfn> provides the necessary context to
associate instances of related shape trees via a ShapePath</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note. </p>
   <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
   <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm. </p>
   <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize. </p>
  </div>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#access-decorator-index">Access Decorator Index</a><span>, in § 7.2.6</span>
   <li><a href="#access-decorator-resource">Access Decorator Resource</a><span>, in § 7.2.7</span>
   <li><a href="#access-decorator-series">Access Decorator Series</a><span>, in § 7.2.6.1</span>
   <li><a href="#access-decorator-version">Access Decorator Version</a><span>, in § 7.2.6.2</span>
   <li><a href="#access-grant">Access Grant</a><span>, in § 8.2.4</span>
   <li><a href="#access-grant-registry">Access Grant Registry</a><span>, in § 8.2.3</span>
   <li><a href="#access-grant-registry-set">Access Grant Registry Set</a><span>, in § 8.2.2</span>
   <li><a href="#access-grant-subject">Access Grant Subject</a><span>, in § 8.2.5</span>
   <li><a href="#access-invitation">Access Invitation</a><span>, in § 8.2.11</span>
   <li><a href="#access-invitation-channel">Access Invitation Channel</a><span>, in § 8.2.12</span>
   <li><a href="#access-mode">access mode</a><span>, in § 12</span>
   <li><a href="#access-need">Access Need</a><span>, in § 7.2.2</span>
   <li><a href="#access-need-decorator">Access Need Decorator</a><span>, in § 7.2.7.2</span>
   <li><a href="#access-need-group">Access Need Group</a><span>, in § 7.2.1</span>
   <li><a href="#access-need-group-decorator">Access Need Group Decorator</a><span>, in § 7.2.7.1</span>
   <li><a href="#access-receipt">Access Receipt</a><span>, in § 9.2.3</span>
   <li><a href="#access-receipt-registry">Access Receipt Registry</a><span>, in § 9.2.2</span>
   <li><a href="#access-receipt-registry-set">Access Receipt Registry Set</a><span>, in § 9.2.1</span>
   <li><a href="#access-request">Access Request</a><span>, in § 7.2.5</span>
   <li><a href="#acl-resource">acl resource</a><span>, in § 12</span>
   <li><a href="#agent">Agent</a><span>, in § 2.2.2</span>
   <li><a href="#application">Application</a><span>, in § 3.2.2</span>
   <li><a href="#application-identity">application identity</a><span>, in § 12</span>
   <li><a href="#application-profile-document">application profile document</a><span>, in § 12</span>
   <li><a href="#application-registration">Application Registration</a><span>, in § 4.2.4</span>
   <li><a href="#application-registry">Application Registry</a><span>, in § 4.2.3</span>
   <li><a href="#application-registry-set">Application Registry Set</a><span>, in § 4.2.2</span>
   <li><a href="#authenticated-agent">authenticated agent</a><span>, in § 12</span>
   <li><a href="#authorization-statement">authorization statement</a><span>, in § 12</span>
   <li><a href="#authorization-subject">authorization subject</a><span>, in § 12</span>
   <li><a href="#data-grant">Data Grant</a><span>, in § 8.2.6</span>
   <li><a href="#data-instance">Data Instance</a><span>, in § 5.2.4</span>
   <li><a href="#data-registration">Data Registration</a><span>, in § 5.2.4</span>
   <li><a href="#data-registry">Data Registry</a><span>, in § 5.2.3</span>
   <li><a href="#data-registry-set">Data Registry Set</a><span>, in § 5.2.2</span>
   <li><a href="#did">DID</a><span>, in § 12</span>
   <li><a href="#ecosystem">ecosystem</a><span>, in § 12</span>
   <li><a href="#identity">identity</a><span>, in § 12</span>
   <li><a href="#identity-profile-document">identity profile document</a><span>, in § 12</span>
   <li><a href="#pod">pod</a><span>, in § 12</span>
   <li><a href="#referenced-access-need">Referenced Access Need</a><span>, in § 7.2.3</span>
   <li><a href="#referenced-data-grant">Referenced Data Grant</a><span>, in § 8.2.7</span>
   <li><a href="#referenced-remote-data-grant">Referenced Remote Data Grant</a><span>, in § 8.2.9</span>
   <li><a href="#registry">Registry</a><span>, in § 2.1</span>
   <li><a href="#registry-set">Registry Set</a><span>, in § 2.2.1</span>
   <li><a href="#remote-agent-data-registration">Remote Agent Data Registration</a><span>, in § 10.2.4</span>
   <li><a href="#remote-data-grant">Remote Data Grant</a><span>, in § 8.2.8</span>
   <li><a href="#remote-data-registration">Remote Data Registration</a><span>, in § 10.2.3</span>
   <li><a href="#remote-data-registry">Remote Data Registry</a><span>, in § 10.2.2</span>
   <li><a href="#remote-data-registry-set">Remote Data Registry Set</a><span>, in § 10.2.1</span>
   <li><a href="#server-side-application">server-side application</a><span>, in § 12</span>
   <li><a href="#shape">shape</a><span>, in § 12</span>
   <li><a href="#shape-tree">Shape Tree</a><span>, in § 12</span>
   <li><a href="#shape-tree-decorator">Shape Tree Decorator</a><span>, in § 12</span>
   <li><a href="#shape-tree-reference">Shape Tree Reference</a><span>, in § 12</span>
   <li><a href="#solid">Solid</a><span>, in § 12</span>
   <li><a href="#strongly-identifiable-applications">Strongly identifiable applications</a><span>, in § 11.1</span>
   <li><a href="#trusted-agent">Trusted Agent</a><span>, in § 8.2.10</span>
   <li><a href="#trusted-grant">Trusted Grant</a><span>, in § 8.2.10</span>
   <li><a href="#trusted-need">Trusted Need</a><span>, in § 7.2.4</span>
   <li><a href="#user-piloted-application">user-piloted application</a><span>, in § 12</span>
   <li><a href="#weakly-identifiable-applications">Weakly identifiable applications</a><span>, in § 11.1</span>
   <li><a href="#webid">WebID</a><span>, in § 12</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-dfn-containing-service-worker-registration">
   <a href="https://w3c.github.io/ServiceWorker/#dfn-containing-service-worker-registration">https://w3c.github.io/ServiceWorker/#dfn-containing-service-worker-registration</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dfn-containing-service-worker-registration">8.2.10. Trusted Grant</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[service-workers-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dfn-containing-service-worker-registration">registration</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-service-workers-1">[SERVICE-WORKERS-1]
   <dd>Alex Russell; et al. <a href="https://www.w3.org/TR/service-workers-1/"><cite>Service Workers 1</cite></a>. 19 November 2019. CR. URL: <a href="https://www.w3.org/TR/service-workers-1/">https://www.w3.org/TR/service-workers-1/</a>
   <dt id="biblio-wac">[WAC]
   <dd><a href="https://solid.github.io/specification/wac/"><cite>Web Access Control</cite></a>. URL: <a href="https://solid.github.io/specification/wac/">https://solid.github.io/specification/wac/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-did">[DID]
   <dd>Drummond Reed; et al. <a href="https://www.w3.org/TR/did-core/"><cite>Decentralized Identifiers (DIDs) v1.0</cite></a>. URL: <a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a>
   <dt id="biblio-problems-and-goals">[PROBLEMS-AND-GOALS]
   <dd>Justin Bingham; et al. <a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md"><cite>Problems and Goals for Interoperability, Collaboration, and Security in a Solid Pod</cite></a>. URL: <a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md">https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md</a>
   <dt id="biblio-shacl">[SHACL]
   <dd>Holger Knublauch; Dimitris Kontokostas. <a href="https://www.w3.org/TR/shacl/"><cite>Shapes Constraint Language (SHACL)</cite></a>. URL: <a href="https://www.w3.org/TR/shacl/">https://www.w3.org/TR/shacl/</a>
   <dt id="biblio-shapetrees">[SHAPETREES]
   <dd>Justin Bingham; et al. <a href="https://shapetrees.org/TR/specification/index.html"><cite>Shape Trees</cite></a>. URL: <a href="https://shapetrees.org/TR/specification/index.html">https://shapetrees.org/TR/specification/index.html</a>
   <dt id="biblio-shex">[SHEX]
   <dd>Eric Prud'hommeaux; et al. <a href="http://shex.io/shex-semantics/index.html"><cite>Shape Expressions Language 2.1</cite></a>. URL: <a href="http://shex.io/shex-semantics/index.html">http://shex.io/shex-semantics/index.html</a>
   <dt id="biblio-webid">[WEBID]
   <dd>Tim Berners-Lee; Henry Story; Andrei Sambra. <a href="https://www.w3.org/2005/Incubator/webid/spec/identity/"><cite>WebID 1.0</cite></a>. URL: <a href="https://www.w3.org/2005/Incubator/webid/spec/identity/">https://www.w3.org/2005/Incubator/webid/spec/identity/</a>
   <dt id="biblio-webid-oidc">[WEBID-OIDC]
   <dd>Dmitri Zagidulin. <a href="https://github.com/solid/webid-oidc-spec"><cite>WebID-OIDC Authentication Specification</cite></a>. URL: <a href="https://github.com/solid/webid-oidc-spec">https://github.com/solid/webid-oidc-spec</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Detail how an application service is looked up in the <a data-link-type="dfn" href="#application">Application</a> Profile.<a href="#issue-a27898d4"> ↵ </a></div>
   <div class="issue"> Detail how an <a data-link-type="dfn" href="#agent">Agent</a> can be redirected to an application service<a href="#issue-ae276681"> ↵ </a></div>
   <div class="issue"> detail how an <a data-link-type="dfn" href="#agent">Agent</a> is returned back from an application service<a href="#issue-f526c356"> ↵ </a></div>
   <div class="issue"> Is it necessary to use a one-way hash for application registration
resource names. <a href="https://github.com/solid/data-interoperability-panel/issues/48">Github issue</a><a href="#issue-8c592df2"> ↵ </a></div>
   <div class="issue"> Define app registration service<a href="#issue-50450d89"> ↵ </a></div>
   <div class="issue"> Cleanup of related data may need to be specified<a href="#issue-1c6aa834"> ↵ </a></div>
   <div class="issue"> Cleanup of related data may need to be specified<a href="#issue-1c6aa834①"> ↵ </a></div>
   <div class="issue"> Should we assume that CISERVICE is able to manage grants, or should
it need to redirect through the authorization agent? Perhaps the recommendation
should be that they are combined? Bad separation of concerns?<a href="#issue-d5f0eb31"> ↵ </a></div>
   <div class="issue"> This doesn’t take account a sequencing of validation steps from
one channel to another.<a href="#issue-d1e70f49"> ↵ </a></div>
   <div class="issue"> Define data authorization service<a href="#issue-abd7def3"> ↵ </a></div>
   <div class="issue no-marker"><a class="marker" href="https://github.com/solid/data-interoperability-panel/issues/124" style="text-transform:none">solid/data-interoperability-panel/124</a><a href="https://github.com/solid/data-interoperability-panel/issues/124">Referenced Data Grant - improving ergonomy of traversal</a><a href="#issue-d41d8cd9"> ↵ </a></div>
   <div class="issue"> Need to properly factor in multi-pod scenarios. Must identify the
proper access registry to store things in based on the data registration, which
means pods will also need to be registered.<a href="#issue-4a203aca"> ↵ </a></div>
   <div class="issue"> Write standard operation for invitation delivery<a href="#issue-2800f864"> ↵ </a></div>
   <div class="issue"> Write standard operation for validating an invitation<a href="#issue-00444ef2"> ↵ </a></div>
   <div class="issue"> Need to determine how to deal with objects that are
dynamic, where we need to match against more than one resource and
the subject identifier could? vary<a href="#issue-8ac7ce01"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="registry">
   <b><a href="#registry">#registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registry">2.1. Overview</a> <a href="#ref-for-registry①">(2)</a>
    <li><a href="#ref-for-registry②">2.2.1. Summary</a> <a href="#ref-for-registry③">(2)</a> <a href="#ref-for-registry④">(3)</a> <a href="#ref-for-registry⑤">(4)</a> <a href="#ref-for-registry⑥">(5)</a> <a href="#ref-for-registry⑦">(6)</a>
    <li><a href="#ref-for-registry⑧">2.4. Permission Model</a>
    <li><a href="#ref-for-registry⑨">6.2.1.3. Presenting a Trusted Need</a> <a href="#ref-for-registry①⓪">(2)</a> <a href="#ref-for-registry①①">(3)</a> <a href="#ref-for-registry①②">(4)</a>
    <li><a href="#ref-for-registry①③">7.1. Overview</a>
    <li><a href="#ref-for-registry①④">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-registry①⑤">8.2.4. Access Grant</a>
    <li><a href="#ref-for-registry①⑥">8.2.10. Trusted Grant</a> <a href="#ref-for-registry①⑦">(2)</a> <a href="#ref-for-registry①⑧">(3)</a> <a href="#ref-for-registry①⑨">(4)</a> <a href="#ref-for-registry②⓪">(5)</a> <a href="#ref-for-registry②①">(6)</a> <a href="#ref-for-registry②②">(7)</a>
    <li><a href="#ref-for-registry②③">8.4.18. Apply Trusted Permissions</a> <a href="#ref-for-registry②④">(2)</a>
    <li><a href="#ref-for-registry②⑤">8.4.39. Select Specific Trusted Registry</a> <a href="#ref-for-registry②⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registry-set">
   <b><a href="#registry-set">#registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registry-set">2.2.1. Summary</a> <a href="#ref-for-registry-set①">(2)</a> <a href="#ref-for-registry-set②">(3)</a>
    <li><a href="#ref-for-registry-set③">2.4. Permission Model</a>
    <li><a href="#ref-for-registry-set④">4.2.2. Application Registry Set</a>
    <li><a href="#ref-for-registry-set⑤">5.2.2. Data Registry Set</a>
    <li><a href="#ref-for-registry-set⑥">7.1. Overview</a>
    <li><a href="#ref-for-registry-set⑦">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-registry-set⑧">8.2.2. Access Grant Registry Set</a>
    <li><a href="#ref-for-registry-set⑨">8.2.4. Access Grant</a>
    <li><a href="#ref-for-registry-set①⓪">8.2.10. Trusted Grant</a> <a href="#ref-for-registry-set①①">(2)</a> <a href="#ref-for-registry-set①②">(3)</a> <a href="#ref-for-registry-set①③">(4)</a> <a href="#ref-for-registry-set①④">(5)</a> <a href="#ref-for-registry-set①⑤">(6)</a> <a href="#ref-for-registry-set①⑥">(7)</a> <a href="#ref-for-registry-set①⑦">(8)</a> <a href="#ref-for-registry-set①⑧">(9)</a> <a href="#ref-for-registry-set①⑨">(10)</a>
    <li><a href="#ref-for-registry-set②⓪">8.4.38. Select Trusted Registry Set</a> <a href="#ref-for-registry-set②①">(2)</a>
    <li><a href="#ref-for-registry-set②②">9.2.1. Access Receipt Registry Set</a>
    <li><a href="#ref-for-registry-set②③">10.2.1. Remote Data Registry Set</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="agent">
   <b><a href="#agent">#agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-agent">1. Introduction</a> <a href="#ref-for-agent①">(2)</a> <a href="#ref-for-agent②">(3)</a> <a href="#ref-for-agent③">(4)</a> <a href="#ref-for-agent④">(5)</a> <a href="#ref-for-agent⑤">(6)</a> <a href="#ref-for-agent⑥">(7)</a> <a href="#ref-for-agent⑦">(8)</a> <a href="#ref-for-agent⑧">(9)</a> <a href="#ref-for-agent⑨">(10)</a> <a href="#ref-for-agent①⓪">(11)</a> <a href="#ref-for-agent①①">(12)</a> <a href="#ref-for-agent①②">(13)</a>
    <li><a href="#ref-for-agent①③">2.1. Overview</a> <a href="#ref-for-agent①④">(2)</a> <a href="#ref-for-agent①⑤">(3)</a> <a href="#ref-for-agent①⑥">(4)</a> <a href="#ref-for-agent①⑦">(5)</a> <a href="#ref-for-agent①⑧">(6)</a> <a href="#ref-for-agent①⑨">(7)</a> <a href="#ref-for-agent②⓪">(8)</a> <a href="#ref-for-agent②①">(9)</a> <a href="#ref-for-agent②②">(10)</a> <a href="#ref-for-agent②③">(11)</a> <a href="#ref-for-agent②④">(12)</a> <a href="#ref-for-agent②⑤">(13)</a> <a href="#ref-for-agent②⑥">(14)</a> <a href="#ref-for-agent②⑦">(15)</a> <a href="#ref-for-agent②⑧">(16)</a> <a href="#ref-for-agent②⑨">(17)</a>
    <li><a href="#ref-for-agent③⓪">2.2.1. Summary</a> <a href="#ref-for-agent③①">(2)</a> <a href="#ref-for-agent③②">(3)</a> <a href="#ref-for-agent③③">(4)</a> <a href="#ref-for-agent③④">(5)</a>
    <li><a href="#ref-for-agent③⑤">2.2.2. Agent</a> <a href="#ref-for-agent③⑥">(2)</a> <a href="#ref-for-agent③⑦">(3)</a> <a href="#ref-for-agent③⑧">(4)</a> <a href="#ref-for-agent③⑨">(5)</a> <a href="#ref-for-agent④⓪">(6)</a> <a href="#ref-for-agent④①">(7)</a> <a href="#ref-for-agent④②">(8)</a>
    <li><a href="#ref-for-agent④③">2.3. Resource Hierarchy</a>
    <li><a href="#ref-for-agent④④">2.4. Permission Model</a> <a href="#ref-for-agent④⑤">(2)</a> <a href="#ref-for-agent④⑥">(3)</a>
    <li><a href="#ref-for-agent④⑦">3.1. Overview</a> <a href="#ref-for-agent④⑧">(2)</a>
    <li><a href="#ref-for-agent④⑨">3.2.2. Application</a> <a href="#ref-for-agent⑤⓪">(2)</a>
    <li><a href="#ref-for-agent⑤①">3.5.2. Redirect to Application Service</a>
    <li><a href="#ref-for-agent⑤②">3.5.3. Return from Application Service</a>
    <li><a href="#ref-for-agent⑤③">4.1. Overview</a>
    <li><a href="#ref-for-agent⑤④">4.2.1. Summary</a> <a href="#ref-for-agent⑤⑤">(2)</a> <a href="#ref-for-agent⑤⑥">(3)</a>
    <li><a href="#ref-for-agent⑤⑦">4.2.4. Application Registration</a> <a href="#ref-for-agent⑤⑧">(2)</a> <a href="#ref-for-agent⑤⑨">(3)</a>
    <li><a href="#ref-for-agent⑥⓪">4.4. Permission Model</a>
    <li><a href="#ref-for-agent⑥①">4.5.1. Load Application Registration</a> <a href="#ref-for-agent⑥②">(2)</a>
    <li><a href="#ref-for-agent⑥③">4.5.1.1. Inputs</a>
    <li><a href="#ref-for-agent⑥④">4.5.2.1. Inputs</a>
    <li><a href="#ref-for-agent⑥⑤">5.1. Overview</a>
    <li><a href="#ref-for-agent⑥⑥">5.2.1. Summary</a> <a href="#ref-for-agent⑥⑦">(2)</a>
    <li><a href="#ref-for-agent⑥⑧">5.2.4. Data Registration</a> <a href="#ref-for-agent⑥⑨">(2)</a>
    <li><a href="#ref-for-agent⑦⓪">5.4. Permission Model</a> <a href="#ref-for-agent⑦①">(2)</a> <a href="#ref-for-agent⑦②">(3)</a> <a href="#ref-for-agent⑦③">(4)</a> <a href="#ref-for-agent⑦④">(5)</a>
    <li><a href="#ref-for-agent⑦⑤">5.5.2. Create Data Registration</a>
    <li><a href="#ref-for-agent⑦⑥">6.1. Overview</a> <a href="#ref-for-agent⑦⑦">(2)</a> <a href="#ref-for-agent⑦⑧">(3)</a> <a href="#ref-for-agent⑦⑨">(4)</a>
    <li><a href="#ref-for-agent⑧⓪">6.2.1. Presenting an Access Grant</a> <a href="#ref-for-agent⑧①">(2)</a> <a href="#ref-for-agent⑧②">(3)</a> <a href="#ref-for-agent⑧③">(4)</a> <a href="#ref-for-agent⑧④">(5)</a> <a href="#ref-for-agent⑧⑤">(6)</a>
    <li><a href="#ref-for-agent⑧⑥">6.2.2. Application Requests Access</a> <a href="#ref-for-agent⑧⑦">(2)</a> <a href="#ref-for-agent⑧⑧">(3)</a>
    <li><a href="#ref-for-agent⑧⑨">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-agent⑨⓪">(2)</a> <a href="#ref-for-agent⑨①">(3)</a>
    <li><a href="#ref-for-agent⑨②">6.2.4. Controller Shares Access</a> <a href="#ref-for-agent⑨③">(2)</a> <a href="#ref-for-agent⑨④">(3)</a>
    <li><a href="#ref-for-agent⑨⑤">6.2.5. Controller Shares Access with Invited Agent</a>
    <li><a href="#ref-for-agent⑨⑥">7.1. Overview</a> <a href="#ref-for-agent⑨⑦">(2)</a> <a href="#ref-for-agent⑨⑧">(3)</a> <a href="#ref-for-agent⑨⑨">(4)</a> <a href="#ref-for-agent①⓪⓪">(5)</a> <a href="#ref-for-agent①⓪①">(6)</a>
    <li><a href="#ref-for-agent①⓪②">7.2.1. Access Need Group</a> <a href="#ref-for-agent①⓪③">(2)</a> <a href="#ref-for-agent①⓪④">(3)</a> <a href="#ref-for-agent①⓪⑤">(4)</a> <a href="#ref-for-agent①⓪⑥">(5)</a>
    <li><a href="#ref-for-agent①⓪⑦">7.2.2. Access Need</a> <a href="#ref-for-agent①⓪⑧">(2)</a>
    <li><a href="#ref-for-agent①⓪⑨">7.2.3. Referenced Access Need</a> <a href="#ref-for-agent①①⓪">(2)</a>
    <li><a href="#ref-for-agent①①①">7.2.5. Access Request</a> <a href="#ref-for-agent①①②">(2)</a> <a href="#ref-for-agent①①③">(3)</a>
    <li><a href="#ref-for-agent①①④">7.2.7.1. Access Need Group Decorator</a>
    <li><a href="#ref-for-agent①①⑤">7.3.1. Get Access Decorator Resource</a> <a href="#ref-for-agent①①⑥">(2)</a>
    <li><a href="#ref-for-agent①①⑦">7.3.2. Get Access Need Group Decorator</a>
    <li><a href="#ref-for-agent①①⑧">7.3.3. Get Access Need Decorator</a>
    <li><a href="#ref-for-agent①①⑨">8.1. Overview</a> <a href="#ref-for-agent①②⓪">(2)</a> <a href="#ref-for-agent①②①">(3)</a> <a href="#ref-for-agent①②②">(4)</a> <a href="#ref-for-agent①②③">(5)</a> <a href="#ref-for-agent①②④">(6)</a> <a href="#ref-for-agent①②⑤">(7)</a>
    <li><a href="#ref-for-agent①②⑥">8.2.1. Summary</a>
    <li><a href="#ref-for-agent①②⑦">8.2.4. Access Grant</a> <a href="#ref-for-agent①②⑧">(2)</a>
    <li><a href="#ref-for-agent①②⑨">8.2.5. Access Grant Subject</a> <a href="#ref-for-agent①③⓪">(2)</a> <a href="#ref-for-agent①③①">(3)</a>
    <li><a href="#ref-for-agent①③②">8.2.6. Data Grant</a> <a href="#ref-for-agent①③③">(2)</a>
    <li><a href="#ref-for-agent①③④">8.2.7. Referenced Data Grant</a> <a href="#ref-for-agent①③⑤">(2)</a>
    <li><a href="#ref-for-agent①③⑥">8.2.8. Remote Data Grant</a> <a href="#ref-for-agent①③⑦">(2)</a> <a href="#ref-for-agent①③⑧">(3)</a>
    <li><a href="#ref-for-agent①③⑨">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-agent①④⓪">(2)</a>
    <li><a href="#ref-for-agent①④①">8.2.10. Trusted Grant</a> <a href="#ref-for-agent①④②">(2)</a> <a href="#ref-for-agent①④③">(3)</a> <a href="#ref-for-agent①④④">(4)</a> <a href="#ref-for-agent①④⑤">(5)</a> <a href="#ref-for-agent①④⑥">(6)</a>
    <li><a href="#ref-for-agent①④⑦">8.2.11. Access Invitation</a> <a href="#ref-for-agent①④⑧">(2)</a> <a href="#ref-for-agent①④⑨">(3)</a>
    <li><a href="#ref-for-agent①⑤⓪">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-agent①⑤①">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-agent①⑤②">9.1. Overview</a> <a href="#ref-for-agent①⑤③">(2)</a> <a href="#ref-for-agent①⑤④">(3)</a> <a href="#ref-for-agent①⑤⑤">(4)</a> <a href="#ref-for-agent①⑤⑥">(5)</a> <a href="#ref-for-agent①⑤⑦">(6)</a> <a href="#ref-for-agent①⑤⑧">(7)</a>
    <li><a href="#ref-for-agent①⑤⑨">9.2.3. Access Receipt</a> <a href="#ref-for-agent①⑥⓪">(2)</a> <a href="#ref-for-agent①⑥①">(3)</a> <a href="#ref-for-agent①⑥②">(4)</a> <a href="#ref-for-agent①⑥③">(5)</a>
    <li><a href="#ref-for-agent①⑥④">9.4.2. Provide Receipt in Application Registration</a> <a href="#ref-for-agent①⑥⑤">(2)</a>
    <li><a href="#ref-for-agent①⑥⑥">9.4.3. Provide Receipt in Message</a> <a href="#ref-for-agent①⑥⑦">(2)</a> <a href="#ref-for-agent①⑥⑧">(3)</a> <a href="#ref-for-agent①⑥⑨">(4)</a>
    <li><a href="#ref-for-agent①⑦⓪">9.4.5. Load Access Receipt</a> <a href="#ref-for-agent①⑦①">(2)</a>
    <li><a href="#ref-for-agent①⑦②">10.1. Overview</a> <a href="#ref-for-agent①⑦③">(2)</a> <a href="#ref-for-agent①⑦④">(3)</a> <a href="#ref-for-agent①⑦⑤">(4)</a>
    <li><a href="#ref-for-agent①⑦⑥">10.2.3. Remote Data Registration</a> <a href="#ref-for-agent①⑦⑦">(2)</a> <a href="#ref-for-agent①⑦⑧">(3)</a>
    <li><a href="#ref-for-agent①⑦⑨">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-agent①⑧⓪">(2)</a> <a href="#ref-for-agent①⑧①">(3)</a> <a href="#ref-for-agent①⑧②">(4)</a> <a href="#ref-for-agent①⑧③">(5)</a> <a href="#ref-for-agent①⑧④">(6)</a>
    <li><a href="#ref-for-agent①⑧⑤">10.3. Resource Hierarchy</a>
    <li><a href="#ref-for-agent①⑧⑥">10.4.2. Create Remote Data Registration</a>
    <li><a href="#ref-for-agent①⑧⑦">10.4.3. Update Remote Data</a> <a href="#ref-for-agent①⑧⑧">(2)</a>
    <li><a href="#ref-for-agent①⑧⑨">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-agent①⑨⓪">(2)</a>
    <li><a href="#ref-for-agent①⑨①">11.1. Application Authorization</a> <a href="#ref-for-agent①⑨②">(2)</a> <a href="#ref-for-agent①⑨③">(3)</a> <a href="#ref-for-agent①⑨④">(4)</a> <a href="#ref-for-agent①⑨⑤">(5)</a> <a href="#ref-for-agent①⑨⑥">(6)</a>
    <li><a href="#ref-for-agent①⑨⑦">12. Definitions</a> <a href="#ref-for-agent①⑨⑧">(2)</a> <a href="#ref-for-agent①⑨⑨">(3)</a> <a href="#ref-for-agent②⓪⓪">(4)</a> <a href="#ref-for-agent②⓪①">(5)</a> <a href="#ref-for-agent②⓪②">(6)</a> <a href="#ref-for-agent②⓪③">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application">
   <b><a href="#application">#application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application">1. Introduction</a> <a href="#ref-for-application①">(2)</a> <a href="#ref-for-application②">(3)</a> <a href="#ref-for-application③">(4)</a> <a href="#ref-for-application④">(5)</a> <a href="#ref-for-application⑤">(6)</a>
    <li><a href="#ref-for-application⑥">2.1. Overview</a> <a href="#ref-for-application⑦">(2)</a> <a href="#ref-for-application⑧">(3)</a> <a href="#ref-for-application⑨">(4)</a> <a href="#ref-for-application①⓪">(5)</a>
    <li><a href="#ref-for-application①①">2.2.2. Agent</a> <a href="#ref-for-application①②">(2)</a>
    <li><a href="#ref-for-application①③">2.4. Permission Model</a>
    <li><a href="#ref-for-application①④">3.1. Overview</a> <a href="#ref-for-application①⑤">(2)</a> <a href="#ref-for-application①⑥">(3)</a> <a href="#ref-for-application①⑦">(4)</a> <a href="#ref-for-application①⑧">(5)</a> <a href="#ref-for-application①⑨">(6)</a>
    <li><a href="#ref-for-application②⓪">3.2.1. Summary</a> <a href="#ref-for-application②①">(2)</a> <a href="#ref-for-application②②">(3)</a>
    <li><a href="#ref-for-application②③">3.2.2. Application</a> <a href="#ref-for-application②④">(2)</a> <a href="#ref-for-application②⑤">(3)</a> <a href="#ref-for-application②⑥">(4)</a> <a href="#ref-for-application②⑦">(5)</a> <a href="#ref-for-application②⑧">(6)</a>
    <li><a href="#ref-for-application②⑨">3.3. Resource Hierarchy</a>
    <li><a href="#ref-for-application③⓪">3.4. Permission Model</a> <a href="#ref-for-application③①">(2)</a>
    <li><a href="#ref-for-application③②">3.5.1. Load Application Service</a>
    <li><a href="#ref-for-application③③">4.1. Overview</a> <a href="#ref-for-application③④">(2)</a> <a href="#ref-for-application③⑤">(3)</a> <a href="#ref-for-application③⑥">(4)</a> <a href="#ref-for-application③⑦">(5)</a> <a href="#ref-for-application③⑧">(6)</a>
    <li><a href="#ref-for-application③⑨">4.2.1. Summary</a>
    <li><a href="#ref-for-application④⓪">4.2.4. Application Registration</a> <a href="#ref-for-application④①">(2)</a> <a href="#ref-for-application④②">(3)</a> <a href="#ref-for-application④③">(4)</a>
    <li><a href="#ref-for-application④④">4.3. Resource Hierarchy</a> <a href="#ref-for-application④⑤">(2)</a>
    <li><a href="#ref-for-application④⑥">4.4. Permission Model</a> <a href="#ref-for-application④⑦">(2)</a> <a href="#ref-for-application④⑧">(3)</a> <a href="#ref-for-application④⑨">(4)</a> <a href="#ref-for-application⑤⓪">(5)</a> <a href="#ref-for-application⑤①">(6)</a> <a href="#ref-for-application⑤②">(7)</a> <a href="#ref-for-application⑤③">(8)</a> <a href="#ref-for-application⑤④">(9)</a> <a href="#ref-for-application⑤⑤">(10)</a>
    <li><a href="#ref-for-application⑤⑥">4.5.1. Load Application Registration</a> <a href="#ref-for-application⑤⑦">(2)</a> <a href="#ref-for-application⑤⑧">(3)</a> <a href="#ref-for-application⑤⑨">(4)</a> <a href="#ref-for-application⑥⓪">(5)</a> <a href="#ref-for-application⑥①">(6)</a>
    <li><a href="#ref-for-application⑥②">4.5.1.1. Inputs</a>
    <li><a href="#ref-for-application⑥③">4.5.2.1. Inputs</a>
    <li><a href="#ref-for-application⑥④">4.5.2.3. Operation Details</a>
    <li><a href="#ref-for-application⑥⑤">5.2.4. Data Registration</a>
    <li><a href="#ref-for-application⑥⑥">5.5.2. Create Data Registration</a>
    <li><a href="#ref-for-application⑥⑦">6.2.1. Presenting an Access Grant</a> <a href="#ref-for-application⑥⑧">(2)</a> <a href="#ref-for-application⑥⑨">(3)</a> <a href="#ref-for-application⑦⓪">(4)</a> <a href="#ref-for-application⑦①">(5)</a> <a href="#ref-for-application⑦②">(6)</a> <a href="#ref-for-application⑦③">(7)</a> <a href="#ref-for-application⑦④">(8)</a>
    <li><a href="#ref-for-application⑦⑤">6.2.1.3. Presenting a Trusted Need</a>
    <li><a href="#ref-for-application⑦⑥">6.2.2. Application Requests Access</a> <a href="#ref-for-application⑦⑦">(2)</a> <a href="#ref-for-application⑦⑧">(3)</a> <a href="#ref-for-application⑦⑨">(4)</a> <a href="#ref-for-application⑧⓪">(5)</a>
    <li><a href="#ref-for-application⑧①">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-application⑧②">(2)</a> <a href="#ref-for-application⑧③">(3)</a>
    <li><a href="#ref-for-application⑧④">6.2.4. Controller Shares Access</a> <a href="#ref-for-application⑧⑤">(2)</a> <a href="#ref-for-application⑧⑥">(3)</a> <a href="#ref-for-application⑧⑦">(4)</a>
    <li><a href="#ref-for-application⑧⑧">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-application⑧⑨">(2)</a> <a href="#ref-for-application⑨⓪">(3)</a> <a href="#ref-for-application⑨①">(4)</a> <a href="#ref-for-application⑨②">(5)</a>
    <li><a href="#ref-for-application⑨③">7.1. Overview</a> <a href="#ref-for-application⑨④">(2)</a>
    <li><a href="#ref-for-application⑨⑤">7.2.1. Access Need Group</a> <a href="#ref-for-application⑨⑥">(2)</a>
    <li><a href="#ref-for-application⑨⑦">8.2.4. Access Grant</a>
    <li><a href="#ref-for-application⑨⑧">8.2.5. Access Grant Subject</a> <a href="#ref-for-application⑨⑨">(2)</a>
    <li><a href="#ref-for-application①⓪⓪">8.2.11. Access Invitation</a>
    <li><a href="#ref-for-application①⓪①">9.1. Overview</a> <a href="#ref-for-application①⓪②">(2)</a> <a href="#ref-for-application①⓪③">(3)</a>
    <li><a href="#ref-for-application①⓪④">9.2.3. Access Receipt</a> <a href="#ref-for-application①⓪⑤">(2)</a>
    <li><a href="#ref-for-application①⓪⑥">9.4.1. Provide Access Receipt</a> <a href="#ref-for-application①⓪⑦">(2)</a>
    <li><a href="#ref-for-application①⓪⑧">9.4.2. Provide Receipt in Application Registration</a>
    <li><a href="#ref-for-application①⓪⑨">10.2.3. Remote Data Registration</a>
    <li><a href="#ref-for-application①①⓪">10.2.4. Remote Agent Data Registration</a>
    <li><a href="#ref-for-application①①①">10.4.2. Create Remote Data Registration</a>
    <li><a href="#ref-for-application①①②">10.4.5. Create Remote Agent Data Registration</a>
    <li><a href="#ref-for-application①①③">11.1. Application Authorization</a> <a href="#ref-for-application①①④">(2)</a> <a href="#ref-for-application①①⑤">(3)</a> <a href="#ref-for-application①①⑥">(4)</a> <a href="#ref-for-application①①⑦">(5)</a> <a href="#ref-for-application①①⑧">(6)</a> <a href="#ref-for-application①①⑨">(7)</a> <a href="#ref-for-application①②⓪">(8)</a> <a href="#ref-for-application①②①">(9)</a> <a href="#ref-for-application①②②">(10)</a> <a href="#ref-for-application①②③">(11)</a> <a href="#ref-for-application①②④">(12)</a> <a href="#ref-for-application①②⑤">(13)</a>
    <li><a href="#ref-for-application①②⑥">12. Definitions</a> <a href="#ref-for-application①②⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registry-set">
   <b><a href="#application-registry-set">#application-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registry-set">2.2.2. Agent</a>
    <li><a href="#ref-for-application-registry-set①">4.2.1. Summary</a> <a href="#ref-for-application-registry-set②">(2)</a> <a href="#ref-for-application-registry-set③">(3)</a> <a href="#ref-for-application-registry-set④">(4)</a>
    <li><a href="#ref-for-application-registry-set⑤">4.3. Resource Hierarchy</a> <a href="#ref-for-application-registry-set⑥">(2)</a>
    <li><a href="#ref-for-application-registry-set⑦">4.4. Permission Model</a>
    <li><a href="#ref-for-application-registry-set⑧">4.5.1. Load Application Registration</a>
    <li><a href="#ref-for-application-registry-set⑨">4.5.1.3. Operation Details</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registry">
   <b><a href="#application-registry">#application-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registry">4.2.1. Summary</a> <a href="#ref-for-application-registry①">(2)</a> <a href="#ref-for-application-registry②">(3)</a> <a href="#ref-for-application-registry③">(4)</a>
    <li><a href="#ref-for-application-registry④">4.2.2. Application Registry Set</a> <a href="#ref-for-application-registry⑤">(2)</a>
    <li><a href="#ref-for-application-registry⑥">4.3. Resource Hierarchy</a> <a href="#ref-for-application-registry⑦">(2)</a>
    <li><a href="#ref-for-application-registry⑧">4.4. Permission Model</a> <a href="#ref-for-application-registry⑨">(2)</a> <a href="#ref-for-application-registry①⓪">(3)</a> <a href="#ref-for-application-registry①①">(4)</a>
    <li><a href="#ref-for-application-registry①②">4.5.1. Load Application Registration</a> <a href="#ref-for-application-registry①③">(2)</a>
    <li><a href="#ref-for-application-registry①④">4.5.1.3. Operation Details</a>
    <li><a href="#ref-for-application-registry①⑤">4.5.2.1. Inputs</a>
    <li><a href="#ref-for-application-registry①⑥">9.1. Overview</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registration">
   <b><a href="#application-registration">#application-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registration">2.2.2. Agent</a>
    <li><a href="#ref-for-application-registration①">3.2.2. Application</a>
    <li><a href="#ref-for-application-registration②">4.2.1. Summary</a> <a href="#ref-for-application-registration③">(2)</a> <a href="#ref-for-application-registration④">(3)</a> <a href="#ref-for-application-registration⑤">(4)</a>
    <li><a href="#ref-for-application-registration⑥">4.2.3. Application Registry</a> <a href="#ref-for-application-registration⑦">(2)</a>
    <li><a href="#ref-for-application-registration⑧">4.2.4. Application Registration</a> <a href="#ref-for-application-registration⑨">(2)</a> <a href="#ref-for-application-registration①⓪">(3)</a> <a href="#ref-for-application-registration①①">(4)</a> <a href="#ref-for-application-registration①②">(5)</a>
    <li><a href="#ref-for-application-registration①③">4.3. Resource Hierarchy</a> <a href="#ref-for-application-registration①④">(2)</a>
    <li><a href="#ref-for-application-registration①⑤">4.4. Permission Model</a> <a href="#ref-for-application-registration①⑥">(2)</a> <a href="#ref-for-application-registration①⑦">(3)</a> <a href="#ref-for-application-registration①⑧">(4)</a> <a href="#ref-for-application-registration①⑨">(5)</a> <a href="#ref-for-application-registration②⓪">(6)</a>
    <li><a href="#ref-for-application-registration②①">4.5.1. Load Application Registration</a> <a href="#ref-for-application-registration②②">(2)</a> <a href="#ref-for-application-registration②③">(3)</a> <a href="#ref-for-application-registration②④">(4)</a>
    <li><a href="#ref-for-application-registration②⑤">4.5.1.2. Outputs</a>
    <li><a href="#ref-for-application-registration②⑥">4.5.2. Register Application</a>
    <li><a href="#ref-for-application-registration②⑦">4.5.2.2. Outputs</a>
    <li><a href="#ref-for-application-registration②⑧">4.5.2.3. Operation Details</a> <a href="#ref-for-application-registration②⑨">(2)</a>
    <li><a href="#ref-for-application-registration③⓪">6.2.2. Application Requests Access</a> <a href="#ref-for-application-registration③①">(2)</a> <a href="#ref-for-application-registration③②">(3)</a>
    <li><a href="#ref-for-application-registration③③">9.1. Overview</a>
    <li><a href="#ref-for-application-registration③④">9.4.1. Provide Access Receipt</a>
    <li><a href="#ref-for-application-registration③⑤">9.4.2. Provide Receipt in Application Registration</a> <a href="#ref-for-application-registration③⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-registry-set">
   <b><a href="#data-registry-set">#data-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-registry-set">2.2.2. Agent</a>
    <li><a href="#ref-for-data-registry-set①">5.2.1. Summary</a> <a href="#ref-for-data-registry-set②">(2)</a> <a href="#ref-for-data-registry-set③">(3)</a> <a href="#ref-for-data-registry-set④">(4)</a>
    <li><a href="#ref-for-data-registry-set⑤">5.3. Resource Hierarchy</a> <a href="#ref-for-data-registry-set⑥">(2)</a>
    <li><a href="#ref-for-data-registry-set⑦">5.4. Permission Model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-registry">
   <b><a href="#data-registry">#data-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-registry">5.2.1. Summary</a> <a href="#ref-for-data-registry①">(2)</a> <a href="#ref-for-data-registry②">(3)</a> <a href="#ref-for-data-registry③">(4)</a>
    <li><a href="#ref-for-data-registry④">5.2.2. Data Registry Set</a> <a href="#ref-for-data-registry⑤">(2)</a>
    <li><a href="#ref-for-data-registry⑥">5.2.3. Data Registry</a>
    <li><a href="#ref-for-data-registry⑦">5.3. Resource Hierarchy</a> <a href="#ref-for-data-registry⑧">(2)</a>
    <li><a href="#ref-for-data-registry⑨">5.4. Permission Model</a> <a href="#ref-for-data-registry①⓪">(2)</a> <a href="#ref-for-data-registry①①">(3)</a> <a href="#ref-for-data-registry①②">(4)</a>
    <li><a href="#ref-for-data-registry①③">5.5. Operations</a> <a href="#ref-for-data-registry①④">(2)</a>
    <li><a href="#ref-for-data-registry①⑤">5.5.1. Load Data Registration</a> <a href="#ref-for-data-registry①⑥">(2)</a>
    <li><a href="#ref-for-data-registry①⑦">5.5.2. Create Data Registration</a> <a href="#ref-for-data-registry①⑧">(2)</a>
    <li><a href="#ref-for-data-registry①⑨">5.5.4. Delete Data Registration</a> <a href="#ref-for-data-registry②⓪">(2)</a>
    <li><a href="#ref-for-data-registry②①">7.1. Overview</a>
    <li><a href="#ref-for-data-registry②②">7.2.2. Access Need</a> <a href="#ref-for-data-registry②③">(2)</a>
    <li><a href="#ref-for-data-registry②④">8.2.4. Access Grant</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-registration">
   <b><a href="#data-registration">#data-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-registration">5.2.1. Summary</a> <a href="#ref-for-data-registration①">(2)</a> <a href="#ref-for-data-registration②">(3)</a> <a href="#ref-for-data-registration③">(4)</a> <a href="#ref-for-data-registration④">(5)</a>
    <li><a href="#ref-for-data-registration⑤">5.2.3. Data Registry</a> <a href="#ref-for-data-registration⑥">(2)</a>
    <li><a href="#ref-for-data-registration⑦">5.2.4. Data Registration</a> <a href="#ref-for-data-registration⑧">(2)</a> <a href="#ref-for-data-registration⑨">(3)</a> <a href="#ref-for-data-registration①⓪">(4)</a> <a href="#ref-for-data-registration①①">(5)</a> <a href="#ref-for-data-registration①②">(6)</a>
    <li><a href="#ref-for-data-registration①③">5.3. Resource Hierarchy</a> <a href="#ref-for-data-registration①④">(2)</a> <a href="#ref-for-data-registration①⑤">(3)</a> <a href="#ref-for-data-registration①⑥">(4)</a> <a href="#ref-for-data-registration①⑦">(5)</a> <a href="#ref-for-data-registration①⑧">(6)</a> <a href="#ref-for-data-registration①⑨">(7)</a> <a href="#ref-for-data-registration②⓪">(8)</a> <a href="#ref-for-data-registration②①">(9)</a>
    <li><a href="#ref-for-data-registration②②">5.4. Permission Model</a> <a href="#ref-for-data-registration②③">(2)</a> <a href="#ref-for-data-registration②④">(3)</a> <a href="#ref-for-data-registration②⑤">(4)</a>
    <li><a href="#ref-for-data-registration②⑥">5.4.1. Access to a Data Registration</a> <a href="#ref-for-data-registration②⑦">(2)</a> <a href="#ref-for-data-registration②⑧">(3)</a> <a href="#ref-for-data-registration②⑨">(4)</a> <a href="#ref-for-data-registration③⓪">(5)</a> <a href="#ref-for-data-registration③①">(6)</a>
    <li><a href="#ref-for-data-registration③②">5.5. Operations</a> <a href="#ref-for-data-registration③③">(2)</a> <a href="#ref-for-data-registration③④">(3)</a> <a href="#ref-for-data-registration③⑤">(4)</a> <a href="#ref-for-data-registration③⑥">(5)</a> <a href="#ref-for-data-registration③⑦">(6)</a> <a href="#ref-for-data-registration③⑧">(7)</a> <a href="#ref-for-data-registration③⑨">(8)</a>
    <li><a href="#ref-for-data-registration④⓪">5.5.1. Load Data Registration</a> <a href="#ref-for-data-registration④①">(2)</a> <a href="#ref-for-data-registration④②">(3)</a>
    <li><a href="#ref-for-data-registration④③">5.5.2. Create Data Registration</a> <a href="#ref-for-data-registration④④">(2)</a> <a href="#ref-for-data-registration④⑤">(3)</a> <a href="#ref-for-data-registration④⑥">(4)</a>
    <li><a href="#ref-for-data-registration④⑦">5.5.3. Create Data Instance</a> <a href="#ref-for-data-registration④⑧">(2)</a> <a href="#ref-for-data-registration④⑨">(3)</a> <a href="#ref-for-data-registration⑤⓪">(4)</a>
    <li><a href="#ref-for-data-registration⑤①">5.5.4. Delete Data Registration</a> <a href="#ref-for-data-registration⑤②">(2)</a>
    <li><a href="#ref-for-data-registration⑤③">5.5.5. Delete Data Instance</a>
    <li><a href="#ref-for-data-registration⑤④">7.2.2. Access Need</a>
    <li><a href="#ref-for-data-registration⑤⑤">8.2.6. Data Grant</a> <a href="#ref-for-data-registration⑤⑥">(2)</a> <a href="#ref-for-data-registration⑤⑦">(3)</a> <a href="#ref-for-data-registration⑤⑧">(4)</a> <a href="#ref-for-data-registration⑤⑨">(5)</a> <a href="#ref-for-data-registration⑥⓪">(6)</a> <a href="#ref-for-data-registration⑥①">(7)</a> <a href="#ref-for-data-registration⑥②">(8)</a>
    <li><a href="#ref-for-data-registration⑥③">8.2.7. Referenced Data Grant</a> <a href="#ref-for-data-registration⑥④">(2)</a> <a href="#ref-for-data-registration⑥⑤">(3)</a> <a href="#ref-for-data-registration⑥⑥">(4)</a> <a href="#ref-for-data-registration⑥⑦">(5)</a> <a href="#ref-for-data-registration⑥⑧">(6)</a> <a href="#ref-for-data-registration⑥⑨">(7)</a> <a href="#ref-for-data-registration⑦⓪">(8)</a>
    <li><a href="#ref-for-data-registration⑦①">8.4. Operations</a>
    <li><a href="#ref-for-data-registration⑦②">8.4.3. Initialize Data Grant</a> <a href="#ref-for-data-registration⑦③">(2)</a>
    <li><a href="#ref-for-data-registration⑦④">8.4.4. Initialize Remote Data Grant</a>
    <li><a href="#ref-for-data-registration⑦⑤">8.4.13. Apply Data Permissions</a> <a href="#ref-for-data-registration⑦⑥">(2)</a> <a href="#ref-for-data-registration⑦⑦">(3)</a> <a href="#ref-for-data-registration⑦⑧">(4)</a> <a href="#ref-for-data-registration⑦⑨">(5)</a>
    <li><a href="#ref-for-data-registration⑧⓪">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-data-registration⑧①">(2)</a> <a href="#ref-for-data-registration⑧②">(3)</a> <a href="#ref-for-data-registration⑧③">(4)</a>
    <li><a href="#ref-for-data-registration⑧④">8.4.17. Apply Remote Data Registration Permissions</a>
    <li><a href="#ref-for-data-registration⑧⑤">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-data-registration⑧⑥">(2)</a> <a href="#ref-for-data-registration⑧⑦">(3)</a> <a href="#ref-for-data-registration⑧⑧">(4)</a> <a href="#ref-for-data-registration⑧⑨">(5)</a> <a href="#ref-for-data-registration⑨⓪">(6)</a> <a href="#ref-for-data-registration⑨①">(7)</a> <a href="#ref-for-data-registration⑨②">(8)</a>
    <li><a href="#ref-for-data-registration⑨③">10.4. Operations</a>
    <li><a href="#ref-for-data-registration⑨④">10.4.3. Update Remote Data</a> <a href="#ref-for-data-registration⑨⑤">(2)</a> <a href="#ref-for-data-registration⑨⑥">(3)</a> <a href="#ref-for-data-registration⑨⑦">(4)</a> <a href="#ref-for-data-registration⑨⑧">(5)</a>
    <li><a href="#ref-for-data-registration⑨⑨">10.4.4. Load Remote Agent Data Registration</a> <a href="#ref-for-data-registration①⓪⓪">(2)</a>
    <li><a href="#ref-for-data-registration①⓪①">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-data-registration①⓪②">(2)</a>
    <li><a href="#ref-for-data-registration①⓪③">10.4.6. Update Remote Agent Data Registration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-instance">
   <b><a href="#data-instance">#data-instance</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-instance">5.2.1. Summary</a>
    <li><a href="#ref-for-data-instance①">5.2.4. Data Registration</a>
    <li><a href="#ref-for-data-instance②">5.3. Resource Hierarchy</a> <a href="#ref-for-data-instance③">(2)</a> <a href="#ref-for-data-instance④">(3)</a> <a href="#ref-for-data-instance⑤">(4)</a> <a href="#ref-for-data-instance⑥">(5)</a>
    <li><a href="#ref-for-data-instance⑦">5.4. Permission Model</a> <a href="#ref-for-data-instance⑧">(2)</a> <a href="#ref-for-data-instance⑨">(3)</a> <a href="#ref-for-data-instance①⓪">(4)</a> <a href="#ref-for-data-instance①①">(5)</a> <a href="#ref-for-data-instance①②">(6)</a> <a href="#ref-for-data-instance①③">(7)</a> <a href="#ref-for-data-instance①④">(8)</a> <a href="#ref-for-data-instance①⑤">(9)</a> <a href="#ref-for-data-instance①⑥">(10)</a>
    <li><a href="#ref-for-data-instance①⑦">5.4.1. Access to a Data Registration</a> <a href="#ref-for-data-instance①⑧">(2)</a> <a href="#ref-for-data-instance①⑨">(3)</a> <a href="#ref-for-data-instance②⓪">(4)</a> <a href="#ref-for-data-instance②①">(5)</a> <a href="#ref-for-data-instance②②">(6)</a> <a href="#ref-for-data-instance②③">(7)</a> <a href="#ref-for-data-instance②④">(8)</a>
    <li><a href="#ref-for-data-instance②⑤">5.4.2. Access to Specific Data Instances</a> <a href="#ref-for-data-instance②⑥">(2)</a> <a href="#ref-for-data-instance②⑦">(3)</a> <a href="#ref-for-data-instance②⑧">(4)</a> <a href="#ref-for-data-instance②⑨">(5)</a> <a href="#ref-for-data-instance③⓪">(6)</a> <a href="#ref-for-data-instance③①">(7)</a> <a href="#ref-for-data-instance③②">(8)</a>
    <li><a href="#ref-for-data-instance③③">5.5. Operations</a> <a href="#ref-for-data-instance③④">(2)</a> <a href="#ref-for-data-instance③⑤">(3)</a> <a href="#ref-for-data-instance③⑥">(4)</a> <a href="#ref-for-data-instance③⑦">(5)</a>
    <li><a href="#ref-for-data-instance③⑧">5.5.3. Create Data Instance</a> <a href="#ref-for-data-instance③⑨">(2)</a> <a href="#ref-for-data-instance④⓪">(3)</a>
    <li><a href="#ref-for-data-instance④①">5.5.4. Delete Data Registration</a>
    <li><a href="#ref-for-data-instance④②">5.5.5. Delete Data Instance</a> <a href="#ref-for-data-instance④③">(2)</a>
    <li><a href="#ref-for-data-instance④④">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-data-instance④⑤">(2)</a> <a href="#ref-for-data-instance④⑥">(3)</a> <a href="#ref-for-data-instance④⑦">(4)</a> <a href="#ref-for-data-instance④⑧">(5)</a> <a href="#ref-for-data-instance④⑨">(6)</a> <a href="#ref-for-data-instance⑤⓪">(7)</a>
    <li><a href="#ref-for-data-instance⑤①">7.2.2. Access Need</a> <a href="#ref-for-data-instance⑤②">(2)</a> <a href="#ref-for-data-instance⑤③">(3)</a> <a href="#ref-for-data-instance⑤④">(4)</a>
    <li><a href="#ref-for-data-instance⑤⑤">7.2.3. Referenced Access Need</a> <a href="#ref-for-data-instance⑤⑥">(2)</a>
    <li><a href="#ref-for-data-instance⑤⑦">8.2.6. Data Grant</a> <a href="#ref-for-data-instance⑤⑧">(2)</a> <a href="#ref-for-data-instance⑤⑨">(3)</a> <a href="#ref-for-data-instance⑥⓪">(4)</a> <a href="#ref-for-data-instance⑥①">(5)</a> <a href="#ref-for-data-instance⑥②">(6)</a> <a href="#ref-for-data-instance⑥③">(7)</a> <a href="#ref-for-data-instance⑥④">(8)</a> <a href="#ref-for-data-instance⑥⑤">(9)</a>
    <li><a href="#ref-for-data-instance⑥⑥">8.2.7. Referenced Data Grant</a> <a href="#ref-for-data-instance⑥⑦">(2)</a> <a href="#ref-for-data-instance⑥⑧">(3)</a> <a href="#ref-for-data-instance⑥⑨">(4)</a> <a href="#ref-for-data-instance⑦⓪">(5)</a> <a href="#ref-for-data-instance⑦①">(6)</a> <a href="#ref-for-data-instance⑦②">(7)</a> <a href="#ref-for-data-instance⑦③">(8)</a> <a href="#ref-for-data-instance⑦④">(9)</a> <a href="#ref-for-data-instance⑦⑤">(10)</a> <a href="#ref-for-data-instance⑦⑥">(11)</a> <a href="#ref-for-data-instance⑦⑦">(12)</a> <a href="#ref-for-data-instance⑦⑧">(13)</a> <a href="#ref-for-data-instance⑦⑨">(14)</a> <a href="#ref-for-data-instance⑧⓪">(15)</a>
    <li><a href="#ref-for-data-instance⑧①">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-data-instance⑧②">(2)</a> <a href="#ref-for-data-instance⑧③">(3)</a> <a href="#ref-for-data-instance⑧④">(4)</a> <a href="#ref-for-data-instance⑧⑤">(5)</a> <a href="#ref-for-data-instance⑧⑥">(6)</a> <a href="#ref-for-data-instance⑧⑦">(7)</a> <a href="#ref-for-data-instance⑧⑧">(8)</a> <a href="#ref-for-data-instance⑧⑨">(9)</a> <a href="#ref-for-data-instance⑨⓪">(10)</a> <a href="#ref-for-data-instance⑨①">(11)</a>
    <li><a href="#ref-for-data-instance⑨②">8.4.25. Select All Data Instances</a>
    <li><a href="#ref-for-data-instance⑨③">8.4.26. Select All Referenced Data Instances</a>
    <li><a href="#ref-for-data-instance⑨④">8.4.27. Select Specific Data Instance</a> <a href="#ref-for-data-instance⑨⑤">(2)</a>
    <li><a href="#ref-for-data-instance⑨⑥">8.4.29. Select Specific Referenced Data Instance</a>
    <li><a href="#ref-for-data-instance⑨⑦">10.2.4. Remote Agent Data Registration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-need-group">
   <b><a href="#access-need-group">#access-need-group</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-need-group">3.2.1. Summary</a>
    <li><a href="#ref-for-access-need-group①">3.2.2. Application</a>
    <li><a href="#ref-for-access-need-group②">6.2.1. Presenting an Access Grant</a> <a href="#ref-for-access-need-group③">(2)</a> <a href="#ref-for-access-need-group④">(3)</a> <a href="#ref-for-access-need-group⑤">(4)</a> <a href="#ref-for-access-need-group⑥">(5)</a> <a href="#ref-for-access-need-group⑦">(6)</a> <a href="#ref-for-access-need-group⑧">(7)</a>
    <li><a href="#ref-for-access-need-group⑨">6.2.1.1. Presenting an Access Need Group</a> <a href="#ref-for-access-need-group①⓪">(2)</a> <a href="#ref-for-access-need-group①①">(3)</a> <a href="#ref-for-access-need-group①②">(4)</a> <a href="#ref-for-access-need-group①③">(5)</a>
    <li><a href="#ref-for-access-need-group①④">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-access-need-group①⑤">(2)</a> <a href="#ref-for-access-need-group①⑥">(3)</a>
    <li><a href="#ref-for-access-need-group①⑦">6.2.1.3. Presenting a Trusted Need</a> <a href="#ref-for-access-need-group①⑧">(2)</a>
    <li><a href="#ref-for-access-need-group①⑨">6.2.2. Application Requests Access</a> <a href="#ref-for-access-need-group②⓪">(2)</a> <a href="#ref-for-access-need-group②①">(3)</a>
    <li><a href="#ref-for-access-need-group②②">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-access-need-group②③">(2)</a> <a href="#ref-for-access-need-group②④">(3)</a> <a href="#ref-for-access-need-group②⑤">(4)</a> <a href="#ref-for-access-need-group②⑥">(5)</a>
    <li><a href="#ref-for-access-need-group②⑦">6.2.4. Controller Shares Access</a> <a href="#ref-for-access-need-group②⑧">(2)</a> <a href="#ref-for-access-need-group②⑨">(3)</a>
    <li><a href="#ref-for-access-need-group③⓪">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-need-group③①">(2)</a> <a href="#ref-for-access-need-group③②">(3)</a>
    <li><a href="#ref-for-access-need-group③③">7.1. Overview</a> <a href="#ref-for-access-need-group③④">(2)</a> <a href="#ref-for-access-need-group③⑤">(3)</a>
    <li><a href="#ref-for-access-need-group③⑥">7.2.1. Access Need Group</a> <a href="#ref-for-access-need-group③⑦">(2)</a> <a href="#ref-for-access-need-group③⑧">(3)</a> <a href="#ref-for-access-need-group③⑨">(4)</a> <a href="#ref-for-access-need-group④⓪">(5)</a>
    <li><a href="#ref-for-access-need-group④①">7.2.2. Access Need</a> <a href="#ref-for-access-need-group④②">(2)</a> <a href="#ref-for-access-need-group④③">(3)</a>
    <li><a href="#ref-for-access-need-group④④">7.2.4. Trusted Need</a> <a href="#ref-for-access-need-group④⑤">(2)</a>
    <li><a href="#ref-for-access-need-group④⑥">7.2.5. Access Request</a> <a href="#ref-for-access-need-group④⑦">(2)</a>
    <li><a href="#ref-for-access-need-group④⑧">7.2.7.1. Access Need Group Decorator</a> <a href="#ref-for-access-need-group④⑨">(2)</a> <a href="#ref-for-access-need-group⑤⓪">(3)</a> <a href="#ref-for-access-need-group⑤①">(4)</a>
    <li><a href="#ref-for-access-need-group⑤②">7.2.7.2. Access Need Decorator</a>
    <li><a href="#ref-for-access-need-group⑤③">7.3.2. Get Access Need Group Decorator</a> <a href="#ref-for-access-need-group⑤④">(2)</a>
    <li><a href="#ref-for-access-need-group⑤⑤">8.2.4. Access Grant</a> <a href="#ref-for-access-need-group⑤⑥">(2)</a>
    <li><a href="#ref-for-access-need-group⑤⑦">8.2.6. Data Grant</a>
    <li><a href="#ref-for-access-need-group⑤⑧">8.2.7. Referenced Data Grant</a>
    <li><a href="#ref-for-access-need-group⑤⑨">8.2.8. Remote Data Grant</a>
    <li><a href="#ref-for-access-need-group⑥⓪">8.2.9. Referenced Remote Data Grant</a>
    <li><a href="#ref-for-access-need-group⑥①">8.2.11. Access Invitation</a> <a href="#ref-for-access-need-group⑥②">(2)</a>
    <li><a href="#ref-for-access-need-group⑥③">8.4. Operations</a> <a href="#ref-for-access-need-group⑥④">(2)</a>
    <li><a href="#ref-for-access-need-group⑥⑤">8.4.1. Initialize Grant</a> <a href="#ref-for-access-need-group⑥⑥">(2)</a> <a href="#ref-for-access-need-group⑥⑦">(3)</a> <a href="#ref-for-access-need-group⑥⑧">(4)</a>
    <li><a href="#ref-for-access-need-group⑥⑨">8.4.2. Initialize Invitation</a> <a href="#ref-for-access-need-group⑦⓪">(2)</a> <a href="#ref-for-access-need-group⑦①">(3)</a> <a href="#ref-for-access-need-group⑦②">(4)</a>
    <li><a href="#ref-for-access-need-group⑦③">8.4.22. Deny Access Need Group</a> <a href="#ref-for-access-need-group⑦④">(2)</a>
    <li><a href="#ref-for-access-need-group⑦⑤">9.2.3. Access Receipt</a> <a href="#ref-for-access-need-group⑦⑥">(2)</a>
    <li><a href="#ref-for-access-need-group⑦⑦">9.4.2. Provide Receipt in Application Registration</a>
    <li><a href="#ref-for-access-need-group⑦⑧">9.4.3. Provide Receipt in Message</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-need">
   <b><a href="#access-need">#access-need</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-need">6.2.1. Presenting an Access Grant</a>
    <li><a href="#ref-for-access-need①">6.2.1.1. Presenting an Access Need Group</a> <a href="#ref-for-access-need②">(2)</a> <a href="#ref-for-access-need③">(3)</a>
    <li><a href="#ref-for-access-need④">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-access-need⑤">(2)</a> <a href="#ref-for-access-need⑥">(3)</a> <a href="#ref-for-access-need⑦">(4)</a> <a href="#ref-for-access-need⑧">(5)</a> <a href="#ref-for-access-need⑨">(6)</a> <a href="#ref-for-access-need①⓪">(7)</a> <a href="#ref-for-access-need①①">(8)</a> <a href="#ref-for-access-need①②">(9)</a> <a href="#ref-for-access-need①③">(10)</a> <a href="#ref-for-access-need①④">(11)</a>
    <li><a href="#ref-for-access-need①⑤">6.2.1.2.1. Presenting Data Access Need Details</a> <a href="#ref-for-access-need①⑥">(2)</a> <a href="#ref-for-access-need①⑦">(3)</a>
    <li><a href="#ref-for-access-need①⑧">6.2.2. Application Requests Access</a>
    <li><a href="#ref-for-access-need①⑨">6.2.3. Another Agent Requests Access</a>
    <li><a href="#ref-for-access-need②⓪">7.1. Overview</a>
    <li><a href="#ref-for-access-need②①">7.2.1. Access Need Group</a> <a href="#ref-for-access-need②②">(2)</a> <a href="#ref-for-access-need②③">(3)</a> <a href="#ref-for-access-need②④">(4)</a>
    <li><a href="#ref-for-access-need②⑤">7.2.2. Access Need</a> <a href="#ref-for-access-need②⑥">(2)</a> <a href="#ref-for-access-need②⑦">(3)</a> <a href="#ref-for-access-need②⑧">(4)</a> <a href="#ref-for-access-need②⑨">(5)</a> <a href="#ref-for-access-need③⓪">(6)</a> <a href="#ref-for-access-need③①">(7)</a> <a href="#ref-for-access-need③②">(8)</a> <a href="#ref-for-access-need③③">(9)</a> <a href="#ref-for-access-need③④">(10)</a> <a href="#ref-for-access-need③⑤">(11)</a> <a href="#ref-for-access-need③⑥">(12)</a> <a href="#ref-for-access-need③⑦">(13)</a> <a href="#ref-for-access-need③⑧">(14)</a> <a href="#ref-for-access-need③⑨">(15)</a> <a href="#ref-for-access-need④⓪">(16)</a> <a href="#ref-for-access-need④①">(17)</a> <a href="#ref-for-access-need④②">(18)</a> <a href="#ref-for-access-need④③">(19)</a>
    <li><a href="#ref-for-access-need④④">7.2.3. Referenced Access Need</a> <a href="#ref-for-access-need④⑤">(2)</a> <a href="#ref-for-access-need④⑥">(3)</a> <a href="#ref-for-access-need④⑦">(4)</a> <a href="#ref-for-access-need④⑧">(5)</a> <a href="#ref-for-access-need④⑨">(6)</a>
    <li><a href="#ref-for-access-need⑤⓪">7.2.4. Trusted Need</a> <a href="#ref-for-access-need⑤①">(2)</a>
    <li><a href="#ref-for-access-need⑤②">7.2.7.2. Access Need Decorator</a>
    <li><a href="#ref-for-access-need⑤③">7.3.3. Get Access Need Decorator</a> <a href="#ref-for-access-need⑤④">(2)</a>
    <li><a href="#ref-for-access-need⑤⑤">8.2.6. Data Grant</a> <a href="#ref-for-access-need⑤⑥">(2)</a> <a href="#ref-for-access-need⑤⑦">(3)</a> <a href="#ref-for-access-need⑤⑧">(4)</a> <a href="#ref-for-access-need⑤⑨">(5)</a> <a href="#ref-for-access-need⑥⓪">(6)</a>
    <li><a href="#ref-for-access-need⑥①">8.2.8. Remote Data Grant</a> <a href="#ref-for-access-need⑥②">(2)</a> <a href="#ref-for-access-need⑥③">(3)</a> <a href="#ref-for-access-need⑥④">(4)</a> <a href="#ref-for-access-need⑥⑤">(5)</a> <a href="#ref-for-access-need⑥⑥">(6)</a>
    <li><a href="#ref-for-access-need⑥⑦">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-access-need⑥⑧">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-access-need⑥⑨">8.4.3. Initialize Data Grant</a> <a href="#ref-for-access-need⑦⓪">(2)</a> <a href="#ref-for-access-need⑦①">(3)</a>
    <li><a href="#ref-for-access-need⑦②">8.4.4. Initialize Remote Data Grant</a> <a href="#ref-for-access-need⑦③">(2)</a> <a href="#ref-for-access-need⑦④">(3)</a>
    <li><a href="#ref-for-access-need⑦⑤">8.4.22. Deny Access Need Group</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="referenced-access-need">
   <b><a href="#referenced-access-need">#referenced-access-need</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-referenced-access-need">6.2.1.1. Presenting an Access Need Group</a>
    <li><a href="#ref-for-referenced-access-need①">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-referenced-access-need②">(2)</a> <a href="#ref-for-referenced-access-need③">(3)</a> <a href="#ref-for-referenced-access-need④">(4)</a> <a href="#ref-for-referenced-access-need⑤">(5)</a> <a href="#ref-for-referenced-access-need⑥">(6)</a> <a href="#ref-for-referenced-access-need⑦">(7)</a> <a href="#ref-for-referenced-access-need⑧">(8)</a>
    <li><a href="#ref-for-referenced-access-need⑨">6.2.1.2.1. Presenting Data Access Need Details</a> <a href="#ref-for-referenced-access-need①⓪">(2)</a>
    <li><a href="#ref-for-referenced-access-need①①">7.2.2. Access Need</a> <a href="#ref-for-referenced-access-need①②">(2)</a> <a href="#ref-for-referenced-access-need①③">(3)</a>
    <li><a href="#ref-for-referenced-access-need①④">7.2.3. Referenced Access Need</a> <a href="#ref-for-referenced-access-need①⑤">(2)</a> <a href="#ref-for-referenced-access-need①⑥">(3)</a> <a href="#ref-for-referenced-access-need①⑦">(4)</a> <a href="#ref-for-referenced-access-need①⑧">(5)</a> <a href="#ref-for-referenced-access-need①⑨">(6)</a> <a href="#ref-for-referenced-access-need②⓪">(7)</a> <a href="#ref-for-referenced-access-need②①">(8)</a>
    <li><a href="#ref-for-referenced-access-need②②">8.2.7. Referenced Data Grant</a> <a href="#ref-for-referenced-access-need②③">(2)</a> <a href="#ref-for-referenced-access-need②④">(3)</a> <a href="#ref-for-referenced-access-need②⑤">(4)</a> <a href="#ref-for-referenced-access-need②⑥">(5)</a> <a href="#ref-for-referenced-access-need②⑦">(6)</a>
    <li><a href="#ref-for-referenced-access-need②⑧">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-referenced-access-need②⑨">(2)</a> <a href="#ref-for-referenced-access-need③⓪">(3)</a> <a href="#ref-for-referenced-access-need③①">(4)</a> <a href="#ref-for-referenced-access-need③②">(5)</a> <a href="#ref-for-referenced-access-need③③">(6)</a>
    <li><a href="#ref-for-referenced-access-need③④">8.4.3. Initialize Data Grant</a> <a href="#ref-for-referenced-access-need③⑤">(2)</a>
    <li><a href="#ref-for-referenced-access-need③⑥">8.4.4. Initialize Remote Data Grant</a> <a href="#ref-for-referenced-access-need③⑦">(2)</a>
    <li><a href="#ref-for-referenced-access-need③⑧">8.4.37. Deny Referenced Remote Data Grant</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="trusted-need">
   <b><a href="#trusted-need">#trusted-need</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trusted-need">6.2.1. Presenting an Access Grant</a>
    <li><a href="#ref-for-trusted-need①">6.2.1.1. Presenting an Access Need Group</a> <a href="#ref-for-trusted-need②">(2)</a>
    <li><a href="#ref-for-trusted-need③">6.2.1.3. Presenting a Trusted Need</a> <a href="#ref-for-trusted-need④">(2)</a> <a href="#ref-for-trusted-need⑤">(3)</a> <a href="#ref-for-trusted-need⑥">(4)</a> <a href="#ref-for-trusted-need⑦">(5)</a>
    <li><a href="#ref-for-trusted-need⑧">7.1. Overview</a>
    <li><a href="#ref-for-trusted-need⑨">7.2.1. Access Need Group</a> <a href="#ref-for-trusted-need①⓪">(2)</a> <a href="#ref-for-trusted-need①①">(3)</a>
    <li><a href="#ref-for-trusted-need①②">7.2.4. Trusted Need</a> <a href="#ref-for-trusted-need①③">(2)</a> <a href="#ref-for-trusted-need①④">(3)</a> <a href="#ref-for-trusted-need①⑤">(4)</a> <a href="#ref-for-trusted-need①⑥">(5)</a> <a href="#ref-for-trusted-need①⑦">(6)</a> <a href="#ref-for-trusted-need①⑧">(7)</a>
    <li><a href="#ref-for-trusted-need①⑨">8.2.10. Trusted Grant</a> <a href="#ref-for-trusted-need②⓪">(2)</a>
    <li><a href="#ref-for-trusted-need②①">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-trusted-need②②">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-trusted-need②③">8.4.5. Initialize Trusted Grant</a> <a href="#ref-for-trusted-need②④">(2)</a>
    <li><a href="#ref-for-trusted-need②⑤">8.4.22. Deny Access Need Group</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-request">
   <b><a href="#access-request">#access-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-request">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-access-request①">(2)</a> <a href="#ref-for-access-request②">(3)</a>
    <li><a href="#ref-for-access-request③">7.2.5. Access Request</a> <a href="#ref-for-access-request④">(2)</a> <a href="#ref-for-access-request⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-decorator-index">
   <b><a href="#access-decorator-index">#access-decorator-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-decorator-index">7.2.1. Access Need Group</a>
    <li><a href="#ref-for-access-decorator-index①">7.2.6. Access Decorator Index</a>
    <li><a href="#ref-for-access-decorator-index②">7.3.1. Get Access Decorator Resource</a> <a href="#ref-for-access-decorator-index③">(2)</a> <a href="#ref-for-access-decorator-index④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-decorator-series">
   <b><a href="#access-decorator-series">#access-decorator-series</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-decorator-series">7.2.1. Access Need Group</a> <a href="#ref-for-access-decorator-series①">(2)</a>
    <li><a href="#ref-for-access-decorator-series②">7.2.6. Access Decorator Index</a> <a href="#ref-for-access-decorator-series③">(2)</a>
    <li><a href="#ref-for-access-decorator-series④">7.2.6.1. Access Decorator Series</a>
    <li><a href="#ref-for-access-decorator-series⑤">7.3.1. Get Access Decorator Resource</a> <a href="#ref-for-access-decorator-series⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-decorator-version">
   <b><a href="#access-decorator-version">#access-decorator-version</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-decorator-version">7.2.6.1. Access Decorator Series</a> <a href="#ref-for-access-decorator-version①">(2)</a>
    <li><a href="#ref-for-access-decorator-version②">7.3.1. Get Access Decorator Resource</a> <a href="#ref-for-access-decorator-version③">(2)</a> <a href="#ref-for-access-decorator-version④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-decorator-resource">
   <b><a href="#access-decorator-resource">#access-decorator-resource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-decorator-resource">7.2.1. Access Need Group</a> <a href="#ref-for-access-decorator-resource①">(2)</a>
    <li><a href="#ref-for-access-decorator-resource②">7.2.6.2. Access Decorator Version</a> <a href="#ref-for-access-decorator-resource③">(2)</a> <a href="#ref-for-access-decorator-resource④">(3)</a> <a href="#ref-for-access-decorator-resource⑤">(4)</a>
    <li><a href="#ref-for-access-decorator-resource⑥">7.3.1. Get Access Decorator Resource</a> <a href="#ref-for-access-decorator-resource⑦">(2)</a> <a href="#ref-for-access-decorator-resource⑧">(3)</a>
    <li><a href="#ref-for-access-decorator-resource⑨">7.3.2. Get Access Need Group Decorator</a>
    <li><a href="#ref-for-access-decorator-resource①⓪">7.3.3. Get Access Need Decorator</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-need-group-decorator">
   <b><a href="#access-need-group-decorator">#access-need-group-decorator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-need-group-decorator">6.2.1.1. Presenting an Access Need Group</a>
    <li><a href="#ref-for-access-need-group-decorator①">7.2.1. Access Need Group</a>
    <li><a href="#ref-for-access-need-group-decorator②">7.2.7. Access Decorator Resource</a>
    <li><a href="#ref-for-access-need-group-decorator③">7.3.2. Get Access Need Group Decorator</a> <a href="#ref-for-access-need-group-decorator④">(2)</a> <a href="#ref-for-access-need-group-decorator⑤">(3)</a> <a href="#ref-for-access-need-group-decorator⑥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-need-decorator">
   <b><a href="#access-need-decorator">#access-need-decorator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-need-decorator">6.2.1.2.1. Presenting Data Access Need Details</a>
    <li><a href="#ref-for-access-need-decorator①">6.2.1.3. Presenting a Trusted Need</a>
    <li><a href="#ref-for-access-need-decorator②">7.2.2. Access Need</a>
    <li><a href="#ref-for-access-need-decorator③">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-access-need-decorator④">7.2.7. Access Decorator Resource</a>
    <li><a href="#ref-for-access-need-decorator⑤">7.3.3. Get Access Need Decorator</a> <a href="#ref-for-access-need-decorator⑥">(2)</a> <a href="#ref-for-access-need-decorator⑦">(3)</a> <a href="#ref-for-access-need-decorator⑧">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-grant-registry-set">
   <b><a href="#access-grant-registry-set">#access-grant-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-grant-registry-set">2.2.2. Agent</a>
    <li><a href="#ref-for-access-grant-registry-set①">8.2.1. Summary</a> <a href="#ref-for-access-grant-registry-set②">(2)</a>
    <li><a href="#ref-for-access-grant-registry-set③">8.2.2. Access Grant Registry Set</a>
    <li><a href="#ref-for-access-grant-registry-set④">8.3. Resource Hierarchy</a> <a href="#ref-for-access-grant-registry-set⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-grant-registry">
   <b><a href="#access-grant-registry">#access-grant-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-grant-registry">6.2.2. Application Requests Access</a>
    <li><a href="#ref-for-access-grant-registry①">6.2.3. Another Agent Requests Access</a>
    <li><a href="#ref-for-access-grant-registry②">6.2.4. Controller Shares Access</a>
    <li><a href="#ref-for-access-grant-registry③">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-grant-registry④">(2)</a>
    <li><a href="#ref-for-access-grant-registry⑤">7.1. Overview</a>
    <li><a href="#ref-for-access-grant-registry⑥">8.1. Overview</a>
    <li><a href="#ref-for-access-grant-registry⑦">8.2.1. Summary</a> <a href="#ref-for-access-grant-registry⑧">(2)</a>
    <li><a href="#ref-for-access-grant-registry⑨">8.2.2. Access Grant Registry Set</a> <a href="#ref-for-access-grant-registry①⓪">(2)</a> <a href="#ref-for-access-grant-registry①①">(3)</a>
    <li><a href="#ref-for-access-grant-registry①②">8.2.3. Access Grant Registry</a>
    <li><a href="#ref-for-access-grant-registry①③">8.3. Resource Hierarchy</a> <a href="#ref-for-access-grant-registry①④">(2)</a>
    <li><a href="#ref-for-access-grant-registry①⑤">8.4. Operations</a> <a href="#ref-for-access-grant-registry①⑥">(2)</a> <a href="#ref-for-access-grant-registry①⑦">(3)</a> <a href="#ref-for-access-grant-registry①⑧">(4)</a>
    <li><a href="#ref-for-access-grant-registry①⑨">8.4.6. Load Grant</a> <a href="#ref-for-access-grant-registry②⓪">(2)</a>
    <li><a href="#ref-for-access-grant-registry②①">8.4.7. Load Invitation</a> <a href="#ref-for-access-grant-registry②②">(2)</a>
    <li><a href="#ref-for-access-grant-registry②③">8.4.8. Record Grant</a> <a href="#ref-for-access-grant-registry②④">(2)</a>
    <li><a href="#ref-for-access-grant-registry②⑤">8.4.9. Record Invitation</a> <a href="#ref-for-access-grant-registry②⑥">(2)</a>
    <li><a href="#ref-for-access-grant-registry②⑦">9.4.4. Record Access Receipt</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-grant">
   <b><a href="#access-grant">#access-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-grant">5.4. Permission Model</a>
    <li><a href="#ref-for-access-grant①">6.1. Overview</a>
    <li><a href="#ref-for-access-grant②">6.2.1. Presenting an Access Grant</a> <a href="#ref-for-access-grant③">(2)</a> <a href="#ref-for-access-grant④">(3)</a> <a href="#ref-for-access-grant⑤">(4)</a> <a href="#ref-for-access-grant⑥">(5)</a>
    <li><a href="#ref-for-access-grant⑦">6.2.1.1. Presenting an Access Need Group</a> <a href="#ref-for-access-grant⑧">(2)</a>
    <li><a href="#ref-for-access-grant⑨">6.2.1.2. Presenting a Data Access Need</a>
    <li><a href="#ref-for-access-grant①⓪">6.2.1.3. Presenting a Trusted Need</a> <a href="#ref-for-access-grant①①">(2)</a>
    <li><a href="#ref-for-access-grant①②">6.2.2. Application Requests Access</a> <a href="#ref-for-access-grant①③">(2)</a>
    <li><a href="#ref-for-access-grant①④">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-access-grant①⑤">(2)</a>
    <li><a href="#ref-for-access-grant①⑥">6.2.4. Controller Shares Access</a> <a href="#ref-for-access-grant①⑦">(2)</a>
    <li><a href="#ref-for-access-grant①⑧">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-grant①⑨">(2)</a> <a href="#ref-for-access-grant②⓪">(3)</a> <a href="#ref-for-access-grant②①">(4)</a>
    <li><a href="#ref-for-access-grant②②">7.1. Overview</a>
    <li><a href="#ref-for-access-grant②③">7.2.2. Access Need</a> <a href="#ref-for-access-grant②④">(2)</a>
    <li><a href="#ref-for-access-grant②⑤">7.2.3. Referenced Access Need</a> <a href="#ref-for-access-grant②⑥">(2)</a>
    <li><a href="#ref-for-access-grant②⑦">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-access-grant②⑧">8.1. Overview</a> <a href="#ref-for-access-grant②⑨">(2)</a> <a href="#ref-for-access-grant③⓪">(3)</a> <a href="#ref-for-access-grant③①">(4)</a>
    <li><a href="#ref-for-access-grant③②">8.2.1. Summary</a>
    <li><a href="#ref-for-access-grant③③">8.2.3. Access Grant Registry</a> <a href="#ref-for-access-grant③④">(2)</a> <a href="#ref-for-access-grant③⑤">(3)</a>
    <li><a href="#ref-for-access-grant③⑥">8.2.4. Access Grant</a> <a href="#ref-for-access-grant③⑦">(2)</a> <a href="#ref-for-access-grant③⑧">(3)</a> <a href="#ref-for-access-grant③⑨">(4)</a> <a href="#ref-for-access-grant④⓪">(5)</a>
    <li><a href="#ref-for-access-grant④①">8.2.6. Data Grant</a> <a href="#ref-for-access-grant④②">(2)</a>
    <li><a href="#ref-for-access-grant④③">8.2.7. Referenced Data Grant</a>
    <li><a href="#ref-for-access-grant④④">8.2.8. Remote Data Grant</a> <a href="#ref-for-access-grant④⑤">(2)</a>
    <li><a href="#ref-for-access-grant④⑥">8.2.9. Referenced Remote Data Grant</a>
    <li><a href="#ref-for-access-grant④⑦">8.2.10. Trusted Grant</a>
    <li><a href="#ref-for-access-grant④⑧">8.2.11. Access Invitation</a> <a href="#ref-for-access-grant④⑨">(2)</a> <a href="#ref-for-access-grant⑤⓪">(3)</a>
    <li><a href="#ref-for-access-grant⑤①">8.3. Resource Hierarchy</a>
    <li><a href="#ref-for-access-grant⑤②">8.4. Operations</a> <a href="#ref-for-access-grant⑤③">(2)</a> <a href="#ref-for-access-grant⑤④">(3)</a> <a href="#ref-for-access-grant⑤⑤">(4)</a> <a href="#ref-for-access-grant⑤⑥">(5)</a> <a href="#ref-for-access-grant⑤⑦">(6)</a> <a href="#ref-for-access-grant⑤⑧">(7)</a> <a href="#ref-for-access-grant⑤⑨">(8)</a> <a href="#ref-for-access-grant⑥⓪">(9)</a> <a href="#ref-for-access-grant⑥①">(10)</a> <a href="#ref-for-access-grant⑥②">(11)</a>
    <li><a href="#ref-for-access-grant⑥③">8.4.1. Initialize Grant</a> <a href="#ref-for-access-grant⑥④">(2)</a> <a href="#ref-for-access-grant⑥⑤">(3)</a> <a href="#ref-for-access-grant⑥⑥">(4)</a> <a href="#ref-for-access-grant⑥⑦">(5)</a>
    <li><a href="#ref-for-access-grant⑥⑧">8.4.3. Initialize Data Grant</a>
    <li><a href="#ref-for-access-grant⑥⑨">8.4.4. Initialize Remote Data Grant</a>
    <li><a href="#ref-for-access-grant⑦⓪">8.4.5. Initialize Trusted Grant</a>
    <li><a href="#ref-for-access-grant⑦①">8.4.6. Load Grant</a> <a href="#ref-for-access-grant⑦②">(2)</a> <a href="#ref-for-access-grant⑦③">(3)</a>
    <li><a href="#ref-for-access-grant⑦④">8.4.8. Record Grant</a> <a href="#ref-for-access-grant⑦⑤">(2)</a> <a href="#ref-for-access-grant⑦⑥">(3)</a>
    <li><a href="#ref-for-access-grant⑦⑦">8.4.12. Apply Permissions</a> <a href="#ref-for-access-grant⑦⑧">(2)</a> <a href="#ref-for-access-grant⑦⑨">(3)</a> <a href="#ref-for-access-grant⑧⓪">(4)</a> <a href="#ref-for-access-grant⑧①">(5)</a>
    <li><a href="#ref-for-access-grant⑧②">8.4.13. Apply Data Permissions</a> <a href="#ref-for-access-grant⑧③">(2)</a> <a href="#ref-for-access-grant⑧④">(3)</a>
    <li><a href="#ref-for-access-grant⑧⑤">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-access-grant⑧⑥">(2)</a>
    <li><a href="#ref-for-access-grant⑧⑦">8.4.16. Apply Remote Data Permissions</a> <a href="#ref-for-access-grant⑧⑧">(2)</a> <a href="#ref-for-access-grant⑧⑨">(3)</a>
    <li><a href="#ref-for-access-grant⑨⓪">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-access-grant⑨①">(2)</a>
    <li><a href="#ref-for-access-grant⑨②">8.4.18. Apply Trusted Permissions</a>
    <li><a href="#ref-for-access-grant⑨③">8.4.22. Deny Access Need Group</a>
    <li><a href="#ref-for-access-grant⑨④">8.4.23. Deny Data Grant</a>
    <li><a href="#ref-for-access-grant⑨⑤">8.4.25. Select All Data Instances</a>
    <li><a href="#ref-for-access-grant⑨⑥">8.4.27. Select Specific Data Instance</a>
    <li><a href="#ref-for-access-grant⑨⑦">8.4.30. Select All Remote Instances</a>
    <li><a href="#ref-for-access-grant⑨⑧">8.4.32. Select All Remote From Agent</a>
    <li><a href="#ref-for-access-grant⑨⑨">8.4.34. Select Specific Remote Agent Data Grants</a>
    <li><a href="#ref-for-access-grant①⓪⓪">8.4.36. Deny Remote Data Grant</a>
    <li><a href="#ref-for-access-grant①⓪①">8.4.37. Deny Referenced Remote Data Grant</a>
    <li><a href="#ref-for-access-grant①⓪②">8.4.38. Select Trusted Registry Set</a>
    <li><a href="#ref-for-access-grant①⓪③">8.4.39. Select Specific Trusted Registry</a>
    <li><a href="#ref-for-access-grant①⓪④">8.4.40. Deny Trusted Grant</a>
    <li><a href="#ref-for-access-grant①⓪⑤">9.2.3. Access Receipt</a> <a href="#ref-for-access-grant①⓪⑥">(2)</a> <a href="#ref-for-access-grant①⓪⑦">(3)</a>
    <li><a href="#ref-for-access-grant①⓪⑧">9.4.1. Provide Access Receipt</a> <a href="#ref-for-access-grant①⓪⑨">(2)</a>
    <li><a href="#ref-for-access-grant①①⓪">9.4.2. Provide Receipt in Application Registration</a> <a href="#ref-for-access-grant①①①">(2)</a>
    <li><a href="#ref-for-access-grant①①②">9.4.3. Provide Receipt in Message</a> <a href="#ref-for-access-grant①①③">(2)</a>
    <li><a href="#ref-for-access-grant①①④">10.1. Overview</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-grant-subject">
   <b><a href="#access-grant-subject">#access-grant-subject</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-grant-subject">6.2.1. Presenting an Access Grant</a> <a href="#ref-for-access-grant-subject①">(2)</a> <a href="#ref-for-access-grant-subject②">(3)</a> <a href="#ref-for-access-grant-subject③">(4)</a>
    <li><a href="#ref-for-access-grant-subject④">8.2.4. Access Grant</a> <a href="#ref-for-access-grant-subject⑤">(2)</a>
    <li><a href="#ref-for-access-grant-subject⑥">8.2.5. Access Grant Subject</a>
    <li><a href="#ref-for-access-grant-subject⑦">8.2.6. Data Grant</a> <a href="#ref-for-access-grant-subject⑧">(2)</a> <a href="#ref-for-access-grant-subject⑨">(3)</a> <a href="#ref-for-access-grant-subject①⓪">(4)</a>
    <li><a href="#ref-for-access-grant-subject①①">8.2.7. Referenced Data Grant</a> <a href="#ref-for-access-grant-subject①②">(2)</a> <a href="#ref-for-access-grant-subject①③">(3)</a> <a href="#ref-for-access-grant-subject①④">(4)</a> <a href="#ref-for-access-grant-subject①⑤">(5)</a>
    <li><a href="#ref-for-access-grant-subject①⑥">8.2.8. Remote Data Grant</a> <a href="#ref-for-access-grant-subject①⑦">(2)</a> <a href="#ref-for-access-grant-subject①⑧">(3)</a> <a href="#ref-for-access-grant-subject①⑨">(4)</a> <a href="#ref-for-access-grant-subject②⓪">(5)</a> <a href="#ref-for-access-grant-subject②①">(6)</a>
    <li><a href="#ref-for-access-grant-subject②②">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-access-grant-subject②③">(2)</a> <a href="#ref-for-access-grant-subject②④">(3)</a> <a href="#ref-for-access-grant-subject②⑤">(4)</a> <a href="#ref-for-access-grant-subject②⑥">(5)</a>
    <li><a href="#ref-for-access-grant-subject②⑦">8.2.10. Trusted Grant</a>
    <li><a href="#ref-for-access-grant-subject②⑧">8.2.11. Access Invitation</a>
    <li><a href="#ref-for-access-grant-subject②⑨">8.4. Operations</a> <a href="#ref-for-access-grant-subject③⓪">(2)</a> <a href="#ref-for-access-grant-subject③①">(3)</a> <a href="#ref-for-access-grant-subject③②">(4)</a>
    <li><a href="#ref-for-access-grant-subject③③">8.4.1. Initialize Grant</a> <a href="#ref-for-access-grant-subject③④">(2)</a>
    <li><a href="#ref-for-access-grant-subject③⑤">8.4.6. Load Grant</a>
    <li><a href="#ref-for-access-grant-subject③⑥">8.4.12. Apply Permissions</a>
    <li><a href="#ref-for-access-grant-subject③⑦">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-access-grant-subject③⑧">(2)</a>
    <li><a href="#ref-for-access-grant-subject③⑨">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-access-grant-subject④⓪">(2)</a>
    <li><a href="#ref-for-access-grant-subject④①">8.4.18. Apply Trusted Permissions</a>
    <li><a href="#ref-for-access-grant-subject④②">8.4.19. Apply Resource Permissions</a> <a href="#ref-for-access-grant-subject④③">(2)</a> <a href="#ref-for-access-grant-subject④④">(3)</a> <a href="#ref-for-access-grant-subject④⑤">(4)</a>
    <li><a href="#ref-for-access-grant-subject④⑥">8.4.20. Apply Conditional Resource Permissions</a> <a href="#ref-for-access-grant-subject④⑦">(2)</a> <a href="#ref-for-access-grant-subject④⑧">(3)</a> <a href="#ref-for-access-grant-subject④⑨">(4)</a>
    <li><a href="#ref-for-access-grant-subject⑤⓪">8.4.21. Remove Resource Permissions</a> <a href="#ref-for-access-grant-subject⑤①">(2)</a> <a href="#ref-for-access-grant-subject⑤②">(3)</a> <a href="#ref-for-access-grant-subject⑤③">(4)</a>
    <li><a href="#ref-for-access-grant-subject⑤④">9.2.3. Access Receipt</a> <a href="#ref-for-access-grant-subject⑤⑤">(2)</a>
    <li><a href="#ref-for-access-grant-subject⑤⑥">9.4.1. Provide Access Receipt</a>
    <li><a href="#ref-for-access-grant-subject⑤⑦">9.4.2. Provide Receipt in Application Registration</a> <a href="#ref-for-access-grant-subject⑤⑧">(2)</a>
    <li><a href="#ref-for-access-grant-subject⑤⑨">9.4.3. Provide Receipt in Message</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-grant">
   <b><a href="#data-grant">#data-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-grant">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-data-grant①">(2)</a> <a href="#ref-for-data-grant②">(3)</a> <a href="#ref-for-data-grant③">(4)</a> <a href="#ref-for-data-grant④">(5)</a>
    <li><a href="#ref-for-data-grant⑤">7.2.2. Access Need</a>
    <li><a href="#ref-for-data-grant⑥">8.1. Overview</a>
    <li><a href="#ref-for-data-grant⑦">8.2.4. Access Grant</a> <a href="#ref-for-data-grant⑧">(2)</a>
    <li><a href="#ref-for-data-grant⑨">8.2.6. Data Grant</a> <a href="#ref-for-data-grant①⓪">(2)</a> <a href="#ref-for-data-grant①①">(3)</a> <a href="#ref-for-data-grant①②">(4)</a> <a href="#ref-for-data-grant①③">(5)</a> <a href="#ref-for-data-grant①④">(6)</a> <a href="#ref-for-data-grant①⑤">(7)</a> <a href="#ref-for-data-grant①⑥">(8)</a> <a href="#ref-for-data-grant①⑦">(9)</a> <a href="#ref-for-data-grant①⑧">(10)</a> <a href="#ref-for-data-grant①⑨">(11)</a> <a href="#ref-for-data-grant②⓪">(12)</a> <a href="#ref-for-data-grant②①">(13)</a>
    <li><a href="#ref-for-data-grant②②">8.2.7. Referenced Data Grant</a> <a href="#ref-for-data-grant②③">(2)</a> <a href="#ref-for-data-grant②④">(3)</a> <a href="#ref-for-data-grant②⑤">(4)</a> <a href="#ref-for-data-grant②⑥">(5)</a> <a href="#ref-for-data-grant②⑦">(6)</a> <a href="#ref-for-data-grant②⑧">(7)</a> <a href="#ref-for-data-grant②⑨">(8)</a> <a href="#ref-for-data-grant③⓪">(9)</a>
    <li><a href="#ref-for-data-grant③①">8.2.8. Remote Data Grant</a> <a href="#ref-for-data-grant③②">(2)</a> <a href="#ref-for-data-grant③③">(3)</a> <a href="#ref-for-data-grant③④">(4)</a> <a href="#ref-for-data-grant③⑤">(5)</a> <a href="#ref-for-data-grant③⑥">(6)</a> <a href="#ref-for-data-grant③⑦">(7)</a> <a href="#ref-for-data-grant③⑧">(8)</a> <a href="#ref-for-data-grant③⑨">(9)</a>
    <li><a href="#ref-for-data-grant④⓪">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-data-grant④①">(2)</a> <a href="#ref-for-data-grant④②">(3)</a> <a href="#ref-for-data-grant④③">(4)</a> <a href="#ref-for-data-grant④④">(5)</a> <a href="#ref-for-data-grant④⑤">(6)</a> <a href="#ref-for-data-grant④⑥">(7)</a> <a href="#ref-for-data-grant④⑦">(8)</a> <a href="#ref-for-data-grant④⑧">(9)</a>
    <li><a href="#ref-for-data-grant④⑨">8.2.11. Access Invitation</a> <a href="#ref-for-data-grant⑤⓪">(2)</a>
    <li><a href="#ref-for-data-grant⑤①">8.4. Operations</a> <a href="#ref-for-data-grant⑤②">(2)</a> <a href="#ref-for-data-grant⑤③">(3)</a>
    <li><a href="#ref-for-data-grant⑤④">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-data-grant⑤⑤">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-data-grant⑤⑥">8.4.3. Initialize Data Grant</a> <a href="#ref-for-data-grant⑤⑦">(2)</a> <a href="#ref-for-data-grant⑤⑧">(3)</a> <a href="#ref-for-data-grant⑤⑨">(4)</a> <a href="#ref-for-data-grant⑥⓪">(5)</a>
    <li><a href="#ref-for-data-grant⑥①">8.4.12. Apply Permissions</a>
    <li><a href="#ref-for-data-grant⑥②">8.4.13. Apply Data Permissions</a> <a href="#ref-for-data-grant⑥③">(2)</a> <a href="#ref-for-data-grant⑥④">(3)</a> <a href="#ref-for-data-grant⑥⑤">(4)</a> <a href="#ref-for-data-grant⑥⑥">(5)</a> <a href="#ref-for-data-grant⑥⑦">(6)</a>
    <li><a href="#ref-for-data-grant⑥⑧">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-data-grant⑥⑨">(2)</a> <a href="#ref-for-data-grant⑦⓪">(3)</a> <a href="#ref-for-data-grant⑦①">(4)</a> <a href="#ref-for-data-grant⑦②">(5)</a>
    <li><a href="#ref-for-data-grant⑦③">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-data-grant⑦④">(2)</a> <a href="#ref-for-data-grant⑦⑤">(3)</a> <a href="#ref-for-data-grant⑦⑥">(4)</a> <a href="#ref-for-data-grant⑦⑦">(5)</a> <a href="#ref-for-data-grant⑦⑧">(6)</a>
    <li><a href="#ref-for-data-grant⑦⑨">8.4.23. Deny Data Grant</a> <a href="#ref-for-data-grant⑧⓪">(2)</a>
    <li><a href="#ref-for-data-grant⑧①">8.4.24. Deny Referenced Data Grant</a>
    <li><a href="#ref-for-data-grant⑧②">8.4.25. Select All Data Instances</a> <a href="#ref-for-data-grant⑧③">(2)</a>
    <li><a href="#ref-for-data-grant⑧④">8.4.27. Select Specific Data Instance</a> <a href="#ref-for-data-grant⑧⑤">(2)</a> <a href="#ref-for-data-grant⑧⑥">(3)</a>
    <li><a href="#ref-for-data-grant⑧⑦">8.4.28. Select Inherited Referenced Data Instance</a>
    <li><a href="#ref-for-data-grant⑧⑧">8.4.29. Select Specific Referenced Data Instance</a>
    <li><a href="#ref-for-data-grant⑧⑨">8.4.30. Select All Remote Instances</a>
    <li><a href="#ref-for-data-grant⑨⓪">8.4.31. Select All Referenced Remote Instances</a>
    <li><a href="#ref-for-data-grant⑨①">8.4.32. Select All Remote From Agent</a>
    <li><a href="#ref-for-data-grant⑨②">8.4.33. Select All Referenced Remote From Agent</a>
    <li><a href="#ref-for-data-grant⑨③">8.4.34. Select Specific Remote Agent Data Grants</a> <a href="#ref-for-data-grant⑨④">(2)</a> <a href="#ref-for-data-grant⑨⑤">(3)</a>
    <li><a href="#ref-for-data-grant⑨⑥">8.4.35. Select Specific Referenced Remote Agent Data Instances</a> <a href="#ref-for-data-grant⑨⑦">(2)</a> <a href="#ref-for-data-grant⑨⑧">(3)</a>
    <li><a href="#ref-for-data-grant⑨⑨">9.2.3. Access Receipt</a> <a href="#ref-for-data-grant①⓪⓪">(2)</a>
    <li><a href="#ref-for-data-grant①⓪①">9.4.2. Provide Receipt in Application Registration</a>
    <li><a href="#ref-for-data-grant①⓪②">9.4.3. Provide Receipt in Message</a>
    <li><a href="#ref-for-data-grant①⓪③">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-data-grant①⓪④">(2)</a> <a href="#ref-for-data-grant①⓪⑤">(3)</a> <a href="#ref-for-data-grant①⓪⑥">(4)</a> <a href="#ref-for-data-grant①⓪⑦">(5)</a>
    <li><a href="#ref-for-data-grant①⓪⑧">10.3. Resource Hierarchy</a> <a href="#ref-for-data-grant①⓪⑨">(2)</a>
    <li><a href="#ref-for-data-grant①①⓪">10.4.3. Update Remote Data</a> <a href="#ref-for-data-grant①①①">(2)</a> <a href="#ref-for-data-grant①①②">(3)</a> <a href="#ref-for-data-grant①①③">(4)</a> <a href="#ref-for-data-grant①①④">(5)</a> <a href="#ref-for-data-grant①①⑤">(6)</a>
    <li><a href="#ref-for-data-grant①①⑥">10.4.6. Update Remote Agent Data Registration</a> <a href="#ref-for-data-grant①①⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="referenced-data-grant">
   <b><a href="#referenced-data-grant">#referenced-data-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-referenced-data-grant">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-referenced-data-grant①">(2)</a> <a href="#ref-for-referenced-data-grant②">(3)</a> <a href="#ref-for-referenced-data-grant③">(4)</a> <a href="#ref-for-referenced-data-grant④">(5)</a>
    <li><a href="#ref-for-referenced-data-grant⑤">7.2.3. Referenced Access Need</a>
    <li><a href="#ref-for-referenced-data-grant⑥">8.2.6. Data Grant</a> <a href="#ref-for-referenced-data-grant⑦">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑧">8.2.7. Referenced Data Grant</a> <a href="#ref-for-referenced-data-grant⑨">(2)</a> <a href="#ref-for-referenced-data-grant①⓪">(3)</a> <a href="#ref-for-referenced-data-grant①①">(4)</a> <a href="#ref-for-referenced-data-grant①②">(5)</a> <a href="#ref-for-referenced-data-grant①③">(6)</a> <a href="#ref-for-referenced-data-grant①④">(7)</a> <a href="#ref-for-referenced-data-grant①⑤">(8)</a> <a href="#ref-for-referenced-data-grant①⑥">(9)</a> <a href="#ref-for-referenced-data-grant①⑦">(10)</a> <a href="#ref-for-referenced-data-grant①⑧">(11)</a> <a href="#ref-for-referenced-data-grant①⑨">(12)</a> <a href="#ref-for-referenced-data-grant②⓪">(13)</a>
    <li><a href="#ref-for-referenced-data-grant②①">8.2.8. Remote Data Grant</a> <a href="#ref-for-referenced-data-grant②②">(2)</a> <a href="#ref-for-referenced-data-grant②③">(3)</a> <a href="#ref-for-referenced-data-grant②④">(4)</a> <a href="#ref-for-referenced-data-grant②⑤">(5)</a> <a href="#ref-for-referenced-data-grant②⑥">(6)</a> <a href="#ref-for-referenced-data-grant②⑦">(7)</a> <a href="#ref-for-referenced-data-grant②⑧">(8)</a> <a href="#ref-for-referenced-data-grant②⑨">(9)</a>
    <li><a href="#ref-for-referenced-data-grant③⓪">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-referenced-data-grant③①">(2)</a> <a href="#ref-for-referenced-data-grant③②">(3)</a> <a href="#ref-for-referenced-data-grant③③">(4)</a> <a href="#ref-for-referenced-data-grant③④">(5)</a> <a href="#ref-for-referenced-data-grant③⑤">(6)</a> <a href="#ref-for-referenced-data-grant③⑥">(7)</a> <a href="#ref-for-referenced-data-grant③⑦">(8)</a> <a href="#ref-for-referenced-data-grant③⑧">(9)</a>
    <li><a href="#ref-for-referenced-data-grant③⑨">8.4.3. Initialize Data Grant</a> <a href="#ref-for-referenced-data-grant④⓪">(2)</a>
    <li><a href="#ref-for-referenced-data-grant④①">8.4.13. Apply Data Permissions</a> <a href="#ref-for-referenced-data-grant④②">(2)</a> <a href="#ref-for-referenced-data-grant④③">(3)</a> <a href="#ref-for-referenced-data-grant④④">(4)</a> <a href="#ref-for-referenced-data-grant④⑤">(5)</a> <a href="#ref-for-referenced-data-grant④⑥">(6)</a>
    <li><a href="#ref-for-referenced-data-grant④⑦">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-referenced-data-grant④⑧">(2)</a> <a href="#ref-for-referenced-data-grant④⑨">(3)</a> <a href="#ref-for-referenced-data-grant⑤⓪">(4)</a>
    <li><a href="#ref-for-referenced-data-grant⑤①">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-referenced-data-grant⑤②">(2)</a> <a href="#ref-for-referenced-data-grant⑤③">(3)</a> <a href="#ref-for-referenced-data-grant⑤④">(4)</a> <a href="#ref-for-referenced-data-grant⑤⑤">(5)</a> <a href="#ref-for-referenced-data-grant⑤⑥">(6)</a>
    <li><a href="#ref-for-referenced-data-grant⑤⑦">8.4.23. Deny Data Grant</a>
    <li><a href="#ref-for-referenced-data-grant⑤⑧">8.4.24. Deny Referenced Data Grant</a> <a href="#ref-for-referenced-data-grant⑤⑨">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑥⓪">8.4.25. Select All Data Instances</a>
    <li><a href="#ref-for-referenced-data-grant⑥①">8.4.26. Select All Referenced Data Instances</a> <a href="#ref-for-referenced-data-grant⑥②">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑥③">8.4.27. Select Specific Data Instance</a> <a href="#ref-for-referenced-data-grant⑥④">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑥⑤">8.4.28. Select Inherited Referenced Data Instance</a> <a href="#ref-for-referenced-data-grant⑥⑥">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑥⑦">8.4.29. Select Specific Referenced Data Instance</a> <a href="#ref-for-referenced-data-grant⑥⑧">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑥⑨">8.4.30. Select All Remote Instances</a>
    <li><a href="#ref-for-referenced-data-grant⑦⓪">8.4.31. Select All Referenced Remote Instances</a>
    <li><a href="#ref-for-referenced-data-grant⑦①">8.4.32. Select All Remote From Agent</a>
    <li><a href="#ref-for-referenced-data-grant⑦②">8.4.33. Select All Referenced Remote From Agent</a>
    <li><a href="#ref-for-referenced-data-grant⑦③">8.4.34. Select Specific Remote Agent Data Grants</a> <a href="#ref-for-referenced-data-grant⑦④">(2)</a> <a href="#ref-for-referenced-data-grant⑦⑤">(3)</a>
    <li><a href="#ref-for-referenced-data-grant⑦⑥">8.4.35. Select Specific Referenced Remote Agent Data Instances</a> <a href="#ref-for-referenced-data-grant⑦⑦">(2)</a> <a href="#ref-for-referenced-data-grant⑦⑧">(3)</a>
    <li><a href="#ref-for-referenced-data-grant⑦⑨">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-referenced-data-grant⑧⓪">(2)</a> <a href="#ref-for-referenced-data-grant⑧①">(3)</a> <a href="#ref-for-referenced-data-grant⑧②">(4)</a> <a href="#ref-for-referenced-data-grant⑧③">(5)</a>
    <li><a href="#ref-for-referenced-data-grant⑧④">10.3. Resource Hierarchy</a> <a href="#ref-for-referenced-data-grant⑧⑤">(2)</a>
    <li><a href="#ref-for-referenced-data-grant⑧⑥">10.4.3. Update Remote Data</a> <a href="#ref-for-referenced-data-grant⑧⑦">(2)</a> <a href="#ref-for-referenced-data-grant⑧⑧">(3)</a> <a href="#ref-for-referenced-data-grant⑧⑨">(4)</a> <a href="#ref-for-referenced-data-grant⑨⓪">(5)</a> <a href="#ref-for-referenced-data-grant⑨①">(6)</a>
    <li><a href="#ref-for-referenced-data-grant⑨②">10.4.6. Update Remote Agent Data Registration</a> <a href="#ref-for-referenced-data-grant⑨③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remote-data-grant">
   <b><a href="#remote-data-grant">#remote-data-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remote-data-grant">6.2.1.2. Presenting a Data Access Need</a>
    <li><a href="#ref-for-remote-data-grant①">7.2.2. Access Need</a>
    <li><a href="#ref-for-remote-data-grant②">8.2.4. Access Grant</a> <a href="#ref-for-remote-data-grant③">(2)</a>
    <li><a href="#ref-for-remote-data-grant④">8.2.8. Remote Data Grant</a> <a href="#ref-for-remote-data-grant⑤">(2)</a> <a href="#ref-for-remote-data-grant⑥">(3)</a> <a href="#ref-for-remote-data-grant⑦">(4)</a> <a href="#ref-for-remote-data-grant⑧">(5)</a> <a href="#ref-for-remote-data-grant⑨">(6)</a> <a href="#ref-for-remote-data-grant①⓪">(7)</a> <a href="#ref-for-remote-data-grant①①">(8)</a> <a href="#ref-for-remote-data-grant①②">(9)</a> <a href="#ref-for-remote-data-grant①③">(10)</a> <a href="#ref-for-remote-data-grant①④">(11)</a>
    <li><a href="#ref-for-remote-data-grant①⑤">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-remote-data-grant①⑥">(2)</a> <a href="#ref-for-remote-data-grant①⑦">(3)</a> <a href="#ref-for-remote-data-grant①⑧">(4)</a> <a href="#ref-for-remote-data-grant①⑨">(5)</a>
    <li><a href="#ref-for-remote-data-grant②⓪">8.2.11. Access Invitation</a>
    <li><a href="#ref-for-remote-data-grant②①">8.4. Operations</a> <a href="#ref-for-remote-data-grant②②">(2)</a> <a href="#ref-for-remote-data-grant②③">(3)</a>
    <li><a href="#ref-for-remote-data-grant②④">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-remote-data-grant②⑤">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-remote-data-grant②⑥">8.4.4. Initialize Remote Data Grant</a> <a href="#ref-for-remote-data-grant②⑦">(2)</a> <a href="#ref-for-remote-data-grant②⑧">(3)</a> <a href="#ref-for-remote-data-grant②⑨">(4)</a> <a href="#ref-for-remote-data-grant③⓪">(5)</a>
    <li><a href="#ref-for-remote-data-grant③①">8.4.12. Apply Permissions</a>
    <li><a href="#ref-for-remote-data-grant③②">8.4.16. Apply Remote Data Permissions</a> <a href="#ref-for-remote-data-grant③③">(2)</a> <a href="#ref-for-remote-data-grant③④">(3)</a> <a href="#ref-for-remote-data-grant③⑤">(4)</a> <a href="#ref-for-remote-data-grant③⑥">(5)</a> <a href="#ref-for-remote-data-grant③⑦">(6)</a>
    <li><a href="#ref-for-remote-data-grant③⑧">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-remote-data-grant③⑨">(2)</a> <a href="#ref-for-remote-data-grant④⓪">(3)</a>
    <li><a href="#ref-for-remote-data-grant④①">8.4.30. Select All Remote Instances</a> <a href="#ref-for-remote-data-grant④②">(2)</a>
    <li><a href="#ref-for-remote-data-grant④③">8.4.31. Select All Referenced Remote Instances</a>
    <li><a href="#ref-for-remote-data-grant④④">8.4.32. Select All Remote From Agent</a> <a href="#ref-for-remote-data-grant④⑤">(2)</a>
    <li><a href="#ref-for-remote-data-grant④⑥">8.4.33. Select All Referenced Remote From Agent</a>
    <li><a href="#ref-for-remote-data-grant④⑦">8.4.34. Select Specific Remote Agent Data Grants</a> <a href="#ref-for-remote-data-grant④⑧">(2)</a>
    <li><a href="#ref-for-remote-data-grant④⑨">8.4.35. Select Specific Referenced Remote Agent Data Instances</a>
    <li><a href="#ref-for-remote-data-grant⑤⓪">8.4.36. Deny Remote Data Grant</a> <a href="#ref-for-remote-data-grant⑤①">(2)</a>
    <li><a href="#ref-for-remote-data-grant⑤②">9.2.3. Access Receipt</a> <a href="#ref-for-remote-data-grant⑤③">(2)</a>
    <li><a href="#ref-for-remote-data-grant⑤④">9.4.2. Provide Receipt in Application Registration</a>
    <li><a href="#ref-for-remote-data-grant⑤⑤">9.4.3. Provide Receipt in Message</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="referenced-remote-data-grant">
   <b><a href="#referenced-remote-data-grant">#referenced-remote-data-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-referenced-remote-data-grant">6.2.1.2. Presenting a Data Access Need</a>
    <li><a href="#ref-for-referenced-remote-data-grant①">7.2.3. Referenced Access Need</a>
    <li><a href="#ref-for-referenced-remote-data-grant②">8.2.8. Remote Data Grant</a> <a href="#ref-for-referenced-remote-data-grant③">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant④">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-referenced-remote-data-grant⑤">(2)</a> <a href="#ref-for-referenced-remote-data-grant⑥">(3)</a> <a href="#ref-for-referenced-remote-data-grant⑦">(4)</a> <a href="#ref-for-referenced-remote-data-grant⑧">(5)</a> <a href="#ref-for-referenced-remote-data-grant⑨">(6)</a> <a href="#ref-for-referenced-remote-data-grant①⓪">(7)</a> <a href="#ref-for-referenced-remote-data-grant①①">(8)</a> <a href="#ref-for-referenced-remote-data-grant①②">(9)</a> <a href="#ref-for-referenced-remote-data-grant①③">(10)</a>
    <li><a href="#ref-for-referenced-remote-data-grant①④">8.4.4. Initialize Remote Data Grant</a> <a href="#ref-for-referenced-remote-data-grant①⑤">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant①⑥">8.4.16. Apply Remote Data Permissions</a> <a href="#ref-for-referenced-remote-data-grant①⑦">(2)</a> <a href="#ref-for-referenced-remote-data-grant①⑧">(3)</a> <a href="#ref-for-referenced-remote-data-grant①⑨">(4)</a> <a href="#ref-for-referenced-remote-data-grant②⓪">(5)</a> <a href="#ref-for-referenced-remote-data-grant②①">(6)</a>
    <li><a href="#ref-for-referenced-remote-data-grant②②">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-referenced-remote-data-grant②③">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant②④">8.4.30. Select All Remote Instances</a>
    <li><a href="#ref-for-referenced-remote-data-grant②⑤">8.4.31. Select All Referenced Remote Instances</a> <a href="#ref-for-referenced-remote-data-grant②⑥">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant②⑦">8.4.32. Select All Remote From Agent</a>
    <li><a href="#ref-for-referenced-remote-data-grant②⑧">8.4.33. Select All Referenced Remote From Agent</a> <a href="#ref-for-referenced-remote-data-grant②⑨">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant③⓪">8.4.35. Select Specific Referenced Remote Agent Data Instances</a> <a href="#ref-for-referenced-remote-data-grant③①">(2)</a>
    <li><a href="#ref-for-referenced-remote-data-grant③②">8.4.36. Deny Remote Data Grant</a>
    <li><a href="#ref-for-referenced-remote-data-grant③③">8.4.37. Deny Referenced Remote Data Grant</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="trusted-grant">
   <b><a href="#trusted-grant">#trusted-grant</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trusted-grant">6.2.1.3. Presenting a Trusted Need</a>
    <li><a href="#ref-for-trusted-grant①">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-trusted-grant②">8.1. Overview</a>
    <li><a href="#ref-for-trusted-grant③">8.2.4. Access Grant</a> <a href="#ref-for-trusted-grant④">(2)</a>
    <li><a href="#ref-for-trusted-grant⑤">8.2.10. Trusted Grant</a> <a href="#ref-for-trusted-grant⑥">(2)</a> <a href="#ref-for-trusted-grant⑦">(3)</a> <a href="#ref-for-trusted-grant⑧">(4)</a> <a href="#ref-for-trusted-grant⑨">(5)</a> <a href="#ref-for-trusted-grant①⓪">(6)</a> <a href="#ref-for-trusted-grant①①">(7)</a>
    <li><a href="#ref-for-trusted-grant①②">8.2.11. Access Invitation</a> <a href="#ref-for-trusted-grant①③">(2)</a>
    <li><a href="#ref-for-trusted-grant①④">8.4. Operations</a> <a href="#ref-for-trusted-grant①⑤">(2)</a> <a href="#ref-for-trusted-grant①⑥">(3)</a>
    <li><a href="#ref-for-trusted-grant①⑦">8.4.1. Initialize Grant</a>
    <li><a href="#ref-for-trusted-grant①⑧">8.4.2. Initialize Invitation</a>
    <li><a href="#ref-for-trusted-grant①⑨">8.4.5. Initialize Trusted Grant</a> <a href="#ref-for-trusted-grant②⓪">(2)</a> <a href="#ref-for-trusted-grant②①">(3)</a> <a href="#ref-for-trusted-grant②②">(4)</a> <a href="#ref-for-trusted-grant②③">(5)</a>
    <li><a href="#ref-for-trusted-grant②④">8.4.12. Apply Permissions</a>
    <li><a href="#ref-for-trusted-grant②⑤">8.4.18. Apply Trusted Permissions</a> <a href="#ref-for-trusted-grant②⑥">(2)</a> <a href="#ref-for-trusted-grant②⑦">(3)</a> <a href="#ref-for-trusted-grant②⑧">(4)</a> <a href="#ref-for-trusted-grant②⑨">(5)</a>
    <li><a href="#ref-for-trusted-grant③⓪">8.4.38. Select Trusted Registry Set</a> <a href="#ref-for-trusted-grant③①">(2)</a>
    <li><a href="#ref-for-trusted-grant③②">8.4.39. Select Specific Trusted Registry</a> <a href="#ref-for-trusted-grant③③">(2)</a>
    <li><a href="#ref-for-trusted-grant③④">8.4.40. Deny Trusted Grant</a> <a href="#ref-for-trusted-grant③⑤">(2)</a>
    <li><a href="#ref-for-trusted-grant③⑥">9.2.3. Access Receipt</a> <a href="#ref-for-trusted-grant③⑦">(2)</a>
    <li><a href="#ref-for-trusted-grant③⑧">9.4.2. Provide Receipt in Application Registration</a>
    <li><a href="#ref-for-trusted-grant③⑨">9.4.3. Provide Receipt in Message</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="trusted-agent">
   <b><a href="#trusted-agent">#trusted-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trusted-agent">2.4. Permission Model</a>
    <li><a href="#ref-for-trusted-agent①">4.4. Permission Model</a>
    <li><a href="#ref-for-trusted-agent②">5.4. Permission Model</a> <a href="#ref-for-trusted-agent③">(2)</a>
    <li><a href="#ref-for-trusted-agent④">6.2.2. Application Requests Access</a>
    <li><a href="#ref-for-trusted-agent⑤">6.2.4. Controller Shares Access</a>
    <li><a href="#ref-for-trusted-agent⑥">6.2.5. Controller Shares Access with Invited Agent</a>
    <li><a href="#ref-for-trusted-agent⑦">9.2.3. Access Receipt</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-invitation">
   <b><a href="#access-invitation">#access-invitation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-invitation">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-invitation①">(2)</a> <a href="#ref-for-access-invitation②">(3)</a> <a href="#ref-for-access-invitation③">(4)</a> <a href="#ref-for-access-invitation④">(5)</a>
    <li><a href="#ref-for-access-invitation⑤">8.1. Overview</a>
    <li><a href="#ref-for-access-invitation⑥">8.2.1. Summary</a>
    <li><a href="#ref-for-access-invitation⑦">8.2.3. Access Grant Registry</a>
    <li><a href="#ref-for-access-invitation⑧">8.2.11. Access Invitation</a> <a href="#ref-for-access-invitation⑨">(2)</a> <a href="#ref-for-access-invitation①⓪">(3)</a> <a href="#ref-for-access-invitation①①">(4)</a> <a href="#ref-for-access-invitation①②">(5)</a> <a href="#ref-for-access-invitation①③">(6)</a> <a href="#ref-for-access-invitation①④">(7)</a> <a href="#ref-for-access-invitation①⑤">(8)</a> <a href="#ref-for-access-invitation①⑥">(9)</a> <a href="#ref-for-access-invitation①⑦">(10)</a> <a href="#ref-for-access-invitation①⑧">(11)</a> <a href="#ref-for-access-invitation①⑨">(12)</a>
    <li><a href="#ref-for-access-invitation②⓪">8.2.12. Access Invitation Channel</a>
    <li><a href="#ref-for-access-invitation②①">8.4. Operations</a> <a href="#ref-for-access-invitation②②">(2)</a> <a href="#ref-for-access-invitation②③">(3)</a> <a href="#ref-for-access-invitation②④">(4)</a> <a href="#ref-for-access-invitation②⑤">(5)</a> <a href="#ref-for-access-invitation②⑥">(6)</a>
    <li><a href="#ref-for-access-invitation②⑦">8.4.2. Initialize Invitation</a> <a href="#ref-for-access-invitation②⑧">(2)</a> <a href="#ref-for-access-invitation②⑨">(3)</a> <a href="#ref-for-access-invitation③⓪">(4)</a>
    <li><a href="#ref-for-access-invitation③①">8.4.7. Load Invitation</a> <a href="#ref-for-access-invitation③②">(2)</a> <a href="#ref-for-access-invitation③③">(3)</a> <a href="#ref-for-access-invitation③④">(4)</a>
    <li><a href="#ref-for-access-invitation③⑤">8.4.9. Record Invitation</a> <a href="#ref-for-access-invitation③⑥">(2)</a> <a href="#ref-for-access-invitation③⑦">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-invitation-channel">
   <b><a href="#access-invitation-channel">#access-invitation-channel</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-invitation-channel">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-invitation-channel①">(2)</a> <a href="#ref-for-access-invitation-channel②">(3)</a> <a href="#ref-for-access-invitation-channel③">(4)</a> <a href="#ref-for-access-invitation-channel④">(5)</a> <a href="#ref-for-access-invitation-channel⑤">(6)</a>
    <li><a href="#ref-for-access-invitation-channel⑥">8.2.11. Access Invitation</a> <a href="#ref-for-access-invitation-channel⑦">(2)</a>
    <li><a href="#ref-for-access-invitation-channel⑧">8.2.12. Access Invitation Channel</a>
    <li><a href="#ref-for-access-invitation-channel⑨">8.4. Operations</a>
    <li><a href="#ref-for-access-invitation-channel①⓪">8.4.2. Initialize Invitation</a> <a href="#ref-for-access-invitation-channel①①">(2)</a> <a href="#ref-for-access-invitation-channel①②">(3)</a>
    <li><a href="#ref-for-access-invitation-channel①③">8.4.7. Load Invitation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-receipt-registry-set">
   <b><a href="#access-receipt-registry-set">#access-receipt-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-receipt-registry-set">2.2.2. Agent</a>
    <li><a href="#ref-for-access-receipt-registry-set①">9.2.1. Access Receipt Registry Set</a>
    <li><a href="#ref-for-access-receipt-registry-set②">9.3. Resource Hierarchy</a> <a href="#ref-for-access-receipt-registry-set③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-receipt-registry">
   <b><a href="#access-receipt-registry">#access-receipt-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-receipt-registry">6.2.3. Another Agent Requests Access</a>
    <li><a href="#ref-for-access-receipt-registry①">6.2.4. Controller Shares Access</a>
    <li><a href="#ref-for-access-receipt-registry②">9.1. Overview</a>
    <li><a href="#ref-for-access-receipt-registry③">9.2.1. Access Receipt Registry Set</a> <a href="#ref-for-access-receipt-registry④">(2)</a> <a href="#ref-for-access-receipt-registry⑤">(3)</a>
    <li><a href="#ref-for-access-receipt-registry⑥">9.2.2. Access Receipt Registry</a>
    <li><a href="#ref-for-access-receipt-registry⑦">9.3. Resource Hierarchy</a> <a href="#ref-for-access-receipt-registry⑧">(2)</a>
    <li><a href="#ref-for-access-receipt-registry⑨">9.4.4. Record Access Receipt</a>
    <li><a href="#ref-for-access-receipt-registry①⓪">9.4.5. Load Access Receipt</a> <a href="#ref-for-access-receipt-registry①①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-receipt">
   <b><a href="#access-receipt">#access-receipt</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-receipt">2.2.2. Agent</a>
    <li><a href="#ref-for-access-receipt①">3.2.2. Application</a>
    <li><a href="#ref-for-access-receipt②">4.2.4. Application Registration</a> <a href="#ref-for-access-receipt③">(2)</a>
    <li><a href="#ref-for-access-receipt④">4.4. Permission Model</a> <a href="#ref-for-access-receipt⑤">(2)</a> <a href="#ref-for-access-receipt⑥">(3)</a> <a href="#ref-for-access-receipt⑦">(4)</a>
    <li><a href="#ref-for-access-receipt⑧">5.4. Permission Model</a>
    <li><a href="#ref-for-access-receipt⑨">6.2.2. Application Requests Access</a> <a href="#ref-for-access-receipt①⓪">(2)</a>
    <li><a href="#ref-for-access-receipt①①">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-access-receipt①②">(2)</a> <a href="#ref-for-access-receipt①③">(3)</a> <a href="#ref-for-access-receipt①④">(4)</a> <a href="#ref-for-access-receipt①⑤">(5)</a> <a href="#ref-for-access-receipt①⑥">(6)</a> <a href="#ref-for-access-receipt①⑦">(7)</a>
    <li><a href="#ref-for-access-receipt①⑧">6.2.4. Controller Shares Access</a> <a href="#ref-for-access-receipt①⑨">(2)</a> <a href="#ref-for-access-receipt②⓪">(3)</a> <a href="#ref-for-access-receipt②①">(4)</a> <a href="#ref-for-access-receipt②②">(5)</a> <a href="#ref-for-access-receipt②③">(6)</a> <a href="#ref-for-access-receipt②④">(7)</a>
    <li><a href="#ref-for-access-receipt②⑤">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-access-receipt②⑥">(2)</a>
    <li><a href="#ref-for-access-receipt②⑦">8.2.8. Remote Data Grant</a> <a href="#ref-for-access-receipt②⑧">(2)</a>
    <li><a href="#ref-for-access-receipt②⑨">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-access-receipt③⓪">(2)</a>
    <li><a href="#ref-for-access-receipt③①">8.4.8. Record Grant</a> <a href="#ref-for-access-receipt③②">(2)</a>
    <li><a href="#ref-for-access-receipt③③">9.1. Overview</a> <a href="#ref-for-access-receipt③④">(2)</a> <a href="#ref-for-access-receipt③⑤">(3)</a> <a href="#ref-for-access-receipt③⑥">(4)</a> <a href="#ref-for-access-receipt③⑦">(5)</a>
    <li><a href="#ref-for-access-receipt③⑧">9.2.2. Access Receipt Registry</a> <a href="#ref-for-access-receipt③⑨">(2)</a> <a href="#ref-for-access-receipt④⓪">(3)</a>
    <li><a href="#ref-for-access-receipt④①">9.2.3. Access Receipt</a> <a href="#ref-for-access-receipt④②">(2)</a> <a href="#ref-for-access-receipt④③">(3)</a> <a href="#ref-for-access-receipt④④">(4)</a> <a href="#ref-for-access-receipt④⑤">(5)</a> <a href="#ref-for-access-receipt④⑥">(6)</a> <a href="#ref-for-access-receipt④⑦">(7)</a> <a href="#ref-for-access-receipt④⑧">(8)</a> <a href="#ref-for-access-receipt④⑨">(9)</a> <a href="#ref-for-access-receipt⑤⓪">(10)</a> <a href="#ref-for-access-receipt⑤①">(11)</a> <a href="#ref-for-access-receipt⑤②">(12)</a> <a href="#ref-for-access-receipt⑤③">(13)</a>
    <li><a href="#ref-for-access-receipt⑤④">9.3. Resource Hierarchy</a>
    <li><a href="#ref-for-access-receipt⑤⑤">9.4.1. Provide Access Receipt</a> <a href="#ref-for-access-receipt⑤⑥">(2)</a> <a href="#ref-for-access-receipt⑤⑦">(3)</a>
    <li><a href="#ref-for-access-receipt⑤⑧">9.4.2. Provide Receipt in Application Registration</a> <a href="#ref-for-access-receipt⑤⑨">(2)</a> <a href="#ref-for-access-receipt⑥⓪">(3)</a>
    <li><a href="#ref-for-access-receipt⑥①">9.4.3. Provide Receipt in Message</a> <a href="#ref-for-access-receipt⑥②">(2)</a> <a href="#ref-for-access-receipt⑥③">(3)</a>
    <li><a href="#ref-for-access-receipt⑥④">9.4.4. Record Access Receipt</a> <a href="#ref-for-access-receipt⑥⑤">(2)</a> <a href="#ref-for-access-receipt⑥⑥">(3)</a> <a href="#ref-for-access-receipt⑥⑦">(4)</a> <a href="#ref-for-access-receipt⑥⑧">(5)</a>
    <li><a href="#ref-for-access-receipt⑥⑨">9.4.5. Load Access Receipt</a> <a href="#ref-for-access-receipt⑦⓪">(2)</a> <a href="#ref-for-access-receipt⑦①">(3)</a>
    <li><a href="#ref-for-access-receipt⑦②">10.1. Overview</a> <a href="#ref-for-access-receipt⑦③">(2)</a>
    <li><a href="#ref-for-access-receipt⑦④">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-access-receipt⑦⑤">(2)</a> <a href="#ref-for-access-receipt⑦⑥">(3)</a> <a href="#ref-for-access-receipt⑦⑦">(4)</a> <a href="#ref-for-access-receipt⑦⑧">(5)</a>
    <li><a href="#ref-for-access-receipt⑦⑨">10.3. Resource Hierarchy</a>
    <li><a href="#ref-for-access-receipt⑧⓪">10.4. Operations</a>
    <li><a href="#ref-for-access-receipt⑧①">10.4.3. Update Remote Data</a> <a href="#ref-for-access-receipt⑧②">(2)</a> <a href="#ref-for-access-receipt⑧③">(3)</a>
    <li><a href="#ref-for-access-receipt⑧④">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-access-receipt⑧⑤">(2)</a>
    <li><a href="#ref-for-access-receipt⑧⑥">10.4.6. Update Remote Agent Data Registration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remote-data-registry-set">
   <b><a href="#remote-data-registry-set">#remote-data-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remote-data-registry-set">2.2.2. Agent</a>
    <li><a href="#ref-for-remote-data-registry-set①">10.2.1. Remote Data Registry Set</a>
    <li><a href="#ref-for-remote-data-registry-set②">10.3. Resource Hierarchy</a> <a href="#ref-for-remote-data-registry-set③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remote-data-registry">
   <b><a href="#remote-data-registry">#remote-data-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remote-data-registry">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-remote-data-registry①">(2)</a>
    <li><a href="#ref-for-remote-data-registry②">6.2.3. Another Agent Requests Access</a>
    <li><a href="#ref-for-remote-data-registry③">6.2.4. Controller Shares Access</a>
    <li><a href="#ref-for-remote-data-registry④">7.1. Overview</a>
    <li><a href="#ref-for-remote-data-registry⑤">7.2.2. Access Need</a>
    <li><a href="#ref-for-remote-data-registry⑥">8.2.4. Access Grant</a>
    <li><a href="#ref-for-remote-data-registry⑦">9.1. Overview</a>
    <li><a href="#ref-for-remote-data-registry⑧">9.4.4. Record Access Receipt</a> <a href="#ref-for-remote-data-registry⑨">(2)</a>
    <li><a href="#ref-for-remote-data-registry①⓪">10.1. Overview</a>
    <li><a href="#ref-for-remote-data-registry①①">10.2.1. Remote Data Registry Set</a> <a href="#ref-for-remote-data-registry①②">(2)</a> <a href="#ref-for-remote-data-registry①③">(3)</a>
    <li><a href="#ref-for-remote-data-registry①④">10.2.2. Remote Data Registry</a>
    <li><a href="#ref-for-remote-data-registry①⑤">10.3. Resource Hierarchy</a> <a href="#ref-for-remote-data-registry①⑥">(2)</a>
    <li><a href="#ref-for-remote-data-registry①⑦">10.4. Operations</a>
    <li><a href="#ref-for-remote-data-registry①⑧">10.4.1. Load Remote Data Registration</a> <a href="#ref-for-remote-data-registry①⑨">(2)</a>
    <li><a href="#ref-for-remote-data-registry②⓪">10.4.2. Create Remote Data Registration</a> <a href="#ref-for-remote-data-registry②①">(2)</a>
    <li><a href="#ref-for-remote-data-registry②②">10.4.3. Update Remote Data</a> <a href="#ref-for-remote-data-registry②③">(2)</a>
    <li><a href="#ref-for-remote-data-registry②④">10.4.4. Load Remote Agent Data Registration</a> <a href="#ref-for-remote-data-registry②⑤">(2)</a>
    <li><a href="#ref-for-remote-data-registry②⑥">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-remote-data-registry②⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remote-data-registration">
   <b><a href="#remote-data-registration">#remote-data-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remote-data-registration">8.2.8. Remote Data Grant</a> <a href="#ref-for-remote-data-registration①">(2)</a> <a href="#ref-for-remote-data-registration②">(3)</a> <a href="#ref-for-remote-data-registration③">(4)</a> <a href="#ref-for-remote-data-registration④">(5)</a> <a href="#ref-for-remote-data-registration⑤">(6)</a> <a href="#ref-for-remote-data-registration⑥">(7)</a>
    <li><a href="#ref-for-remote-data-registration⑦">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-remote-data-registration⑧">(2)</a> <a href="#ref-for-remote-data-registration⑨">(3)</a> <a href="#ref-for-remote-data-registration①⓪">(4)</a> <a href="#ref-for-remote-data-registration①①">(5)</a> <a href="#ref-for-remote-data-registration①②">(6)</a> <a href="#ref-for-remote-data-registration①③">(7)</a>
    <li><a href="#ref-for-remote-data-registration①④">8.4. Operations</a>
    <li><a href="#ref-for-remote-data-registration①⑤">8.4.16. Apply Remote Data Permissions</a> <a href="#ref-for-remote-data-registration①⑥">(2)</a> <a href="#ref-for-remote-data-registration①⑦">(3)</a> <a href="#ref-for-remote-data-registration①⑧">(4)</a> <a href="#ref-for-remote-data-registration①⑨">(5)</a>
    <li><a href="#ref-for-remote-data-registration②⓪">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-remote-data-registration②①">(2)</a> <a href="#ref-for-remote-data-registration②②">(3)</a>
    <li><a href="#ref-for-remote-data-registration②③">10.2.2. Remote Data Registry</a> <a href="#ref-for-remote-data-registration②④">(2)</a> <a href="#ref-for-remote-data-registration②⑤">(3)</a>
    <li><a href="#ref-for-remote-data-registration②⑥">10.2.3. Remote Data Registration</a> <a href="#ref-for-remote-data-registration②⑦">(2)</a> <a href="#ref-for-remote-data-registration②⑧">(3)</a> <a href="#ref-for-remote-data-registration②⑨">(4)</a> <a href="#ref-for-remote-data-registration③⓪">(5)</a>
    <li><a href="#ref-for-remote-data-registration③①">10.3. Resource Hierarchy</a> <a href="#ref-for-remote-data-registration③②">(2)</a>
    <li><a href="#ref-for-remote-data-registration③③">10.4. Operations</a> <a href="#ref-for-remote-data-registration③④">(2)</a>
    <li><a href="#ref-for-remote-data-registration③⑤">10.4.1. Load Remote Data Registration</a> <a href="#ref-for-remote-data-registration③⑥">(2)</a> <a href="#ref-for-remote-data-registration③⑦">(3)</a> <a href="#ref-for-remote-data-registration③⑧">(4)</a> <a href="#ref-for-remote-data-registration③⑨">(5)</a>
    <li><a href="#ref-for-remote-data-registration④⓪">10.4.2. Create Remote Data Registration</a> <a href="#ref-for-remote-data-registration④①">(2)</a> <a href="#ref-for-remote-data-registration④②">(3)</a> <a href="#ref-for-remote-data-registration④③">(4)</a> <a href="#ref-for-remote-data-registration④④">(5)</a> <a href="#ref-for-remote-data-registration④⑤">(6)</a>
    <li><a href="#ref-for-remote-data-registration④⑥">10.4.4. Load Remote Agent Data Registration</a>
    <li><a href="#ref-for-remote-data-registration④⑦">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-remote-data-registration④⑧">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remote-agent-data-registration">
   <b><a href="#remote-agent-data-registration">#remote-agent-data-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remote-agent-data-registration">6.2.1.2. Presenting a Data Access Need</a> <a href="#ref-for-remote-agent-data-registration①">(2)</a> <a href="#ref-for-remote-agent-data-registration②">(3)</a> <a href="#ref-for-remote-agent-data-registration③">(4)</a>
    <li><a href="#ref-for-remote-agent-data-registration④">8.2.8. Remote Data Grant</a> <a href="#ref-for-remote-agent-data-registration⑤">(2)</a> <a href="#ref-for-remote-agent-data-registration⑥">(3)</a> <a href="#ref-for-remote-agent-data-registration⑦">(4)</a> <a href="#ref-for-remote-agent-data-registration⑧">(5)</a> <a href="#ref-for-remote-agent-data-registration⑨">(6)</a> <a href="#ref-for-remote-agent-data-registration①⓪">(7)</a> <a href="#ref-for-remote-agent-data-registration①①">(8)</a> <a href="#ref-for-remote-agent-data-registration①②">(9)</a> <a href="#ref-for-remote-agent-data-registration①③">(10)</a>
    <li><a href="#ref-for-remote-agent-data-registration①④">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-remote-agent-data-registration①⑤">(2)</a> <a href="#ref-for-remote-agent-data-registration①⑥">(3)</a> <a href="#ref-for-remote-agent-data-registration①⑦">(4)</a> <a href="#ref-for-remote-agent-data-registration①⑧">(5)</a> <a href="#ref-for-remote-agent-data-registration①⑨">(6)</a> <a href="#ref-for-remote-agent-data-registration②⓪">(7)</a> <a href="#ref-for-remote-agent-data-registration②①">(8)</a> <a href="#ref-for-remote-agent-data-registration②②">(9)</a> <a href="#ref-for-remote-agent-data-registration②③">(10)</a>
    <li><a href="#ref-for-remote-agent-data-registration②④">8.4.17. Apply Remote Data Registration Permissions</a> <a href="#ref-for-remote-agent-data-registration②⑤">(2)</a> <a href="#ref-for-remote-agent-data-registration②⑥">(3)</a> <a href="#ref-for-remote-agent-data-registration②⑦">(4)</a> <a href="#ref-for-remote-agent-data-registration②⑧">(5)</a> <a href="#ref-for-remote-agent-data-registration②⑨">(6)</a>
    <li><a href="#ref-for-remote-agent-data-registration③⓪">8.4.30. Select All Remote Instances</a>
    <li><a href="#ref-for-remote-agent-data-registration③①">8.4.31. Select All Referenced Remote Instances</a>
    <li><a href="#ref-for-remote-agent-data-registration③②">8.4.32. Select All Remote From Agent</a> <a href="#ref-for-remote-agent-data-registration③③">(2)</a>
    <li><a href="#ref-for-remote-agent-data-registration③④">8.4.33. Select All Referenced Remote From Agent</a> <a href="#ref-for-remote-agent-data-registration③⑤">(2)</a>
    <li><a href="#ref-for-remote-agent-data-registration③⑥">8.4.34. Select Specific Remote Agent Data Grants</a>
    <li><a href="#ref-for-remote-agent-data-registration③⑦">8.4.35. Select Specific Referenced Remote Agent Data Instances</a>
    <li><a href="#ref-for-remote-agent-data-registration③⑧">10.2.3. Remote Data Registration</a> <a href="#ref-for-remote-agent-data-registration③⑨">(2)</a> <a href="#ref-for-remote-agent-data-registration④⓪">(3)</a> <a href="#ref-for-remote-agent-data-registration④①">(4)</a> <a href="#ref-for-remote-agent-data-registration④②">(5)</a>
    <li><a href="#ref-for-remote-agent-data-registration④③">10.2.4. Remote Agent Data Registration</a> <a href="#ref-for-remote-agent-data-registration④④">(2)</a> <a href="#ref-for-remote-agent-data-registration④⑤">(3)</a> <a href="#ref-for-remote-agent-data-registration④⑥">(4)</a> <a href="#ref-for-remote-agent-data-registration④⑦">(5)</a> <a href="#ref-for-remote-agent-data-registration④⑧">(6)</a> <a href="#ref-for-remote-agent-data-registration④⑨">(7)</a> <a href="#ref-for-remote-agent-data-registration⑤⓪">(8)</a> <a href="#ref-for-remote-agent-data-registration⑤①">(9)</a> <a href="#ref-for-remote-agent-data-registration⑤②">(10)</a>
    <li><a href="#ref-for-remote-agent-data-registration⑤③">10.3. Resource Hierarchy</a> <a href="#ref-for-remote-agent-data-registration⑤④">(2)</a> <a href="#ref-for-remote-agent-data-registration⑤⑤">(3)</a> <a href="#ref-for-remote-agent-data-registration⑤⑥">(4)</a>
    <li><a href="#ref-for-remote-agent-data-registration⑤⑦">10.4. Operations</a> <a href="#ref-for-remote-agent-data-registration⑤⑧">(2)</a> <a href="#ref-for-remote-agent-data-registration⑤⑨">(3)</a>
    <li><a href="#ref-for-remote-agent-data-registration⑥⓪">10.4.4. Load Remote Agent Data Registration</a> <a href="#ref-for-remote-agent-data-registration⑥①">(2)</a> <a href="#ref-for-remote-agent-data-registration⑥②">(3)</a>
    <li><a href="#ref-for-remote-agent-data-registration⑥③">10.4.5. Create Remote Agent Data Registration</a> <a href="#ref-for-remote-agent-data-registration⑥④">(2)</a> <a href="#ref-for-remote-agent-data-registration⑥⑤">(3)</a>
    <li><a href="#ref-for-remote-agent-data-registration⑥⑥">10.4.6. Update Remote Agent Data Registration</a> <a href="#ref-for-remote-agent-data-registration⑥⑦">(2)</a> <a href="#ref-for-remote-agent-data-registration⑥⑧">(3)</a> <a href="#ref-for-remote-agent-data-registration⑥⑨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="strongly-identifiable-applications">
   <b><a href="#strongly-identifiable-applications">#strongly-identifiable-applications</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-strongly-identifiable-applications">6.2.1. Presenting an Access Grant</a>
    <li><a href="#ref-for-strongly-identifiable-applications①">11.1. Application Authorization</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="weakly-identifiable-applications">
   <b><a href="#weakly-identifiable-applications">#weakly-identifiable-applications</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-weakly-identifiable-applications">6.2.1. Presenting an Access Grant</a>
    <li><a href="#ref-for-weakly-identifiable-applications①">11.1. Application Authorization</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="solid">
   <b><a href="#solid">#solid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-solid">12. Definitions</a> <a href="#ref-for-solid①">(2)</a> <a href="#ref-for-solid②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="pod">
   <b><a href="#pod">#pod</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-pod">4.2.3. Application Registry</a>
    <li><a href="#ref-for-pod①">4.3. Resource Hierarchy</a>
    <li><a href="#ref-for-pod②">5.3. Resource Hierarchy</a>
    <li><a href="#ref-for-pod③">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-pod④">(2)</a>
    <li><a href="#ref-for-pod⑤">8.2.3. Access Grant Registry</a>
    <li><a href="#ref-for-pod⑥">8.3. Resource Hierarchy</a>
    <li><a href="#ref-for-pod⑦">9.2.2. Access Receipt Registry</a>
    <li><a href="#ref-for-pod⑧">9.3. Resource Hierarchy</a>
    <li><a href="#ref-for-pod⑨">10.2.2. Remote Data Registry</a>
    <li><a href="#ref-for-pod①⓪">10.3. Resource Hierarchy</a>
    <li><a href="#ref-for-pod①①">12. Definitions</a> <a href="#ref-for-pod①②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ecosystem">
   <b><a href="#ecosystem">#ecosystem</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ecosystem">2.1. Overview</a>
    <li><a href="#ref-for-ecosystem①">5.4. Permission Model</a>
    <li><a href="#ref-for-ecosystem②">6.1. Overview</a>
    <li><a href="#ref-for-ecosystem③">7.1. Overview</a>
    <li><a href="#ref-for-ecosystem④">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="server-side-application">
   <b><a href="#server-side-application">#server-side-application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-server-side-application">11.1. Application Authorization</a>
    <li><a href="#ref-for-server-side-application①">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-piloted-application">
   <b><a href="#user-piloted-application">#user-piloted-application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-piloted-application">12. Definitions</a> <a href="#ref-for-user-piloted-application①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticated-agent">
   <b><a href="#authenticated-agent">#authenticated-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticated-agent">12. Definitions</a> <a href="#ref-for-authenticated-agent①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity">
   <b><a href="#identity">#identity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity">2.1. Overview</a> <a href="#ref-for-identity①">(2)</a> <a href="#ref-for-identity②">(3)</a>
    <li><a href="#ref-for-identity③">2.2.2. Agent</a>
    <li><a href="#ref-for-identity④">3.1. Overview</a> <a href="#ref-for-identity⑤">(2)</a>
    <li><a href="#ref-for-identity⑥">4.3. Resource Hierarchy</a>
    <li><a href="#ref-for-identity⑦">4.5.1.3. Operation Details</a> <a href="#ref-for-identity⑧">(2)</a> <a href="#ref-for-identity⑨">(3)</a>
    <li><a href="#ref-for-identity①⓪">4.5.2.3. Operation Details</a> <a href="#ref-for-identity①①">(2)</a> <a href="#ref-for-identity①②">(3)</a>
    <li><a href="#ref-for-identity①③">5.5.2. Create Data Registration</a>
    <li><a href="#ref-for-identity①④">6.2.2. Application Requests Access</a> <a href="#ref-for-identity①⑤">(2)</a>
    <li><a href="#ref-for-identity①⑥">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-identity①⑦">(2)</a> <a href="#ref-for-identity①⑧">(3)</a> <a href="#ref-for-identity①⑨">(4)</a>
    <li><a href="#ref-for-identity②⓪">6.2.4. Controller Shares Access</a> <a href="#ref-for-identity②①">(2)</a>
    <li><a href="#ref-for-identity②②">6.2.5. Controller Shares Access with Invited Agent</a> <a href="#ref-for-identity②③">(2)</a> <a href="#ref-for-identity②④">(3)</a>
    <li><a href="#ref-for-identity②⑤">8.1. Overview</a>
    <li><a href="#ref-for-identity②⑥">8.2.4. Access Grant</a>
    <li><a href="#ref-for-identity②⑦">8.2.10. Trusted Grant</a>
    <li><a href="#ref-for-identity②⑧">8.2.11. Access Invitation</a>
    <li><a href="#ref-for-identity②⑨">11.1. Application Authorization</a> <a href="#ref-for-identity③⓪">(2)</a> <a href="#ref-for-identity③①">(3)</a> <a href="#ref-for-identity③②">(4)</a>
    <li><a href="#ref-for-identity③③">12. Definitions</a> <a href="#ref-for-identity③④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity-profile-document">
   <b><a href="#identity-profile-document">#identity-profile-document</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity-profile-document">2.4. Permission Model</a>
    <li><a href="#ref-for-identity-profile-document①">3.4. Permission Model</a>
    <li><a href="#ref-for-identity-profile-document②">4.5.1.3. Operation Details</a>
    <li><a href="#ref-for-identity-profile-document③">6.2.2. Application Requests Access</a>
    <li><a href="#ref-for-identity-profile-document④">6.2.3. Another Agent Requests Access</a> <a href="#ref-for-identity-profile-document⑤">(2)</a> <a href="#ref-for-identity-profile-document⑥">(3)</a> <a href="#ref-for-identity-profile-document⑦">(4)</a> <a href="#ref-for-identity-profile-document⑧">(5)</a>
    <li><a href="#ref-for-identity-profile-document⑨">6.2.4. Controller Shares Access</a> <a href="#ref-for-identity-profile-document①⓪">(2)</a>
    <li><a href="#ref-for-identity-profile-document①①">6.2.5. Controller Shares Access with Invited Agent</a>
    <li><a href="#ref-for-identity-profile-document①②">7.1. Overview</a>
    <li><a href="#ref-for-identity-profile-document①③">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-identity-profile-document①④">12. Definitions</a> <a href="#ref-for-identity-profile-document①⑤">(2)</a> <a href="#ref-for-identity-profile-document①⑥">(3)</a> <a href="#ref-for-identity-profile-document①⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webid">
   <b><a href="#webid">#webid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webid">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="did">
   <b><a href="#did">#did</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-did">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-identity">
   <b><a href="#application-identity">#application-identity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-identity">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-profile-document">
   <b><a href="#application-profile-document">#application-profile-document</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-profile-document">6.2.2. Application Requests Access</a>
    <li><a href="#ref-for-application-profile-document①">6.2.3. Another Agent Requests Access</a>
    <li><a href="#ref-for-application-profile-document②">6.2.4. Controller Shares Access</a>
    <li><a href="#ref-for-application-profile-document③">6.2.5. Controller Shares Access with Invited Agent</a>
    <li><a href="#ref-for-application-profile-document④">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="acl-resource">
   <b><a href="#acl-resource">#acl-resource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-acl-resource">8.4.21. Remove Resource Permissions</a>
    <li><a href="#ref-for-acl-resource①">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="access-mode">
   <b><a href="#access-mode">#access-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-access-mode">5.4.1. Access to a Data Registration</a>
    <li><a href="#ref-for-access-mode①">5.4.2. Access to Specific Data Instances</a>
    <li><a href="#ref-for-access-mode②">7.2.2. Access Need</a>
    <li><a href="#ref-for-access-mode③">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-access-mode④">8.4.14. Apply Data Registration Permissions</a> <a href="#ref-for-access-mode⑤">(2)</a> <a href="#ref-for-access-mode⑥">(3)</a>
    <li><a href="#ref-for-access-mode⑦">8.4.18. Apply Trusted Permissions</a>
    <li><a href="#ref-for-access-mode⑧">8.4.19. Apply Resource Permissions</a>
    <li><a href="#ref-for-access-mode⑨">8.4.20. Apply Conditional Resource Permissions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authorization-subject">
   <b><a href="#authorization-subject">#authorization-subject</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authorization-subject">12. Definitions</a> <a href="#ref-for-authorization-subject①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authorization-statement">
   <b><a href="#authorization-statement">#authorization-statement</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authorization-statement">8.4.19. Apply Resource Permissions</a>
    <li><a href="#ref-for-authorization-statement①">8.4.20. Apply Conditional Resource Permissions</a>
    <li><a href="#ref-for-authorization-statement②">8.4.21. Remove Resource Permissions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape">
   <b><a href="#shape">#shape</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape">1. Introduction</a>
    <li><a href="#ref-for-shape①">4.1. Overview</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape-tree">
   <b><a href="#shape-tree">#shape-tree</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape-tree">1. Introduction</a>
    <li><a href="#ref-for-shape-tree①">4.1. Overview</a>
    <li><a href="#ref-for-shape-tree②">5.2.3. Data Registry</a>
    <li><a href="#ref-for-shape-tree③">5.2.4. Data Registration</a> <a href="#ref-for-shape-tree④">(2)</a> <a href="#ref-for-shape-tree⑤">(3)</a>
    <li><a href="#ref-for-shape-tree⑥">5.3. Resource Hierarchy</a> <a href="#ref-for-shape-tree⑦">(2)</a> <a href="#ref-for-shape-tree⑧">(3)</a> <a href="#ref-for-shape-tree⑨">(4)</a> <a href="#ref-for-shape-tree①⓪">(5)</a>
    <li><a href="#ref-for-shape-tree①①">5.4. Permission Model</a>
    <li><a href="#ref-for-shape-tree①②">5.5.1. Load Data Registration</a> <a href="#ref-for-shape-tree①③">(2)</a>
    <li><a href="#ref-for-shape-tree①④">5.5.2. Create Data Registration</a> <a href="#ref-for-shape-tree①⑤">(2)</a>
    <li><a href="#ref-for-shape-tree①⑥">5.5.3. Create Data Instance</a>
    <li><a href="#ref-for-shape-tree①⑦">6.2.1.2. Presenting a Data Access Need</a>
    <li><a href="#ref-for-shape-tree①⑧">7.1. Overview</a>
    <li><a href="#ref-for-shape-tree①⑨">7.2.2. Access Need</a> <a href="#ref-for-shape-tree②⓪">(2)</a> <a href="#ref-for-shape-tree②①">(3)</a> <a href="#ref-for-shape-tree②②">(4)</a> <a href="#ref-for-shape-tree②③">(5)</a> <a href="#ref-for-shape-tree②④">(6)</a> <a href="#ref-for-shape-tree②⑤">(7)</a> <a href="#ref-for-shape-tree②⑥">(8)</a> <a href="#ref-for-shape-tree②⑦">(9)</a> <a href="#ref-for-shape-tree②⑧">(10)</a> <a href="#ref-for-shape-tree②⑨">(11)</a> <a href="#ref-for-shape-tree③⓪">(12)</a> <a href="#ref-for-shape-tree③①">(13)</a> <a href="#ref-for-shape-tree③②">(14)</a> <a href="#ref-for-shape-tree③③">(15)</a>
    <li><a href="#ref-for-shape-tree③④">7.2.3. Referenced Access Need</a> <a href="#ref-for-shape-tree③⑤">(2)</a> <a href="#ref-for-shape-tree③⑥">(3)</a> <a href="#ref-for-shape-tree③⑦">(4)</a> <a href="#ref-for-shape-tree③⑧">(5)</a> <a href="#ref-for-shape-tree③⑨">(6)</a> <a href="#ref-for-shape-tree④⓪">(7)</a> <a href="#ref-for-shape-tree④①">(8)</a>
    <li><a href="#ref-for-shape-tree④②">7.2.4. Trusted Need</a>
    <li><a href="#ref-for-shape-tree④③">7.2.7.2. Access Need Decorator</a>
    <li><a href="#ref-for-shape-tree④④">8.2.6. Data Grant</a> <a href="#ref-for-shape-tree④⑤">(2)</a>
    <li><a href="#ref-for-shape-tree④⑥">8.2.7. Referenced Data Grant</a> <a href="#ref-for-shape-tree④⑦">(2)</a> <a href="#ref-for-shape-tree④⑧">(3)</a>
    <li><a href="#ref-for-shape-tree④⑨">8.2.8. Remote Data Grant</a> <a href="#ref-for-shape-tree⑤⓪">(2)</a> <a href="#ref-for-shape-tree⑤①">(3)</a>
    <li><a href="#ref-for-shape-tree⑤②">8.2.9. Referenced Remote Data Grant</a> <a href="#ref-for-shape-tree⑤③">(2)</a> <a href="#ref-for-shape-tree⑤④">(3)</a>
    <li><a href="#ref-for-shape-tree⑤⑤">8.4.15. Get Shape Tree Reference</a> <a href="#ref-for-shape-tree⑤⑥">(2)</a> <a href="#ref-for-shape-tree⑤⑦">(3)</a> <a href="#ref-for-shape-tree⑤⑧">(4)</a>
    <li><a href="#ref-for-shape-tree⑤⑨">10.2.3. Remote Data Registration</a> <a href="#ref-for-shape-tree⑥⓪">(2)</a>
    <li><a href="#ref-for-shape-tree⑥①">10.4. Operations</a>
    <li><a href="#ref-for-shape-tree⑥②">10.4.1. Load Remote Data Registration</a> <a href="#ref-for-shape-tree⑥③">(2)</a>
    <li><a href="#ref-for-shape-tree⑥④">10.4.2. Create Remote Data Registration</a> <a href="#ref-for-shape-tree⑥⑤">(2)</a>
    <li><a href="#ref-for-shape-tree⑥⑥">12. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape-tree-decorator">
   <b><a href="#shape-tree-decorator">#shape-tree-decorator</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape-tree-decorator">6.2.1.2.1. Presenting Data Access Need Details</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape-tree-reference">
   <b><a href="#shape-tree-reference">#shape-tree-reference</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape-tree-reference">8.2.6. Data Grant</a>
    <li><a href="#ref-for-shape-tree-reference①">8.2.7. Referenced Data Grant</a>
    <li><a href="#ref-for-shape-tree-reference②">8.2.8. Remote Data Grant</a>
    <li><a href="#ref-for-shape-tree-reference③">8.4.14. Apply Data Registration Permissions</a>
    <li><a href="#ref-for-shape-tree-reference④">8.4.15. Get Shape Tree Reference</a> <a href="#ref-for-shape-tree-reference⑤">(2)</a> <a href="#ref-for-shape-tree-reference⑥">(3)</a> <a href="#ref-for-shape-tree-reference⑦">(4)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>